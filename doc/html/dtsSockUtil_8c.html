<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>DTS: dtsSockUtil.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.9 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>dtsSockUtil.c File Reference</h1><a class="el" href="structDTS.html">DTS</a> socket utilities.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;pthread.h&gt;</code><br>
<code>#include &lt;stdlib.h&gt;</code><br>
<code>#include &lt;stdio.h&gt;</code><br>
<code>#include &lt;string.h&gt;</code><br>
<code>#include &lt;unistd.h&gt;</code><br>
<code>#include &lt;netdb.h&gt;</code><br>
<code>#include &lt;ctype.h&gt;</code><br>
<code>#include &lt;sys/types.h&gt;</code><br>
<code>#include &lt;sys/stat.h&gt;</code><br>
<code>#include &lt;sys/time.h&gt;</code><br>
<code>#include &lt;sys/select.h&gt;</code><br>
<code>#include &lt;fcntl.h&gt;</code><br>
<code>#include &lt;sys/errno.h&gt;</code><br>
<code>#include &lt;sys/socket.h&gt;</code><br>
<code>#include &lt;netinet/in.h&gt;</code><br>
<code>#include &lt;arpa/inet.h&gt;</code><br>
<code>#include &quot;dts.h&quot;</code><br>
<code>#include &quot;dtsUDT.h&quot;</code><br>
<code>#include &quot;dtsPSock.h&quot;</code><br>
<code>#include &quot;udtc.h&quot;</code><br>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="d72dbcf6d0153db1b8d8a58001feed83"></a><!-- doxytag: member="dtsSockUtil.c::DEBUG" ref="d72dbcf6d0153db1b8d8a58001feed83" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>DEBUG</b>&nbsp;&nbsp;&nbsp;0</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dtsSockUtil_8c.html#63ba7b9916f965cde541ce0db8b4b389">dts_setNonBlock</a> (int sock)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dtsSockUtil_8c.html#8b6025ff1d9995e2925bc1b92ec9f957">dts_setBlock</a> (int sock)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dtsSockUtil_8c.html#9ea8fc6acb9adb85051c1d315bb4433d">dts_openServerSocket</a> (int port)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Open a socket to be used on the 'server' side.  <a href="#9ea8fc6acb9adb85051c1d315bb4433d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dtsSockUtil_8c.html#277191a31b268b7a69dd1f78c8cc76a4">dts_testServerSocket</a> (int port)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Test whether a server socket is in use.  <a href="#277191a31b268b7a69dd1f78c8cc76a4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dtsSockUtil_8c.html#63041fe9517df067ef010c8569ae1707">dts_getOpenPort</a> (int port, int maxTries)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get an open server port.  <a href="#63041fe9517df067ef010c8569ae1707"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dtsSockUtil_8c.html#c8979317fc16c84d258129c6eeea1427">dts_openClientSocket</a> (char *host, int port, int retry)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Open a socket to be used on the 'client' side.  <a href="#c8979317fc16c84d258129c6eeea1427"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ea7e7c1326fdcbc8ddea7683615fe982"></a><!-- doxytag: member="dtsSockUtil.c::dts_openUDTServerSocket" ref="ea7e7c1326fdcbc8ddea7683615fe982" args="(int port, int rate)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>dts_openUDTServerSocket</b> (int port, int rate)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dtsSockUtil_8c.html#e8cc48087dff5b28765e1dc49ed6cf20">dts_openUDTClientSocket</a> (char *host, int port, int retry)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Open a socket to be used on the 'client' side.  <a href="#e8cc48087dff5b28765e1dc49ed6cf20"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dtsSockUtil_8c.html#fba12b2495ba9dd8175c80409222c51d">dts_sockRead</a> (int fd, void *vptr, int nbytes)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Recv exactly "n" bytes from a socket descriptor.  <a href="#fba12b2495ba9dd8175c80409222c51d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dtsSockUtil_8c.html#e2d35a7eb30bce58ebf4bb9c5d139a13">dts_sockWrite</a> (int fd, void *vptr, int nbytes)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send exactly "n" bytes to a socket descriptor.  <a href="#e2d35a7eb30bce58ebf4bb9c5d139a13"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dtsSockUtil_8c.html#6ad8bc0d104122e2b54d8c51c698f63e">dts_udtRead</a> (int fd, void *vptr, long nbytes, int flags)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Recv exactly "n" bytes from a UDT socket descriptor.  <a href="#6ad8bc0d104122e2b54d8c51c698f63e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dtsSockUtil_8c.html#bf651aeb86fa07f122bb1a70db9b89ad">dts_udtWrite</a> (int fd, void *vptr, long nbytes, int flags)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send exactly "n" bytes to a UDT socket descriptor.  <a href="#bf651aeb86fa07f122bb1a70db9b89ad"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="90f43ff66249c34fa1e9d1a87f7e0eef"></a><!-- doxytag: member="dtsSockUtil.c::cs_mut" ref="90f43ff66249c34fa1e9d1a87f7e0eef" args="" -->
pthread_mutex_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>cs_mut</b> = PTHREAD_MUTEX_INITIALIZER</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a5395fbabc3e53792ad85c7ae11181e8"></a><!-- doxytag: member="dtsSockUtil.c::ss_mut" ref="a5395fbabc3e53792ad85c7ae11181e8" args="" -->
pthread_mutex_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>ss_mut</b> = PTHREAD_MUTEX_INITIALIZER</td></tr>

</table>
<hr><h2>Detailed Description</h2>
<a class="el" href="structDTS.html">DTS</a> socket utilities. 
<p>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Mike Fitzpatrick, NOAO </dd></dl>
<dl class="date" compact><dt><b>Date:</b></dt><dd>6/10/09 </dd></dl>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="63041fe9517df067ef010c8569ae1707"></a><!-- doxytag: member="dtsSockUtil.c::dts_getOpenPort" ref="63041fe9517df067ef010c8569ae1707" args="(int port, int maxTries)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dts_getOpenPort           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>maxTries</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get an open server port. 
<p>
dts_getOpenPort -- Get an open server port. The input port is a high value, if not immediately open we decrement the port up to the max number of attempts.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>port</em>&nbsp;</td><td>initial port number to open (high value) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>maxTries</em>&nbsp;</td><td>max ports to test </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>open port number </dd></dl>

<p>References <a class="el" href="dtsSockUtil_8c_source.html#l00144">dts_testServerSocket()</a>.</p>

</div>
</div><p>
<a class="anchor" name="c8979317fc16c84d258129c6eeea1427"></a><!-- doxytag: member="dtsSockUtil.c::dts_openClientSocket" ref="c8979317fc16c84d258129c6eeea1427" args="(char *host, int port, int retry)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dts_openClientSocket           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>retry</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Open a socket to be used on the 'client' side. 
<p>
dts_openClientSocket -- Open a socket to be used on the 'client' side.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>host</em>&nbsp;</td><td>host name </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>port</em>&nbsp;</td><td>port number to open </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>retry</em>&nbsp;</td><td>attempt to reconnect? </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>socket descriptor </dd></dl>

<p>References <a class="el" href="dtsUtil_8c_source.html#l00461">dts_getHostByName()</a>, and <a class="el" href="dtsUtil_8c_source.html#l00354">dts_getLocalIP()</a>.</p>

<p>Referenced by <a class="el" href="dtsCommands_8c_source.html#l02500">dts_hostContact()</a>, <a class="el" href="dtsPSock_8c_source.html#l00397">psReceiveFile()</a>, and <a class="el" href="dtsPSock_8c_source.html#l00211">psSendFile()</a>.</p>

</div>
</div><p>
<a class="anchor" name="9ea8fc6acb9adb85051c1d315bb4433d"></a><!-- doxytag: member="dtsSockUtil.c::dts_openServerSocket" ref="9ea8fc6acb9adb85051c1d315bb4433d" args="(int port)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dts_openServerSocket           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>port</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Open a socket to be used on the 'server' side. 
<p>
dts_openServerSocket -- Open a socket to be used on the 'server' side.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>port</em>&nbsp;</td><td>port number to open </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>socket descriptor </dd></dl>

<p>References <a class="el" href="dtsUtil_8c_source.html#l00354">dts_getLocalIP()</a>, and <a class="el" href="dtsLog_8c_source.html#l00301">dtsErrLog()</a>.</p>

<p>Referenced by <a class="el" href="dtsPSock_8c_source.html#l00397">psReceiveFile()</a>, and <a class="el" href="dtsPSock_8c_source.html#l00211">psSendFile()</a>.</p>

</div>
</div><p>
<a class="anchor" name="e8cc48087dff5b28765e1dc49ed6cf20"></a><!-- doxytag: member="dtsSockUtil.c::dts_openUDTClientSocket" ref="e8cc48087dff5b28765e1dc49ed6cf20" args="(char *host, int port, int retry)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dts_openUDTClientSocket           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>retry</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Open a socket to be used on the 'client' side. 
<p>
dts_openUDTClientSocket -- Open a socket to be used on the 'client' side.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>host</em>&nbsp;</td><td>host name </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>port</em>&nbsp;</td><td>port number to open </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>retry</em>&nbsp;</td><td>attempt to reconnect? </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>socket descriptor </dd></dl>

<p>References <a class="el" href="dtsUtil_8c_source.html#l00461">dts_getHostByName()</a>, and <a class="el" href="dtsUtil_8c_source.html#l00354">dts_getLocalIP()</a>.</p>

<p>Referenced by <a class="el" href="dtsUDT_8c_source.html#l00403">udtReceiveFile()</a>, and <a class="el" href="dtsUDT_8c_source.html#l00216">udtSendFile()</a>.</p>

</div>
</div><p>
<a class="anchor" name="8b6025ff1d9995e2925bc1b92ec9f957"></a><!-- doxytag: member="dtsSockUtil.c::dts_setBlock" ref="8b6025ff1d9995e2925bc1b92ec9f957" args="(int sock)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dts_setBlock           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>sock</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
DTS_SETBLOCK -- Set a blocking mode on the descriptor. 
</div>
</div><p>
<a class="anchor" name="63ba7b9916f965cde541ce0db8b4b389"></a><!-- doxytag: member="dtsSockUtil.c::dts_setNonBlock" ref="63ba7b9916f965cde541ce0db8b4b389" args="(int sock)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dts_setNonBlock           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>sock</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
DTS_SETNONBLOCK -- Set a non-blocking mode on the descriptor. 
<p>Referenced by <a class="el" href="dtsFileUtil_8c_source.html#l00398">dts_fileWrite()</a>, <a class="el" href="dtsSockUtil_8c_source.html#l00514">dts_sockRead()</a>, <a class="el" href="dtsSockUtil_8c_source.html#l00597">dts_sockWrite()</a>, and <a class="el" href="dtsSockUtil_8c_source.html#l00802">dts_udtWrite()</a>.</p>

</div>
</div><p>
<a class="anchor" name="fba12b2495ba9dd8175c80409222c51d"></a><!-- doxytag: member="dtsSockUtil.c::dts_sockRead" ref="fba12b2495ba9dd8175c80409222c51d" args="(int fd, void *vptr, int nbytes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dts_sockRead           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>vptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>nbytes</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Recv exactly "n" bytes from a socket descriptor. 
<p>
DTS_SOCKREAD -- Read exactly "n" bytes from a socket descriptor.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fd</em>&nbsp;</td><td>file descriptor </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>vptr</em>&nbsp;</td><td>data buffer to be written </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>nbytes</em>&nbsp;</td><td>number of bytes to write </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>number of bytes written </dd></dl>

<p>References <a class="el" href="dtsSockUtil_8c.html#63ba7b9916f965cde541ce0db8b4b389">dts_setNonBlock()</a>, <a class="el" href="dtsLog_8c_source.html#l00301">dtsErrLog()</a>, and <a class="el" href="dtsPSock_8c_source.html#l00046">psock_checksum_policy</a>.</p>

<p>Referenced by <a class="el" href="dtsPSock_8c_source.html#l00786">psReceiveStripe()</a>, and <a class="el" href="dtsPSock_8c_source.html#l00604">psSendStripe()</a>.</p>

</div>
</div><p>
<a class="anchor" name="e2d35a7eb30bce58ebf4bb9c5d139a13"></a><!-- doxytag: member="dtsSockUtil.c::dts_sockWrite" ref="e2d35a7eb30bce58ebf4bb9c5d139a13" args="(int fd, void *vptr, int nbytes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dts_sockWrite           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>vptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>nbytes</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Send exactly "n" bytes to a socket descriptor. 
<p>
DTS_SOCKWRITE -- Write exactly "n" bytes to a socket descriptor.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fd</em>&nbsp;</td><td>file descriptor </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>vptr</em>&nbsp;</td><td>data buffer to be written </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>nbytes</em>&nbsp;</td><td>number of bytes to write </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>number of bytes written </dd></dl>

<p>References <a class="el" href="dtsSockUtil_8c.html#63ba7b9916f965cde541ce0db8b4b389">dts_setNonBlock()</a>, <a class="el" href="dtsLog_8c_source.html#l00301">dtsErrLog()</a>, and <a class="el" href="dtsPSock_8c_source.html#l00046">psock_checksum_policy</a>.</p>

<p>Referenced by <a class="el" href="dtsPSock_8c_source.html#l00786">psReceiveStripe()</a>, and <a class="el" href="dtsPSock_8c_source.html#l00604">psSendStripe()</a>.</p>

</div>
</div><p>
<a class="anchor" name="277191a31b268b7a69dd1f78c8cc76a4"></a><!-- doxytag: member="dtsSockUtil.c::dts_testServerSocket" ref="277191a31b268b7a69dd1f78c8cc76a4" args="(int port)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dts_testServerSocket           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>port</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Test whether a server socket is in use. 
<p>
dts_testServerSocket -- Test whether a server socket is in use.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>port</em>&nbsp;</td><td>port number to open </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>status (0=free, 1=in-use) </dd></dl>

<p>Referenced by <a class="el" href="dtsSockUtil_8c_source.html#l00192">dts_getOpenPort()</a>.</p>

</div>
</div><p>
<a class="anchor" name="6ad8bc0d104122e2b54d8c51c698f63e"></a><!-- doxytag: member="dtsSockUtil.c::dts_udtRead" ref="6ad8bc0d104122e2b54d8c51c698f63e" args="(int fd, void *vptr, long nbytes, int flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dts_udtRead           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>vptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&nbsp;</td>
          <td class="paramname"> <em>nbytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Recv exactly "n" bytes from a UDT socket descriptor. 
<p>
DTS_UDTREAD -- Read exactly "n" bytes from a UDT socket descriptor.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fd</em>&nbsp;</td><td>file descriptor </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>vptr</em>&nbsp;</td><td>data buffer to be written </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>nbytes</em>&nbsp;</td><td>number of bytes to write </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>flags</em>&nbsp;</td><td>option flags </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>number of bytes written </dd></dl>

<p>References <a class="el" href="dtsLog_8c_source.html#l00301">dtsErrLog()</a>, and <a class="el" href="dtsUDT_8c_source.html#l00048">udt_checksum_policy</a>.</p>

<p>Referenced by <a class="el" href="dtsUDT_8c_source.html#l00696">udtReceiveStripe()</a>.</p>

</div>
</div><p>
<a class="anchor" name="bf651aeb86fa07f122bb1a70db9b89ad"></a><!-- doxytag: member="dtsSockUtil.c::dts_udtWrite" ref="bf651aeb86fa07f122bb1a70db9b89ad" args="(int fd, void *vptr, long nbytes, int flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dts_udtWrite           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>vptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&nbsp;</td>
          <td class="paramname"> <em>nbytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Send exactly "n" bytes to a UDT socket descriptor. 
<p>
DTS_UDTWRITE -- Write exactly "n" bytes to a UDT socket descriptor.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fd</em>&nbsp;</td><td>file descriptor </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>vptr</em>&nbsp;</td><td>data buffer to be written </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>nbytes</em>&nbsp;</td><td>number of bytes to write </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>flags</em>&nbsp;</td><td>option flags </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>number of bytes written </dd></dl>

<p>References <a class="el" href="dtsSockUtil_8c.html#63ba7b9916f965cde541ce0db8b4b389">dts_setNonBlock()</a>, <a class="el" href="dtsLog_8c_source.html#l00301">dtsErrLog()</a>, and <a class="el" href="dtsUDT_8c_source.html#l00048">udt_checksum_policy</a>.</p>

<p>Referenced by <a class="el" href="dtsUDT_8c_source.html#l00618">udtSendStripe()</a>.</p>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri Apr 11 11:51:12 2014 for DTS by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.9 </small></address>
</body>
</html>

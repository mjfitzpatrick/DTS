<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>DTS: dtsXfer.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.9 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>dtsXfer.c File Reference</h1>Client-callable <a class="el" href="structDTS.html">DTS</a> commands to transfer files TO a remote host machine..  
<a href="#_details">More...</a>
<p>
<code>#include &lt;stdlib.h&gt;</code><br>
<code>#include &lt;stdio.h&gt;</code><br>
<code>#include &lt;unistd.h&gt;</code><br>
<code>#include &lt;string.h&gt;</code><br>
<code>#include &lt;time.h&gt;</code><br>
<code>#include &lt;ctype.h&gt;</code><br>
<code>#include &lt;sys/types.h&gt;</code><br>
<code>#include &lt;sys/stat.h&gt;</code><br>
<code>#include &lt;sys/time.h&gt;</code><br>
<code>#include &lt;dirent.h&gt;</code><br>
<code>#include &lt;fcntl.h&gt;</code><br>
<code>#include &quot;dts.h&quot;</code><br>
<code>#include &quot;dtsPSock.h&quot;</code><br>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dtsXfer_8c.html#bdcf165381649c2da64f6762fe0c2404">dts_hostTo</a> (char *host, int port, int method, int rate, int loPort, int hiPort, int threads, int mode, int argc, char *argv[], <a class="el" href="structxferStat.html">xferStat</a> *xfs)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Push a file to a remote host.  <a href="#bdcf165381649c2da64f6762fe0c2404"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dtsXfer_8c.html#6a2d87ed4280780f66e83234ffd05c9e">dts_hostFrom</a> (char *host, int port, int method, int rate, int loPort, int hiPort, int threads, int mode, int argc, char *argv[], <a class="el" href="structxferStat.html">xferStat</a> *xfs)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Pull a file from a remote host.  <a href="#6a2d87ed4280780f66e83234ffd05c9e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dtsXfer_8c.html#dc8e8c2ce7340c40af7a6a1c01e691b7">dts_xferDirTo</a> (char *host, char *func, int method, int rate, char *path, char *root, char *prefix, <a class="el" href="structxferStat.html">xferStat</a> *xs)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Recursively transfer a directory between hosts.  <a href="#dc8e8c2ce7340c40af7a6a1c01e691b7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dtsXfer_8c.html#357c31d5dbe3458da649ffcf88d77d0b">dts_xferDirFrom</a> (char *srcHost, char *dstHost, int dstLocal, char *func, int method, int rate, char *path, char *root, char *prefix, <a class="el" href="structxferStat.html">xferStat</a> *xs)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Recursively transfer a directory between hosts.  <a href="#357c31d5dbe3458da649ffcf88d77d0b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dtsXfer_8c.html#9f64044d8cc9e4b32c55cd78ee938ca3">dts_xferFile</a> (char *host, char *func, int method, int rate, char *path, int fsize, mode_t fmode, <a class="el" href="structxferStat.html">xferStat</a> *xs)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Transfer a single file between hosts.  <a href="#9f64044d8cc9e4b32c55cd78ee938ca3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dtsXfer_8c.html#4a62be8a33f79734a514dc764d33c9ed">dts_xferParseArgs</a> (int argc, char *argv[], int *nthreads, int *port, int *verbose, char **path_A, char **path_B)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Parse arguments used by the transfer commands.  <a href="#4a62be8a33f79734a514dc764d33c9ed"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dtsXfer_8c.html#2a52937e6d9d8cf78a99351bba900925">dts_xferParsePaths</a> (char *host, char **path_A, char **path_B, int *srcLocal, int *dstLocal, char **src_host, char **dest_host, char **msg_host, char **path)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Parse the paths used by the transfer commands.  <a href="#2a52937e6d9d8cf78a99351bba900925"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="99390fcf722f24689439904d1b546dce"></a><!-- doxytag: member="dtsXfer.c::dts" ref="99390fcf722f24689439904d1b546dce" args="" -->
<a class="el" href="structDTS.html">DTS</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><b>dts</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="d8f21a42bf01c1da76a2fc11f6fb51d6"></a><!-- doxytag: member="dtsXfer.c::dts_monitor" ref="d8f21a42bf01c1da76a2fc11f6fb51d6" args="" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>dts_monitor</b></td></tr>

</table>
<hr><h2>Detailed Description</h2>
Client-callable <a class="el" href="structDTS.html">DTS</a> commands to transfer files TO a remote host machine.. 
<p>
DTSHOTTO.C -- Client-callable <a class="el" href="structDTS.html">DTS</a> commands to transfer files TO a remote host machine..<p>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Mike Fitzpatrick, NOAO </dd></dl>
<dl class="date" compact><dt><b>Date:</b></dt><dd>6/15/09 </dd></dl>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="6a2d87ed4280780f66e83234ffd05c9e"></a><!-- doxytag: member="dtsXfer.c::dts_hostFrom" ref="6a2d87ed4280780f66e83234ffd05c9e" args="(char *host, int port, int method, int rate, int loPort, int hiPort, int threads, int mode, int argc, char *argv[], xferStat *xfs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dts_hostFrom           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>rate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>loPort</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>hiPort</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>threads</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>argv</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structxferStat.html">xferStat</a> *&nbsp;</td>
          <td class="paramname"> <em>xfs</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Pull a file from a remote host. 
<p>
DTS_HOSTFROM -- Pull a file from A to B.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>host</em>&nbsp;</td><td>host machine name (or IP string) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>port</em>&nbsp;</td><td>local <a class="el" href="structDTS.html">DTS</a> command port </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>method</em>&nbsp;</td><td>transport method </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rate</em>&nbsp;</td><td>transport rate (Mbps) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>loPort</em>&nbsp;</td><td>low <a class="el" href="structDTS.html">DTS</a> transfer port </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>hiPort</em>&nbsp;</td><td>high <a class="el" href="structDTS.html">DTS</a> transfer port </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>threads</em>&nbsp;</td><td>number of transfer threads </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mode</em>&nbsp;</td><td>transfer mode </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>argc</em>&nbsp;</td><td>argument counter </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>argv</em>&nbsp;</td><td>argument vector </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>xfs</em>&nbsp;</td><td>transfer stats </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>1 (one) if <a class="el" href="structDTS.html">DTS</a> succeeds. </dd></dl>

<p>References <a class="el" href="dtsCommands_8c.html#da9a1386f1b2804bc68ec2ab9f7ceed6">dts_cmdInit()</a>, <a class="el" href="dtsUtil_8c_source.html#l00354">dts_getLocalIP()</a>, <a class="el" href="dtsCommands_8c_source.html#l00150">dts_hostAccess()</a>, <a class="el" href="dtsCommands_8c_source.html#l00797">dts_hostFMode()</a>, <a class="el" href="dtsCommands_8c_source.html#l00755">dts_hostFSize()</a>, <a class="el" href="dtsCommands_8c_source.html#l00602">dts_hostIsDir()</a>, <a class="el" href="dtsCommands_8c_source.html#l01013">dts_hostMkdir()</a>, <a class="el" href="dtsLocal_8c_source.html#l00401">dts_localMkdir()</a>, <a class="el" href="dtsFileUtil_8c_source.html#l00652">dts_pathDir()</a>, <a class="el" href="dtsFileUtil_8c_source.html#l00692">dts_pathFname()</a>, <a class="el" href="dtsQueueUtil_8c_source.html#l01100">dts_queueFromPath()</a>, <a class="el" href="dtsUtil_8c_source.html#l00699">dts_resolveHost()</a>, <a class="el" href="dtsXfer_8c_source.html#l00587">dts_xferDirFrom()</a>, <a class="el" href="dtsXfer_8c_source.html#l00684">dts_xferFile()</a>, <a class="el" href="dtsXfer_8c_source.html#l00833">dts_xferParseArgs()</a>, and <a class="el" href="dtsLog_8c_source.html#l00069">dtsLog()</a>.</p>

</div>
</div><p>
<a class="anchor" name="bdcf165381649c2da64f6762fe0c2404"></a><!-- doxytag: member="dtsXfer.c::dts_hostTo" ref="bdcf165381649c2da64f6762fe0c2404" args="(char *host, int port, int method, int rate, int loPort, int hiPort, int threads, int mode, int argc, char *argv[], xferStat *xfs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dts_hostTo           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>rate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>loPort</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>hiPort</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>threads</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>argv</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structxferStat.html">xferStat</a> *&nbsp;</td>
          <td class="paramname"> <em>xfs</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Push a file to a remote host. 
<p>
DTS_HOSTTO -- Move a file from A 'to' B (i.e. a "push" or "give").<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>host</em>&nbsp;</td><td>host machine name (or IP string) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>port</em>&nbsp;</td><td>local <a class="el" href="structDTS.html">DTS</a> command port </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>method</em>&nbsp;</td><td>transport method </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rate</em>&nbsp;</td><td>transfer rate (Mbps) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>loPort</em>&nbsp;</td><td>low <a class="el" href="structDTS.html">DTS</a> transfer port </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>hiPort</em>&nbsp;</td><td>high <a class="el" href="structDTS.html">DTS</a> transfer port </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>threads</em>&nbsp;</td><td>number of transfer threads </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mode</em>&nbsp;</td><td>transfer mode </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>argc</em>&nbsp;</td><td>argument counter </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>argv</em>&nbsp;</td><td>argument vector </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>xfs</em>&nbsp;</td><td>transfer stats </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>1 (one) if <a class="el" href="structDTS.html">DTS</a> succeeds. </dd></dl>

<p>References <a class="el" href="dtsCommands_8c.html#da9a1386f1b2804bc68ec2ab9f7ceed6">dts_cmdInit()</a>, <a class="el" href="dtsFileUtil_8c_source.html#l00725">dts_du()</a>, <a class="el" href="dtsUtil_8c_source.html#l00354">dts_getLocalIP()</a>, <a class="el" href="dtsCommands_8c_source.html#l01013">dts_hostMkdir()</a>, <a class="el" href="dtsFileUtil_8c_source.html#l00542">dts_isDir()</a>, <a class="el" href="dtsFileUtil_8c_source.html#l00652">dts_pathDir()</a>, <a class="el" href="dtsFileUtil_8c_source.html#l00692">dts_pathFname()</a>, <a class="el" href="dtsQueueUtil_8c_source.html#l01100">dts_queueFromPath()</a>, <a class="el" href="dtsXfer_8c_source.html#l00477">dts_xferDirTo()</a>, <a class="el" href="dtsXfer_8c_source.html#l00684">dts_xferFile()</a>, <a class="el" href="dtsXfer_8c_source.html#l00833">dts_xferParseArgs()</a>, <a class="el" href="dtsXfer_8c_source.html#l00895">dts_xferParsePaths()</a>, and <a class="el" href="dtsLog_8c_source.html#l00069">dtsLog()</a>.</p>

<p>Referenced by <a class="el" href="dtsQueueUtil_8c_source.html#l00891">dts_queueProcess()</a>.</p>

</div>
</div><p>
<a class="anchor" name="357c31d5dbe3458da649ffcf88d77d0b"></a><!-- doxytag: member="dtsXfer.c::dts_xferDirFrom" ref="357c31d5dbe3458da649ffcf88d77d0b" args="(char *srcHost, char *dstHost, int dstLocal, char *func, int method, int rate, char *path, char *root, char *prefix, xferStat *xs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dts_xferDirFrom           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>srcHost</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>dstHost</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>dstLocal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>rate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structxferStat.html">xferStat</a> *&nbsp;</td>
          <td class="paramname"> <em>xs</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Recursively transfer a directory between hosts. 
<p>
DTS_XFERDIRFROM -- Recursively transfer a directory between hosts.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>srcHost</em>&nbsp;</td><td>source host </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dstHost</em>&nbsp;</td><td>destination host </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dstLocal</em>&nbsp;</td><td>is dest the local machine? </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>func</em>&nbsp;</td><td>RPC method to call </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>method</em>&nbsp;</td><td>transport method </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rate</em>&nbsp;</td><td>transfer rate </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>path to file </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>root</em>&nbsp;</td><td>destination root </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>prefix</em>&nbsp;</td><td>destination path prefix </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>xfs</em>&nbsp;</td><td>transfer stats </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>1 (one) if <a class="el" href="structDTS.html">DTS</a> succeeds. </dd></dl>

<p>References <a class="el" href="dtsCommands_8c_source.html#l00521">dts_hostDir()</a>, <a class="el" href="dtsCommands_8c_source.html#l00797">dts_hostFMode()</a>, <a class="el" href="dtsCommands_8c_source.html#l00755">dts_hostFSize()</a>, <a class="el" href="dtsFileUtil_8c_source.html#l00652">dts_pathDir()</a>, <a class="el" href="dtsFileUtil_8c_source.html#l00692">dts_pathFname()</a>, <a class="el" href="dtsXfer_8c_source.html#l00684">dts_xferFile()</a>, and <a class="el" href="dtsLog_8c_source.html#l00301">dtsErrLog()</a>.</p>

<p>Referenced by <a class="el" href="dtsXfer_8c_source.html#l00286">dts_hostFrom()</a>.</p>

</div>
</div><p>
<a class="anchor" name="dc8e8c2ce7340c40af7a6a1c01e691b7"></a><!-- doxytag: member="dtsXfer.c::dts_xferDirTo" ref="dc8e8c2ce7340c40af7a6a1c01e691b7" args="(char *host, char *func, int method, int rate, char *path, char *root, char *prefix, xferStat *xs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dts_xferDirTo           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>rate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structxferStat.html">xferStat</a> *&nbsp;</td>
          <td class="paramname"> <em>xs</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Recursively transfer a directory between hosts. 
<p>
DTS_XFERDIRTO -- Recursively transfer a directory between hosts.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>host</em>&nbsp;</td><td>host to call </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>func</em>&nbsp;</td><td>RPC method to call </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>method</em>&nbsp;</td><td>transport method </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rate</em>&nbsp;</td><td>transfer rate </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>path to file </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>root</em>&nbsp;</td><td>destination root </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>prefix</em>&nbsp;</td><td>source prefix dir </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>xfs</em>&nbsp;</td><td>transfer stats </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>1 (one) if <a class="el" href="structDTS.html">DTS</a> succeeds. </dd></dl>

<p>References <a class="el" href="dtsCommands_8c_source.html#l00394">dts_hostChmod()</a>, <a class="el" href="dtsCommands_8c_source.html#l01013">dts_hostMkdir()</a>, <a class="el" href="dtsFileUtil_8c_source.html#l00542">dts_isDir()</a>, <a class="el" href="dtsFileUtil_8c_source.html#l00308">dts_nameMode()</a>, <a class="el" href="dtsFileUtil_8c_source.html#l00282">dts_nameSize()</a>, <a class="el" href="dtsFileUtil_8c_source.html#l00652">dts_pathDir()</a>, <a class="el" href="dtsFileUtil_8c_source.html#l00692">dts_pathFname()</a>, <a class="el" href="dtsXfer_8c_source.html#l00684">dts_xferFile()</a>, and <a class="el" href="dtsLog_8c_source.html#l00301">dtsErrLog()</a>.</p>

<p>Referenced by <a class="el" href="dtsXfer_8c_source.html#l00080">dts_hostTo()</a>.</p>

</div>
</div><p>
<a class="anchor" name="9f64044d8cc9e4b32c55cd78ee938ca3"></a><!-- doxytag: member="dtsXfer.c::dts_xferFile" ref="9f64044d8cc9e4b32c55cd78ee938ca3" args="(char *host, char *func, int method, int rate, char *path, int fsize, mode_t fmode, xferStat *xs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dts_xferFile           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>rate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>fsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mode_t&nbsp;</td>
          <td class="paramname"> <em>fmode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structxferStat.html">xferStat</a> *&nbsp;</td>
          <td class="paramname"> <em>xs</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Transfer a single file between hosts. 
<p>
DTS_XFERFILE -- Transfer a single file between hosts.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>host</em>&nbsp;</td><td>client host </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>func</em>&nbsp;</td><td>RPC method to call </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>method</em>&nbsp;</td><td>transport method </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rate</em>&nbsp;</td><td>transfer rate (Mbps) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>path to file </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fsize</em>&nbsp;</td><td>file size </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fmode</em>&nbsp;</td><td>file protection mode </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>xfs</em>&nbsp;</td><td>transfer stats </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>1 (one) if <a class="el" href="structDTS.html">DTS</a> succeeds. </dd></dl>

<p>References <a class="el" href="dtsConfig_8c_source.html#l01271">dts_cfgQMethodStr()</a>, <a class="el" href="dtsCommands_8c_source.html#l02882">dts_closeClient()</a>, <a class="el" href="dtsCommands_8c.html#89206c7f5702993e813f77283e9a5e88">dts_getClient()</a>, <a class="el" href="dtsCommands_8c_source.html#l00394">dts_hostChmod()</a>, <a class="el" href="dtsCommands_8c_source.html#l00602">dts_hostIsDir()</a>, <a class="el" href="dtsCommands_8c_source.html#l01013">dts_hostMkdir()</a>, <a class="el" href="dtsCommands_8c_source.html#l01647">dts_hostTouch()</a>, <a class="el" href="dtsFileUtil_8c_source.html#l00542">dts_isDir()</a>, <a class="el" href="dtsLocal_8c_source.html#l00401">dts_localMkdir()</a>, <a class="el" href="dtsLocal_8c_source.html#l00507">dts_localTouch()</a>, <a class="el" href="dtsFileUtil_8c_source.html#l00308">dts_nameMode()</a>, <a class="el" href="dtsLog_8c_source.html#l00301">dtsErrLog()</a>, <a class="el" href="dtsUtil_8c_source.html#l00941">transferMB()</a>, and <a class="el" href="dtsUtil_8c_source.html#l00919">transferMb()</a>.</p>

<p>Referenced by <a class="el" href="dtsXfer_8c_source.html#l00286">dts_hostFrom()</a>, <a class="el" href="dtsXfer_8c_source.html#l00080">dts_hostTo()</a>, <a class="el" href="dtsXfer_8c_source.html#l00587">dts_xferDirFrom()</a>, and <a class="el" href="dtsXfer_8c_source.html#l00477">dts_xferDirTo()</a>.</p>

</div>
</div><p>
<a class="anchor" name="4a62be8a33f79734a514dc764d33c9ed"></a><!-- doxytag: member="dtsXfer.c::dts_xferParseArgs" ref="4a62be8a33f79734a514dc764d33c9ed" args="(int argc, char *argv[], int *nthreads, int *port, int *verbose, char **path_A, char **path_B)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dts_xferParseArgs           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>argv</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>nthreads</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>verbose</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&nbsp;</td>
          <td class="paramname"> <em>path_A</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&nbsp;</td>
          <td class="paramname"> <em>path_B</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Parse arguments used by the transfer commands. 
<p>
DTS_XFERPARSEARGS -- Parse the arguments used in the push/pull and give/take commands.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>argc</em>&nbsp;</td><td>arg count </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>argv</em>&nbsp;</td><td>arg vector </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>nthreads</em>&nbsp;</td><td>number of processing threads </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>verbose</em>&nbsp;</td><td>verbose flag </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>port</em>&nbsp;</td><td>base transfer port </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>path_A</em>&nbsp;</td><td>src path specification </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>path_B</em>&nbsp;</td><td>dest path specification </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>status code </dd></dl>

<p>Referenced by <a class="el" href="dtsXfer_8c_source.html#l00286">dts_hostFrom()</a>, and <a class="el" href="dtsXfer_8c_source.html#l00080">dts_hostTo()</a>.</p>

</div>
</div><p>
<a class="anchor" name="2a52937e6d9d8cf78a99351bba900925"></a><!-- doxytag: member="dtsXfer.c::dts_xferParsePaths" ref="2a52937e6d9d8cf78a99351bba900925" args="(char *host, char **path_A, char **path_B, int *srcLocal, int *dstLocal, char **src_host, char **dest_host, char **msg_host, char **path)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dts_xferParsePaths           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&nbsp;</td>
          <td class="paramname"> <em>path_A</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&nbsp;</td>
          <td class="paramname"> <em>path_B</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>srcLocal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>dstLocal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&nbsp;</td>
          <td class="paramname"> <em>src_host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&nbsp;</td>
          <td class="paramname"> <em>dest_host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&nbsp;</td>
          <td class="paramname"> <em>msg_host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&nbsp;</td>
          <td class="paramname"> <em>path</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Parse the paths used by the transfer commands. 
<p>
DTS_XFERPARSEPATHS -- Parse the paths used in the transfer.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>host</em>&nbsp;</td><td>host name </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>path_A</em>&nbsp;</td><td>src path specification </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>path_B</em>&nbsp;</td><td>dest path specification </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>srcLocal</em>&nbsp;</td><td>is src local machine? </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dstLocal</em>&nbsp;</td><td>is dest local machine? </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>srcHost</em>&nbsp;</td><td>source host name </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dstHost</em>&nbsp;</td><td>dest host name </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>msgHost</em>&nbsp;</td><td>message host name </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>path name </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>status code </dd></dl>

<p>References <a class="el" href="dtsUtil_8c_source.html#l00354">dts_getLocalIP()</a>, and <a class="el" href="dtsUtil_8c_source.html#l00699">dts_resolveHost()</a>.</p>

<p>Referenced by <a class="el" href="dtsXfer_8c_source.html#l00080">dts_hostTo()</a>.</p>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri Apr 11 11:51:12 2014 for DTS by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.9 </small></address>
</body>
</html>

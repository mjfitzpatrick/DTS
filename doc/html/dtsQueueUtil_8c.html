<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>DTS: dtsQueueUtil.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.9 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>dtsQueueUtil.c File Reference</h1><a class="el" href="structDTS.html">DTS</a> queue utilities.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;stdlib.h&gt;</code><br>
<code>#include &lt;stdio.h&gt;</code><br>
<code>#include &lt;unistd.h&gt;</code><br>
<code>#include &lt;string.h&gt;</code><br>
<code>#include &lt;errno.h&gt;</code><br>
<code>#include &lt;time.h&gt;</code><br>
<code>#include &lt;pthread.h&gt;</code><br>
<code>#include &lt;fcntl.h&gt;</code><br>
<code>#include &lt;ctype.h&gt;</code><br>
<code>#include &lt;stdarg.h&gt;</code><br>
<code>#include &lt;sys/file.h&gt;</code><br>
<code>#include &quot;dtsPSock.h&quot;</code><br>
<code>#include &quot;dts.h&quot;</code><br>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="d72dbcf6d0153db1b8d8a58001feed83"></a><!-- doxytag: member="dtsQueueUtil.c::DEBUG" ref="d72dbcf6d0153db1b8d8a58001feed83" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>DEBUG</b>&nbsp;&nbsp;&nbsp;(dts&amp;&amp;dts-&gt;debug)</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structdtsQueue.html">dtsQueue</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dtsQueueUtil_8c.html#0f9767b8cbca5fac22e998b717243f92">dts_queueLookup</a> (char *qname)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Lookup a <a class="el" href="structDTS.html">DTS</a> queue struct by name.  <a href="#0f9767b8cbca5fac22e998b717243f92"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dtsQueueUtil_8c.html#0fa4dfe5827097014d659624b1a8ad83">dts_getQueuePath</a> (<a class="el" href="structDTS.html">DTS</a> *dts, char *qname)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the path to the spool dir for a given queue.  <a href="#0fa4dfe5827097014d659624b1a8ad83"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a389f588ae2b1b5db89b668c42ca600b"></a><!-- doxytag: member="dtsQueueUtil.c::dts_getQueueLog" ref="a389f588ae2b1b5db89b668c42ca600b" args="(DTS *dts, char *qname, char *logname)" -->
char *&nbsp;</td><td class="memItemRight" valign="bottom"><b>dts_getQueueLog</b> (<a class="el" href="structDTS.html">DTS</a> *dts, char *qname, char *logname)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dtsQueueUtil_8c.html#cb7bc59ae7818ad9ae99daddb010d41f">dts_getNextQueueDir</a> (<a class="el" href="structDTS.html">DTS</a> *dts, char *qname)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the next queue directory name.  <a href="#cb7bc59ae7818ad9ae99daddb010d41f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dtsQueueUtil_8c.html#73d52e9f251e4ba8341197cfeaa33220">dts_queueGetCurrent</a> (char *fname)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the number of the currrently active spool.  <a href="#73d52e9f251e4ba8341197cfeaa33220"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dtsQueueUtil_8c.html#a5be9287fe7d9651d7b6b8c637724f6e">dts_queueSetCurrent</a> (char *fname, int val)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the number of the currrently active spool.  <a href="#a5be9287fe7d9651d7b6b8c637724f6e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dtsQueueUtil_8c.html#a50a352c505bf49190e7ce4f3d5269ad">dts_queueGetNext</a> (char *fname)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the number of the next active spool.  <a href="#a50a352c505bf49190e7ce4f3d5269ad"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dtsQueueUtil_8c.html#2394c654772809059d59000c1a78695f">dts_queueSetNext</a> (char *fname, int val)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the number of the next active spool.  <a href="#2394c654772809059d59000c1a78695f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="80b00b1a575ccc8bab2fa9a403bd92ea"></a><!-- doxytag: member="dtsQueueUtil.c::dts_queueGetInitTime" ref="80b00b1a575ccc8bab2fa9a403bd92ea" args="(dtsQueue *dtsq, int *sec, int *usec)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>dts_queueGetInitTime</b> (<a class="el" href="structdtsQueue.html">dtsQueue</a> *dtsq, int *sec, int *usec)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="3f4c810b4bdc773e2100d5e56feb27b9"></a><!-- doxytag: member="dtsQueueUtil.c::dts_queueSetInitTime" ref="3f4c810b4bdc773e2100d5e56feb27b9" args="(dtsQueue *dtsq, struct timeval t)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>dts_queueSetInitTime</b> (<a class="el" href="structdtsQueue.html">dtsQueue</a> *dtsq, struct timeval t)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dtsQueueUtil_8c.html#3a9487fbe81804ff6222c3d42cafc350">dts_queueCleanup</a> (<a class="el" href="structDTS.html">DTS</a> *dts, <a class="el" href="structdtsQueue.html">dtsQueue</a> *dtsq)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Clean up the spool directory before processing.  <a href="#3a9487fbe81804ff6222c3d42cafc350"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">Control *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dtsQueueUtil_8c.html#660007b7fc91e838c43f3c01eef5a69c">dts_loadControl</a> (char *path, Control *ctrl)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Load the control file into a struct.  <a href="#660007b7fc91e838c43f3c01eef5a69c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dtsQueueUtil_8c.html#aa75fb48a927a363fa3229011020947e">dts_saveControl</a> (Control *ctrl, char *path)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Save the control struct.  <a href="#aa75fb48a927a363fa3229011020947e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dtsQueueUtil_8c.html#6d3903336883756dc7f96213ea5ce89f">dts_logControl</a> (Control *ctrl, int stat, char *path)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Make a log entry of the Control structure.  <a href="#6d3903336883756dc7f96213ea5ce89f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dtsQueueUtil_8c.html#dfc182bc4015562a62870a100e565d1e">dts_printControl</a> (Control *ctrl, FILE *fd)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Print the control struct.  <a href="#dfc182bc4015562a62870a100e565d1e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dtsQueueUtil_8c.html#e2738cc6c2944e8ec59a49ce2c0589fa">dts_fmtQueueCmd</a> (<a class="el" href="structdtsQueue.html">dtsQueue</a> *dtsq, Control *ctrl)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Format a queue delivery command.  <a href="#e2738cc6c2944e8ec59a49ce2c0589fa"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dtsQueueUtil_8c.html#6fb308e1c21f70d133d45c971ae90187">dts_verifyDTS</a> (char *host, char *qname, char *fname)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Verify a <a class="el" href="structDTS.html">DTS</a> queue connection.  <a href="#6fb308e1c21f70d133d45c971ae90187"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dtsQueueUtil_8c.html#9ee1515f2f3ca249a1304b6ae55b684d">dts_queueProcess</a> (<a class="el" href="structdtsQueue.html">dtsQueue</a> *dtsq, char *lpath, char *rpath, char *fname)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Process a file to submit it to the named queue.  <a href="#9ee1515f2f3ca249a1304b6ae55b684d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dtsQueueUtil_8c.html#783947cdd20ef27299d243b1000e2a40">dts_queueInitControl</a> (char *qhost, char *qname, char *qpath, char *opath, char *lfname, char *fname, char *dfname)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize the control structure.  <a href="#783947cdd20ef27299d243b1000e2a40"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dtsQueueUtil_8c.html#aa543bc0d353e733e8eb4642413deea0">dts_queueLock</a> (<a class="el" href="structdtsQueue.html">dtsQueue</a> *dtsq)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the mutex lock on the queue.  <a href="#aa543bc0d353e733e8eb4642413deea0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dtsQueueUtil_8c.html#344597f39e8889629794a6affed0aee2">dts_queueUnlock</a> (<a class="el" href="structdtsQueue.html">dtsQueue</a> *dtsq)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Unset the mutex lock on the queue.  <a href="#344597f39e8889629794a6affed0aee2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dtsQueueUtil_8c.html#8fb26b6766710c4c885d3b7a4715c609">dts_queueFromPath</a> (char *path)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get queue name from a path.  <a href="#8fb26b6766710c4c885d3b7a4715c609"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dtsQueueUtil_8c.html#1e0d4f7f157413b56f8f88ac2bd15376">dts_queueNameFmt</a> (char *qname)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Format a queue name to 6 chars.  <a href="#1e0d4f7f157413b56f8f88ac2bd15376"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dtsQueueUtil_8c.html#bb4729efee8c2245df6a445c50160a11">dts_queueDelete</a> (<a class="el" href="structDTS.html">DTS</a> *dts, char *qpath)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Delete the complete spool directory.  <a href="#bb4729efee8c2245df6a445c50160a11"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dtsQueueUtil_8c.html#11616a1c01cd8b664130c9799f5a2b29">dts_logXFerStats</a> (Control *ctrl, <a class="el" href="structxferStat.html">xferStat</a> *xfs, int stat, char *path)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Make a log entry of the transfer statistics.  <a href="#11616a1c01cd8b664130c9799f5a2b29"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dtsQueueUtil_8c.html#2b168b445e4cb0bc5b483960b33e8dfb">dts_queueSetStats</a> (<a class="el" href="structdtsQueue.html">dtsQueue</a> *dtsq, <a class="el" href="structxferStat.html">xferStat</a> *xfs)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Update the transfer statistics for the queue.  <a href="#2b168b445e4cb0bc5b483960b33e8dfb"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structqueueStat.html">queueStat</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dtsQueueUtil_8c.html#fff347a303e8bd230792419763fc0e7d">dts_queueGetStats</a> (<a class="el" href="structdtsQueue.html">dtsQueue</a> *dtsq)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the stats structure from a queue.  <a href="#fff347a303e8bd230792419763fc0e7d"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="99390fcf722f24689439904d1b546dce"></a><!-- doxytag: member="dtsQueueUtil.c::dts" ref="99390fcf722f24689439904d1b546dce" args="" -->
<a class="el" href="structDTS.html">DTS</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><b>dts</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="d8f21a42bf01c1da76a2fc11f6fb51d6"></a><!-- doxytag: member="dtsQueueUtil.c::dts_monitor" ref="d8f21a42bf01c1da76a2fc11f6fb51d6" args="" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>dts_monitor</b></td></tr>

</table>
<hr><h2>Detailed Description</h2>
<a class="el" href="structDTS.html">DTS</a> queue utilities. 
<p>
DTSQUEUEUTIL.C -- <a class="el" href="structDTS.html">DTS</a> queue utilities.<p>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Mike Fitzpatrick, NOAO </dd></dl>
<dl class="date" compact><dt><b>Date:</b></dt><dd>6/10/09 </dd></dl>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="e2738cc6c2944e8ec59a49ce2c0589fa"></a><!-- doxytag: member="dtsQueueUtil.c::dts_fmtQueueCmd" ref="e2738cc6c2944e8ec59a49ce2c0589fa" args="(dtsQueue *dtsq, Control *ctrl)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* dts_fmtQueueCmd           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdtsQueue.html">dtsQueue</a> *&nbsp;</td>
          <td class="paramname"> <em>dtsq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Control *&nbsp;</td>
          <td class="paramname"> <em>ctrl</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Format a queue delivery command. 
<p>
DTS_FMTQUEUECMD -- Format a queue delivery command.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dtsq</em>&nbsp;</td><td><a class="el" href="structDTS.html">DTS</a> queue structure </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ctrl</em>&nbsp;</td><td>transfer control parameters </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>formatted command string </dd></dl>

<p>References <a class="el" href="dtsDeliver_8c_source.html#l00244">dts_getDeliveryPath()</a>.</p>

<p>Referenced by <a class="el" href="dtsDeliver_8c_source.html#l00059">dts_Deliver()</a>, and <a class="el" href="dtsIngest_8c_source.html#l00052">dts_Ingest()</a>.</p>

</div>
</div><p>
<a class="anchor" name="cb7bc59ae7818ad9ae99daddb010d41f"></a><!-- doxytag: member="dtsQueueUtil.c::dts_getNextQueueDir" ref="cb7bc59ae7818ad9ae99daddb010d41f" args="(DTS *dts, char *qname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* dts_getNextQueueDir           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDTS.html">DTS</a> *&nbsp;</td>
          <td class="paramname"> <em>dts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>qname</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the next queue directory name. 
<p>
DTS_GETNEXTQUEUEDIR -- Get the next queue directory name.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dts</em>&nbsp;</td><td><a class="el" href="structDTS.html">DTS</a> struct pointer </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>qname</em>&nbsp;</td><td>name of the queue </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>path to next working spool dir </dd></dl>

<p>References <a class="el" href="dtsQueueUtil_8c_source.html#l00050">dts_queueLookup()</a>, <a class="el" href="dtsSandbox_8c_source.html#l00042">dts_sandboxPath()</a>, and <a class="el" href="dtsLog_8c_source.html#l00069">dtsLog()</a>.</p>

<p>Referenced by <a class="el" href="dtsMethods_8c_source.html#l03336">dts_initTransfer()</a>, and <a class="el" href="dtsMethods_8c_source.html#l02832">dts_queueAccept()</a>.</p>

</div>
</div><p>
<a class="anchor" name="0fa4dfe5827097014d659624b1a8ad83"></a><!-- doxytag: member="dtsQueueUtil.c::dts_getQueuePath" ref="0fa4dfe5827097014d659624b1a8ad83" args="(DTS *dts, char *qname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* dts_getQueuePath           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDTS.html">DTS</a> *&nbsp;</td>
          <td class="paramname"> <em>dts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>qname</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the path to the spool dir for a given queue. 
<p>
DTS_GETQUEUEPATH -- Get queue path.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dts</em>&nbsp;</td><td><a class="el" href="structDTS.html">DTS</a> struct pointer </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>qname</em>&nbsp;</td><td>name of the queue </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>path to queue directory </dd></dl>

<p>Referenced by <a class="el" href="dtsMethods_8c_source.html#l03336">dts_initTransfer()</a>, and <a class="el" href="dtsMethods_8c_source.html#l02832">dts_queueAccept()</a>.</p>

</div>
</div><p>
<a class="anchor" name="660007b7fc91e838c43f3c01eef5a69c"></a><!-- doxytag: member="dtsQueueUtil.c::dts_loadControl" ref="660007b7fc91e838c43f3c01eef5a69c" args="(char *path, Control *ctrl)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Control* dts_loadControl           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Control *&nbsp;</td>
          <td class="paramname"> <em>ctrl</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Load the control file into a struct. 
<p>
DTS_LOADCONTROL -- Load the control file into a struct.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>path to control file </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ctrl</em>&nbsp;</td><td>pointer to Control struct </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>loaded Control structure </dd></dl>

<p>References <a class="el" href="dtsFileUtil_8c_source.html#l00117">dts_fclose()</a>, <a class="el" href="dtsFileUtil_8c_source.html#l00240">dts_fileSize()</a>, <a class="el" href="dtsFileUtil_8c_source.html#l00086">dts_fopen()</a>, <a class="el" href="dtsUtil_8c_source.html#l01188">dtsGets()</a>, and <a class="el" href="dtsLog_8c_source.html#l00069">dtsLog()</a>.</p>

<p>Referenced by <a class="el" href="dtsMethods_8c_source.html#l03449">dts_endTransfer()</a>.</p>

</div>
</div><p>
<a class="anchor" name="6d3903336883756dc7f96213ea5ce89f"></a><!-- doxytag: member="dtsQueueUtil.c::dts_logControl" ref="6d3903336883756dc7f96213ea5ce89f" args="(Control *ctrl, int stat, char *path)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dts_logControl           </td>
          <td>(</td>
          <td class="paramtype">Control *&nbsp;</td>
          <td class="paramname"> <em>ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>stat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>path</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Make a log entry of the Control structure. 
<p>
DTS_LOGCONTROL -- Make a log entry of the Control structure.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ctrl</em>&nbsp;</td><td>control structure </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>stat</em>&nbsp;</td><td>status flag </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>path to control file </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>OK or ERR code </dd></dl>

<p>References <a class="el" href="dtsFileUtil_8c_source.html#l00117">dts_fclose()</a>, <a class="el" href="dtsFileUtil_8c_source.html#l00086">dts_fopen()</a>, and <a class="el" href="dtsUtil_8c_source.html#l00780">dts_logtime()</a>.</p>

</div>
</div><p>
<a class="anchor" name="11616a1c01cd8b664130c9799f5a2b29"></a><!-- doxytag: member="dtsQueueUtil.c::dts_logXFerStats" ref="11616a1c01cd8b664130c9799f5a2b29" args="(Control *ctrl, xferStat *xfs, int stat, char *path)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dts_logXFerStats           </td>
          <td>(</td>
          <td class="paramtype">Control *&nbsp;</td>
          <td class="paramname"> <em>ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structxferStat.html">xferStat</a> *&nbsp;</td>
          <td class="paramname"> <em>xfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>stat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>path</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Make a log entry of the transfer statistics. 
<p>
DTS_LOGXFERSTATS -- Make a log entry of the transfer statistics<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ctrl</em>&nbsp;</td><td>control structure </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>xfs</em>&nbsp;</td><td>transfer stats structure </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>stat</em>&nbsp;</td><td>status flag </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>path to control file </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>OK or ERR code </dd></dl>

<p>References <a class="el" href="dtsFileUtil_8c_source.html#l00086">dts_fopen()</a>, and <a class="el" href="dtsUtil_8c_source.html#l00780">dts_logtime()</a>.</p>

<p>Referenced by <a class="el" href="dtsMethods_8c_source.html#l03449">dts_endTransfer()</a>.</p>

</div>
</div><p>
<a class="anchor" name="dfc182bc4015562a62870a100e565d1e"></a><!-- doxytag: member="dtsQueueUtil.c::dts_printControl" ref="dfc182bc4015562a62870a100e565d1e" args="(Control *ctrl, FILE *fd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dts_printControl           </td>
          <td>(</td>
          <td class="paramtype">Control *&nbsp;</td>
          <td class="paramname"> <em>ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FILE *&nbsp;</td>
          <td class="paramname"> <em>fd</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Print the control struct. 
<p>
DTS_PRINTCONTROL -- Print the control struct.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>cpath</em>&nbsp;</td><td>path to control file </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fd</em>&nbsp;</td><td>file descriptor to which to write </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>nothing </dd></dl>

<p>Referenced by <a class="el" href="dtsQueueUtil_8c_source.html#l00603">dts_saveControl()</a>.</p>

</div>
</div><p>
<a class="anchor" name="3a9487fbe81804ff6222c3d42cafc350"></a><!-- doxytag: member="dtsQueueUtil.c::dts_queueCleanup" ref="3a9487fbe81804ff6222c3d42cafc350" args="(DTS *dts, dtsQueue *dtsq)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dts_queueCleanup           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDTS.html">DTS</a> *&nbsp;</td>
          <td class="paramname"> <em>dts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdtsQueue.html">dtsQueue</a> *&nbsp;</td>
          <td class="paramname"> <em>dtsq</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Clean up the spool directory before processing. 
<p>
DTS_QUEUECLEANUP -- Clean up the spool directory before processing.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dts</em>&nbsp;</td><td><a class="el" href="structDTS.html">DTS</a> structure </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dtsq</em>&nbsp;</td><td><a class="el" href="structDTS.html">DTS</a> queue structure </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>nothing </dd></dl>

<p>References <a class="el" href="dtsQueueUtil_8c_source.html#l00314">dts_queueGetCurrent()</a>, <a class="el" href="dtsQueueUtil_8c_source.html#l00363">dts_queueGetNext()</a>, and <a class="el" href="dtsLog_8c_source.html#l00069">dtsLog()</a>.</p>

</div>
</div><p>
<a class="anchor" name="bb4729efee8c2245df6a445c50160a11"></a><!-- doxytag: member="dtsQueueUtil.c::dts_queueDelete" ref="bb4729efee8c2245df6a445c50160a11" args="(DTS *dts, char *qpath)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dts_queueDelete           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDTS.html">DTS</a> *&nbsp;</td>
          <td class="paramname"> <em>dts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>qpath</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Delete the complete spool directory. 
<p>
DTS_QUEUEDELETE -- Delete the complete spool directory.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dts</em>&nbsp;</td><td><a class="el" href="structDTS.html">DTS</a> struct pointer </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>qpath</em>&nbsp;</td><td>spool queue directory path </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>nothing </dd></dl>

<p>References <a class="el" href="dtsQueueUtil_8c_source.html#l01100">dts_queueFromPath()</a>, <a class="el" href="dtsFileUtil_8c_source.html#l00794">dts_unlink()</a>, and <a class="el" href="dtsLog_8c_source.html#l00069">dtsLog()</a>.</p>

<p>Referenced by <a class="el" href="dtsMethods_8c_source.html#l03449">dts_endTransfer()</a>.</p>

</div>
</div><p>
<a class="anchor" name="8fb26b6766710c4c885d3b7a4715c609"></a><!-- doxytag: member="dtsQueueUtil.c::dts_queueFromPath" ref="8fb26b6766710c4c885d3b7a4715c609" args="(char *path)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* dts_queueFromPath           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>path</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get queue name from a path. 
<p>
DTS_QUEUEFROMPATH -- Get queue name from a path.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>spool queue directory path </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>queue name </dd></dl>

<p>Referenced by <a class="el" href="dtsXfer_8c_source.html#l00286">dts_hostFrom()</a>, <a class="el" href="dtsXfer_8c_source.html#l00080">dts_hostTo()</a>, <a class="el" href="dtsQueueUtil_8c_source.html#l01180">dts_queueDelete()</a>, <a class="el" href="dtsPull_8c_source.html#l00107">dts_xferPullFile()</a>, <a class="el" href="dtsPush_8c_source.html#l00108">dts_xferPushFile()</a>, <a class="el" href="dtsPush_8c_source.html#l00370">dts_xferReceiveFile()</a>, and <a class="el" href="dtsPull_8c_source.html#l00358">dts_xferSendFile()</a>.</p>

</div>
</div><p>
<a class="anchor" name="73d52e9f251e4ba8341197cfeaa33220"></a><!-- doxytag: member="dtsQueueUtil.c::dts_queueGetCurrent" ref="73d52e9f251e4ba8341197cfeaa33220" args="(char *fname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dts_queueGetCurrent           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>fname</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the number of the currrently active spool. 
<p>
DTS_QUEUEGETCURRENT -- Get the number of the currrently active spool.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fname</em>&nbsp;</td><td>path to 'current' file </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>queue current value </dd></dl>

<p>References <a class="el" href="dtsFileUtil_8c_source.html#l00117">dts_fclose()</a>, and <a class="el" href="dtsFileUtil_8c_source.html#l00086">dts_fopen()</a>.</p>

<p>Referenced by <a class="el" href="dtsMethods_8c_source.html#l03449">dts_endTransfer()</a>, <a class="el" href="dtsMethods_8c_source.html#l02052">dts_flushQueue()</a>, <a class="el" href="dtsMethods_8c_source.html#l00194">dts_nodeStat()</a>, and <a class="el" href="dtsQueueUtil_8c_source.html#l00462">dts_queueCleanup()</a>.</p>

</div>
</div><p>
<a class="anchor" name="a50a352c505bf49190e7ce4f3d5269ad"></a><!-- doxytag: member="dtsQueueUtil.c::dts_queueGetNext" ref="a50a352c505bf49190e7ce4f3d5269ad" args="(char *fname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dts_queueGetNext           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>fname</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the number of the next active spool. 
<p>
DTS_QUEUEGETNEXT -- Get the number of the next active spool.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fname</em>&nbsp;</td><td>path to 'next' file </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>queue next value </dd></dl>

<p>References <a class="el" href="dtsFileUtil_8c_source.html#l00117">dts_fclose()</a>, and <a class="el" href="dtsFileUtil_8c_source.html#l00086">dts_fopen()</a>.</p>

<p>Referenced by <a class="el" href="dtsMethods_8c_source.html#l02052">dts_flushQueue()</a>, <a class="el" href="dtsMethods_8c_source.html#l00194">dts_nodeStat()</a>, and <a class="el" href="dtsQueueUtil_8c_source.html#l00462">dts_queueCleanup()</a>.</p>

</div>
</div><p>
<a class="anchor" name="fff347a303e8bd230792419763fc0e7d"></a><!-- doxytag: member="dtsQueueUtil.c::dts_queueGetStats" ref="fff347a303e8bd230792419763fc0e7d" args="(dtsQueue *dtsq)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structqueueStat.html">queueStat</a>* dts_queueGetStats           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdtsQueue.html">dtsQueue</a> *&nbsp;</td>
          <td class="paramname"> <em>dtsq</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the stats structure from a queue. 
<p>
DTS_QUEUEGETSTATS -- Get the stats structure from a queue.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dtsq</em>&nbsp;</td><td><a class="el" href="structDTS.html">DTS</a> Queue structure </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>stats structure </dd></dl>

<p>References <a class="el" href="dtsFileUtil_8c_source.html#l00117">dts_fclose()</a>, and <a class="el" href="dtsFileUtil_8c_source.html#l00086">dts_fopen()</a>.</p>

<p>Referenced by <a class="el" href="dtsMethods_8c_source.html#l00194">dts_nodeStat()</a>.</p>

</div>
</div><p>
<a class="anchor" name="783947cdd20ef27299d243b1000e2a40"></a><!-- doxytag: member="dtsQueueUtil.c::dts_queueInitControl" ref="783947cdd20ef27299d243b1000e2a40" args="(char *qhost, char *qname, char *qpath, char *opath, char *lfname, char *fname, char *dfname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dts_queueInitControl           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>qhost</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>qname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>qpath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>opath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>lfname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>fname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>dfname</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initialize the control structure. 
<p>
DTS_QUEUEINITCONTROL -- Initialize the control structure.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>qhost</em>&nbsp;</td><td><a class="el" href="structDTS.html">DTS</a> Queue host name </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>qname</em>&nbsp;</td><td>queue name </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>qpath</em>&nbsp;</td><td>queue path name </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>opath</em>&nbsp;</td><td>output path name </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>lpath</em>&nbsp;</td><td>local path name </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fname</em>&nbsp;</td><td>filename (no path) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dfname</em>&nbsp;</td><td>delivery filename </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>status </dd></dl>

<p>References <a class="el" href="dtsFileUtil_8c_source.html#l00725">dts_du()</a>, <a class="el" href="dtsUtil_8c_source.html#l00670">dts_getAliasDest()</a>, <a class="el" href="dtsUtil_8c_source.html#l00418">dts_getLocalHost()</a>, <a class="el" href="dtsQueue_8c_source.html#l00355">dts_hostSetQueueControl()</a>, <a class="el" href="dtsFileUtil_8c_source.html#l00542">dts_isDir()</a>, <a class="el" href="dtsFileUtil_8c_source.html#l00652">dts_pathDir()</a>, and <a class="el" href="dtsFileUtil_8c_source.html#l00692">dts_pathFname()</a>.</p>

</div>
</div><p>
<a class="anchor" name="aa543bc0d353e733e8eb4642413deea0"></a><!-- doxytag: member="dtsQueueUtil.c::dts_queueLock" ref="aa543bc0d353e733e8eb4642413deea0" args="(dtsQueue *dtsq)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dts_queueLock           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdtsQueue.html">dtsQueue</a> *&nbsp;</td>
          <td class="paramname"> <em>dtsq</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the mutex lock on the queue. 
<p>
DTS_QUEUELOCK -- Set the mutex lock on the queue.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dtsq</em>&nbsp;</td><td><a class="el" href="structDTS.html">DTS</a> queue pointer </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>nothing </dd></dl>

</div>
</div><p>
<a class="anchor" name="0f9767b8cbca5fac22e998b717243f92"></a><!-- doxytag: member="dtsQueueUtil.c::dts_queueLookup" ref="0f9767b8cbca5fac22e998b717243f92" args="(char *qname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structdtsQueue.html">dtsQueue</a>* dts_queueLookup           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>qname</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Lookup a <a class="el" href="structDTS.html">DTS</a> queue struct by name. 
<p>
DTS_QUEUELOOKUP -- Lookup a <a class="el" href="structDTS.html">DTS</a> queue struct by name.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>qname</em>&nbsp;</td><td>name of the queue </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd><a class="el" href="structdtsQueue.html">dtsQueue</a> struct corresponding to qname </dd></dl>

<p>Referenced by <a class="el" href="dtsMethods_8c_source.html#l00873">dts_DestDir()</a>, <a class="el" href="dtsMethods_8c_source.html#l03449">dts_endTransfer()</a>, <a class="el" href="dtsMethods_8c_source.html#l02052">dts_flushQueue()</a>, <a class="el" href="dtsMethods_8c_source.html#l02740">dts_Get()</a>, <a class="el" href="dtsQueueUtil_8c_source.html#l00218">dts_getNextQueueDir()</a>, <a class="el" href="dtsMethods_8c_source.html#l02426">dts_getQueueCmd()</a>, <a class="el" href="dtsMethods_8c_source.html#l02313">dts_getQueueCount()</a>, <a class="el" href="dtsMethods_8c_source.html#l02370">dts_getQueueDir()</a>, <a class="el" href="dtsMethods_8c_source.html#l02232">dts_getQueueStat()</a>, <a class="el" href="dtsMethods_8c_source.html#l03336">dts_initTransfer()</a>, <a class="el" href="dtsMethods_8c_source.html#l02148">dts_pauseQueue()</a>, <a class="el" href="dtsMethods_8c_source.html#l02587">dts_printQueueCfg()</a>, <a class="el" href="dtsQueueStat_8c_source.html#l00238">dts_qstatDiskEnd()</a>, <a class="el" href="dtsQueueStat_8c_source.html#l00217">dts_qstatDiskStart()</a>, <a class="el" href="dtsQueueStat_8c_source.html#l00286">dts_qstatDlvrEnd()</a>, <a class="el" href="dtsQueueStat_8c_source.html#l00265">dts_qstatDlvrStart()</a>, <a class="el" href="dtsQueueStat_8c_source.html#l00353">dts_qstatDlvrStat()</a>, <a class="el" href="dtsQueueStat_8c_source.html#l00142">dts_qstatEnd()</a>, <a class="el" href="dtsQueueStat_8c_source.html#l00050">dts_qstatInit()</a>, <a class="el" href="dtsQueueStat_8c_source.html#l00190">dts_qstatNetEnd()</a>, <a class="el" href="dtsQueueStat_8c_source.html#l00169">dts_qstatNetStart()</a>, <a class="el" href="dtsQueueStat_8c_source.html#l00331">dts_qstatNetStat()</a>, <a class="el" href="dtsQueueStat_8c_source.html#l00076">dts_qstatSetFName()</a>, <a class="el" href="dtsQueueStat_8c_source.html#l00100">dts_qstatSetSize()</a>, <a class="el" href="dtsQueueStat_8c_source.html#l00121">dts_qstatStart()</a>, <a class="el" href="dtsQueueStat_8c_source.html#l00375">dts_qstatSummary()</a>, <a class="el" href="dtsQueueStat_8c_source.html#l00309">dts_qstatXferStat()</a>, <a class="el" href="dtsMethods_8c_source.html#l03116">dts_queueRelease()</a>, <a class="el" href="dtsMethods_8c_source.html#l03146">dts_queueSetControl()</a>, <a class="el" href="dtsMethods_8c_source.html#l03288">dts_queueUpdateStats()</a>, <a class="el" href="dtsMethods_8c_source.html#l02397">dts_setQueueCmd()</a>, <a class="el" href="dtsMethods_8c_source.html#l02285">dts_setQueueCount()</a>, <a class="el" href="dtsMethods_8c_source.html#l02341">dts_setQueueDir()</a>, <a class="el" href="dtsMethods_8c_source.html#l02257">dts_setQueueStat()</a>, <a class="el" href="dtsMethods_8c_source.html#l02001">dts_shutdownQueue()</a>, <a class="el" href="dtsMethods_8c_source.html#l01946">dts_startQueue()</a>, <a class="el" href="dtsMethods_8c_source.html#l02200">dts_stopQueue()</a>, and <a class="el" href="dtsQueueUtil_8c_source.html#l00827">dts_verifyDTS()</a>.</p>

</div>
</div><p>
<a class="anchor" name="1e0d4f7f157413b56f8f88ac2bd15376"></a><!-- doxytag: member="dtsQueueUtil.c::dts_queueNameFmt" ref="1e0d4f7f157413b56f8f88ac2bd15376" args="(char *qname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* dts_queueNameFmt           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>qname</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Format a queue name to 6 chars. 
<p>
DTS_QUEUENAMEFMT -- Format a queue name to 6 chars.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>qname</em>&nbsp;</td><td>full-length queue name </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>shortened queue name </dd></dl>

<p>Referenced by <a class="el" href="dtsDeliver_8c_source.html#l00059">dts_Deliver()</a>, <a class="el" href="dtsMethods_8c_source.html#l03449">dts_endTransfer()</a>, <a class="el" href="dtsMethods_8c_source.html#l03336">dts_initTransfer()</a>, <a class="el" href="dtsQueueStat_8c_source.html#l00375">dts_qstatSummary()</a>, <a class="el" href="dtsQueueUtil_8c_source.html#l00891">dts_queueProcess()</a>, <a class="el" href="dtsMethods_8c_source.html#l03146">dts_queueSetControl()</a>, <a class="el" href="dtsPull_8c_source.html#l00107">dts_xferPullFile()</a>, <a class="el" href="dtsPush_8c_source.html#l00108">dts_xferPushFile()</a>, <a class="el" href="dtsPush_8c_source.html#l00370">dts_xferReceiveFile()</a>, and <a class="el" href="dtsPull_8c_source.html#l00358">dts_xferSendFile()</a>.</p>

</div>
</div><p>
<a class="anchor" name="9ee1515f2f3ca249a1304b6ae55b684d"></a><!-- doxytag: member="dtsQueueUtil.c::dts_queueProcess" ref="9ee1515f2f3ca249a1304b6ae55b684d" args="(dtsQueue *dtsq, char *lpath, char *rpath, char *fname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dts_queueProcess           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdtsQueue.html">dtsQueue</a> *&nbsp;</td>
          <td class="paramname"> <em>dtsq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>lpath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>rpath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>fname</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Process a file to submit it to the named queue. 
<p>
DTS_QPROCESS -- Process a file to submit it to the named queue.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dtsq</em>&nbsp;</td><td><a class="el" href="structDTS.html">DTS</a> queue pointer </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>lpath</em>&nbsp;</td><td>local path </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rpath</em>&nbsp;</td><td>remote path </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fname</em>&nbsp;</td><td>filename to transfer </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>status result </dd></dl>

<p>References <a class="el" href="dtsConfig_8c_source.html#l01271">dts_cfgQMethodStr()</a>, <a class="el" href="dtsConfig_8c_source.html#l01294">dts_cfgQModeStr()</a>, <a class="el" href="dtsUtil_8c_source.html#l00670">dts_getAliasDest()</a>, <a class="el" href="dtsUtil_8c_source.html#l00354">dts_getLocalIP()</a>, <a class="el" href="dtsXfer_8c_source.html#l00080">dts_hostTo()</a>, <a class="el" href="dtsCommands_8c_source.html#l02665">dts_hostUpStats()</a>, <a class="el" href="dtsFileUtil_8c_source.html#l00692">dts_pathFname()</a>, <a class="el" href="dtsQueueUtil_8c_source.html#l01153">dts_queueNameFmt()</a>, <a class="el" href="dtsUtil_8c_source.html#l00699">dts_resolveHost()</a>, <a class="el" href="dtsSandbox_8c_source.html#l00042">dts_sandboxPath()</a>, <a class="el" href="dtsLog_8c_source.html#l00301">dtsErrLog()</a>, and <a class="el" href="dtsLog_8c_source.html#l00069">dtsLog()</a>.</p>

</div>
</div><p>
<a class="anchor" name="a5be9287fe7d9651d7b6b8c637724f6e"></a><!-- doxytag: member="dtsQueueUtil.c::dts_queueSetCurrent" ref="a5be9287fe7d9651d7b6b8c637724f6e" args="(char *fname, int val)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dts_queueSetCurrent           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>fname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>val</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the number of the currrently active spool. 
<p>
DTS_QUEUESETCURRENT -- Set the number of the currrently active spool.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fname</em>&nbsp;</td><td>path to 'current' file </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>val</em>&nbsp;</td><td>value to set </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>nothing </dd></dl>

<p>References <a class="el" href="dtsFileUtil_8c_source.html#l00117">dts_fclose()</a>, and <a class="el" href="dtsFileUtil_8c_source.html#l00086">dts_fopen()</a>.</p>

<p>Referenced by <a class="el" href="dtsMethods_8c_source.html#l03449">dts_endTransfer()</a>, <a class="el" href="dtsMethods_8c_source.html#l02052">dts_flushQueue()</a>, and <a class="el" href="dts_8c_source.html#l00196">dts_initServerRoot()</a>.</p>

</div>
</div><p>
<a class="anchor" name="2394c654772809059d59000c1a78695f"></a><!-- doxytag: member="dtsQueueUtil.c::dts_queueSetNext" ref="2394c654772809059d59000c1a78695f" args="(char *fname, int val)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dts_queueSetNext           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>fname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>val</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the number of the next active spool. 
<p>
DTS_QUEUESETNEXT -- Set the number of the next active spool.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fname</em>&nbsp;</td><td>path to 'Next' file </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>val</em>&nbsp;</td><td>value to set </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>nothing </dd></dl>

<p>References <a class="el" href="dtsFileUtil_8c_source.html#l00117">dts_fclose()</a>, and <a class="el" href="dtsFileUtil_8c_source.html#l00086">dts_fopen()</a>.</p>

</div>
</div><p>
<a class="anchor" name="2b168b445e4cb0bc5b483960b33e8dfb"></a><!-- doxytag: member="dtsQueueUtil.c::dts_queueSetStats" ref="2b168b445e4cb0bc5b483960b33e8dfb" args="(dtsQueue *dtsq, xferStat *xfs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dts_queueSetStats           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdtsQueue.html">dtsQueue</a> *&nbsp;</td>
          <td class="paramname"> <em>dtsq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structxferStat.html">xferStat</a> *&nbsp;</td>
          <td class="paramname"> <em>xfs</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Update the transfer statistics for the queue. 
<p>
DTS_QUEUESETSTATS -- Update the transfer statistics for the queue.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dtsq</em>&nbsp;</td><td><a class="el" href="structDTS.html">DTS</a> Queue struct pointer </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>xfs</em>&nbsp;</td><td>transfer statistics struct </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>nothing </dd></dl>

<p>References <a class="el" href="dtsFileUtil_8c_source.html#l00117">dts_fclose()</a>, and <a class="el" href="dtsFileUtil_8c_source.html#l00086">dts_fopen()</a>.</p>

<p>Referenced by <a class="el" href="dtsMethods_8c_source.html#l03288">dts_queueUpdateStats()</a>.</p>

</div>
</div><p>
<a class="anchor" name="344597f39e8889629794a6affed0aee2"></a><!-- doxytag: member="dtsQueueUtil.c::dts_queueUnlock" ref="344597f39e8889629794a6affed0aee2" args="(dtsQueue *dtsq)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dts_queueUnlock           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdtsQueue.html">dtsQueue</a> *&nbsp;</td>
          <td class="paramname"> <em>dtsq</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Unset the mutex lock on the queue. 
<p>
DTS_QUEUEUNLOCK -- Unset the mutex lock on the queue.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dtsq</em>&nbsp;</td><td><a class="el" href="structDTS.html">DTS</a> queue pointer </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>nothing </dd></dl>

</div>
</div><p>
<a class="anchor" name="aa75fb48a927a363fa3229011020947e"></a><!-- doxytag: member="dtsQueueUtil.c::dts_saveControl" ref="aa75fb48a927a363fa3229011020947e" args="(Control *ctrl, char *path)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dts_saveControl           </td>
          <td>(</td>
          <td class="paramtype">Control *&nbsp;</td>
          <td class="paramname"> <em>ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>path</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Save the control struct. 
<p>
DTS_SAVECONTROL -- Save the control struct.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ctrl</em>&nbsp;</td><td>control structure </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cpath</em>&nbsp;</td><td>path to control file </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>OK or ERR code </dd></dl>

<p>References <a class="el" href="dtsFileUtil_8c_source.html#l00117">dts_fclose()</a>, <a class="el" href="dtsFileUtil_8c_source.html#l00086">dts_fopen()</a>, and <a class="el" href="dtsQueueUtil_8c_source.html#l00666">dts_printControl()</a>.</p>

<p>Referenced by <a class="el" href="dtsIngest_8c_source.html#l00052">dts_Ingest()</a>.</p>

</div>
</div><p>
<a class="anchor" name="6fb308e1c21f70d133d45c971ae90187"></a><!-- doxytag: member="dtsQueueUtil.c::dts_verifyDTS" ref="6fb308e1c21f70d133d45c971ae90187" args="(char *host, char *qname, char *fname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* dts_verifyDTS           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>qname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>fname</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Verify a <a class="el" href="structDTS.html">DTS</a> queue connection. 
<p>
DTS_VERIFYDTS -- Verify a <a class="el" href="structDTS.html">DTS</a> queue connection.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>host</em>&nbsp;</td><td><a class="el" href="structDTS.html">DTS</a> host name </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>qname</em>&nbsp;</td><td>queue name </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fname</em>&nbsp;</td><td>file name to transfer </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>remote path to queue directory (caller frees ptr) </dd></dl>

<p>References <a class="el" href="dtsCommands_8c_source.html#l02500">dts_hostContact()</a>, <a class="el" href="dtsQueue_8c_source.html#l00062">dts_hostInitTransfer()</a>, <a class="el" href="dtsCommands_8c_source.html#l01096">dts_hostPing()</a>, <a class="el" href="dtsQueueUtil_8c_source.html#l00050">dts_queueLookup()</a>, and <a class="el" href="dtsLog_8c_source.html#l00069">dtsLog()</a>.</p>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri Apr 11 11:51:12 2014 for DTS by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.9 </small></address>
</body>
</html>

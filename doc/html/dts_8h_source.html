<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>DTS: dts.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.9 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<h1>dts.h</h1><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00006"></a>00006 <span class="preprocessor">#include &lt;xmlrpc-c/base.h&gt;</span>      <span class="comment">/* XMLRPC-C interface         */</span>
<a name="l00007"></a>00007 <span class="preprocessor">#include &lt;xmlrpc-c/client.h&gt;</span>
<a name="l00008"></a>00008 <span class="preprocessor">#include &lt;xmlrpc-c/server.h&gt;</span>
<a name="l00009"></a>00009 <span class="preprocessor">#include &lt;xmlrpc-c/server_abyss.h&gt;</span>
<a name="l00010"></a>00010 
<a name="l00011"></a>00011 <span class="preprocessor">#include &lt;sys/types.h&gt;</span>          <span class="comment">/* for struct stat        */</span>
<a name="l00012"></a>00012 <span class="preprocessor">#include &lt;sys/stat.h&gt;</span>
<a name="l00013"></a>00013 <span class="preprocessor">#ifdef Linux</span>
<a name="l00014"></a>00014 <span class="preprocessor"></span><span class="preprocessor">#include &lt;sys/vfs.h&gt;</span>
<a name="l00015"></a>00015 <span class="preprocessor">#else</span>
<a name="l00016"></a>00016 <span class="preprocessor"></span><span class="preprocessor">#ifdef Darwin</span>
<a name="l00017"></a>00017 <span class="preprocessor"></span><span class="preprocessor">#include &lt;sys/param.h&gt;</span>                          <span class="comment">/* for statfs()         */</span>
<a name="l00018"></a>00018 <span class="preprocessor">#include &lt;sys/mount.h&gt;</span>
<a name="l00019"></a>00019 <span class="preprocessor">#include &lt;sys/statvfs.h&gt;</span>
<a name="l00020"></a>00020 <span class="preprocessor">#endif</span>
<a name="l00021"></a>00021 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00022"></a>00022 <span class="preprocessor"></span><span class="preprocessor">#include &lt;unistd.h&gt;</span>
<a name="l00023"></a>00023 
<a name="l00024"></a>00024 
<a name="l00025"></a>00025 <span class="preprocessor">#include "xrpc.h"</span>           <span class="comment">/* XRPC Wrapper           */</span>
<a name="l00026"></a>00026 
<a name="l00027"></a>00027 <span class="preprocessor">#define DTS_PORT        3000        </span><span class="comment">/* default server port        */</span>
<a name="l00028"></a>00028 <span class="preprocessor">#define DTS_HOST        "localhost" </span><span class="comment">/* default server host        */</span>
<a name="l00029"></a>00029 <span class="preprocessor">#define DTS_SVC         "/RPC2"     </span><span class="comment">/* xml-rpc service name       */</span>
<a name="l00030"></a>00030 <span class="preprocessor">#define DTS_NAME        "DTS"       </span><span class="comment">/* http agent name        */</span>
<a name="l00031"></a>00031 <span class="preprocessor">#define DTS_VERSION     "v1.0"      </span><span class="comment">/* http agent version         */</span>
<a name="l00032"></a>00032 
<a name="l00033"></a>00033 <span class="preprocessor">#define DTSMON_PORT     2999        </span><span class="comment">/* default monitor port       */</span>
<a name="l00034"></a>00034 <span class="preprocessor">#define DTSMON_HOST     "localhost" </span><span class="comment">/* default monitor host       */</span>
<a name="l00035"></a>00035 <span class="preprocessor">#define DTSMON_NAME     "DTSMonitor"    </span><span class="comment">/* monitor task name          */</span>
<a name="l00036"></a>00036 <span class="preprocessor">#define DTSMON_VERSION  "v1.0"      </span><span class="comment">/* monitor task version       */</span>
<a name="l00037"></a>00037 
<a name="l00038"></a>00038 <span class="preprocessor">#define DTSSH_PORT      2998        </span><span class="comment">/* DTS shell server port      */</span>
<a name="l00039"></a>00039 <span class="preprocessor">#define DTSSH_HOST      "localhost" </span><span class="comment">/* default monitor host       */</span>
<a name="l00040"></a>00040 <span class="preprocessor">#define DTSSH_NAME      "DTShell"   </span><span class="comment">/* shell task name        */</span>
<a name="l00041"></a>00041 <span class="preprocessor">#define DTSSH_VERSION   "v1.0"      </span><span class="comment">/* shell task version         */</span>
<a name="l00042"></a>00042 
<a name="l00043"></a>00043 <span class="preprocessor">#define DTSCP_PORT      2997        </span><span class="comment">/* DTS shell server port      */</span>
<a name="l00044"></a>00044 <span class="preprocessor">#define DTSCP_HOST      "localhost" </span><span class="comment">/* default monitor host       */</span>
<a name="l00045"></a>00045 <span class="preprocessor">#define DTSCP_NAME      "DTShell"   </span><span class="comment">/* shell task name        */</span>
<a name="l00046"></a>00046 <span class="preprocessor">#define DTSCP_VERSION   "v1.0"      </span><span class="comment">/* shell task version         */</span>
<a name="l00047"></a>00047 
<a name="l00048"></a>00048 <span class="preprocessor">#define DTSQ_PORT       3100        </span><span class="comment">/* DTS shell server port      */</span>
<a name="l00049"></a>00049 <span class="preprocessor">#define DTSQ_HOST       "localhost" </span><span class="comment">/* default monitor host       */</span>
<a name="l00050"></a>00050 <span class="preprocessor">#define DTSQ_NAME       "DTSQ"      </span><span class="comment">/* task name              */</span>
<a name="l00051"></a>00051 <span class="preprocessor">#define DTSQ_VERSION    "v1.0"      </span><span class="comment">/* task version           */</span>
<a name="l00052"></a>00052 
<a name="l00053"></a>00053 <span class="preprocessor">#define DTSMON_CLIENT   0</span>
<a name="l00054"></a>00054 <span class="preprocessor"></span><span class="preprocessor">#define DTSMON_NONE -1</span>
<a name="l00055"></a>00055 <span class="preprocessor"></span>
<a name="l00056"></a>00056 <span class="preprocessor">#define DTS_ENV_CONFIG  "DTS_CONFIG"    </span><span class="comment">/* config file paths          */</span>
<a name="l00057"></a>00057 <span class="preprocessor">#define DTS_CONFIG1 "~/.dts"    </span><span class="comment">/* config directory       */</span>
<a name="l00058"></a>00058 <span class="preprocessor">#define DTS_CONFIG2 "~/.dts_config" </span><span class="comment">/* config file            */</span>
<a name="l00059"></a>00059 <span class="preprocessor">#define DTS_CONFIG3 "/usr/local/lib/dts.cfg"</span>
<a name="l00060"></a>00060 <span class="preprocessor"></span>
<a name="l00061"></a>00061 <span class="preprocessor">#define DTS_CWD     "./"        </span><span class="comment">/* DTS working directory      */</span>
<a name="l00062"></a>00062 <span class="preprocessor">#define DTS_LOCKFILE    "dtsd.lock" </span><span class="comment">/* DTS daemon lock file       */</span>
<a name="l00063"></a>00063 <span class="preprocessor">#define DTS_LOGFILE "dtsd.log"  </span><span class="comment">/* DTS message log        */</span>
<a name="l00064"></a>00064 
<a name="l00065"></a>00065 <span class="preprocessor">#define DTS_PORT_STR    "3000"      </span><span class="comment">/* DTS comm. port (as string)     */</span>
<a name="l00066"></a>00066 <span class="preprocessor">#define DTS_CPORT_STR   "3001"      </span><span class="comment">/* DTS contact port (as string)   */</span>
<a name="l00067"></a>00067 <span class="preprocessor">#define DTS_LPORT_STR   "3005"      </span><span class="comment">/* DTS lo port (as string)    */</span>
<a name="l00068"></a>00068 <span class="preprocessor">#define DTS_HPORT_STR   "3099"      </span><span class="comment">/* DTS hi port (as string)    */</span>
<a name="l00069"></a>00069 
<a name="l00070"></a>00070 <span class="preprocessor">#define DTS_DIR_MODE        0775    </span><span class="comment">/* default directory mode     */</span>
<a name="l00071"></a>00071 <span class="preprocessor">#define DTS_FILE_MODE       0664    </span><span class="comment">/* default file mode          */</span>
<a name="l00072"></a>00072 
<a name="l00073"></a>00073 <span class="preprocessor">#define _FILE_OFFSET_BITS   64  </span><span class="comment">/* for 64-bit file systems    */</span> 
<a name="l00074"></a>00074 
<a name="l00075"></a>00075 <span class="comment">/*</span>
<a name="l00076"></a>00076 <span class="comment">#define USE_FORK        1</span>
<a name="l00077"></a>00077 <span class="comment">#define USE_PTHREAD_JOIN    1</span>
<a name="l00078"></a>00078 <span class="comment">#define USE_THREAD_SEMS     1</span>
<a name="l00079"></a>00079 <span class="comment">#define USE_XFER_ASYNC      1</span>
<a name="l00080"></a>00080 <span class="comment">#define USE_DNS_LOOKUP      1</span>
<a name="l00081"></a>00081 <span class="comment">#define USE_DTS_DB      1</span>
<a name="l00082"></a>00082 <span class="comment">*/</span>
<a name="l00083"></a>00083 
<a name="l00084"></a>00084 <span class="comment">/* Important or sendfile/recvfile will overlap with DTSD semaphore.</span>
<a name="l00085"></a>00085 <span class="comment">*/</span>
<a name="l00086"></a>00086 <span class="preprocessor">#define USE_SEM_IF      1 </span>
<a name="l00087"></a>00087 <span class="preprocessor"></span>
<a name="l00088"></a>00088 <span class="preprocessor">#define MAX_CLIENTS     32      </span><span class="comment">/* max no. connected clients      */</span>
<a name="l00089"></a>00089 <span class="preprocessor">#define MAX_QUEUES      16      </span><span class="comment">/* max no. queues to manage   */</span>
<a name="l00090"></a>00090 <span class="preprocessor">#define MAX_DIR_ENTRIES     4096    </span><span class="comment">/* max directory entries      */</span>
<a name="l00091"></a>00091 <span class="preprocessor">#define MAX_EMSGS       512     </span><span class="comment">/* max error messages to save     */</span>
<a name="l00092"></a>00092 
<a name="l00093"></a>00093 
<a name="l00094"></a>00094 <span class="preprocessor">#define MIN_MULTI_FSIZE     65536   </span><span class="comment">/* smaller and we single-thread   */</span>
<a name="l00095"></a>00095 
<a name="l00096"></a>00096 
<a name="l00097"></a>00097 <span class="preprocessor">#define DTS_BSD_SUM32       0       </span><span class="comment">/* 32-bit checksum types      */</span>
<a name="l00098"></a>00098 <span class="preprocessor">#define DTS_SYSV_SUM32      1</span>
<a name="l00099"></a>00099 <span class="preprocessor"></span><span class="preprocessor">#define DTS_SUM32_TYPE      DTS_SYSV_SUM32</span>
<a name="l00100"></a>00100 <span class="preprocessor"></span>
<a name="l00101"></a>00101 
<a name="l00102"></a>00102 <span class="comment">/*  Compile-time passwd       </span>
<a name="l00103"></a>00103 <span class="comment"> */</span>
<a name="l00104"></a>00104 <span class="preprocessor">#define DEF_PASSWD      "xyzzy!"    </span>
<a name="l00105"></a>00105 <span class="preprocessor"></span>
<a name="l00106"></a>00106 <span class="preprocessor">#define DEF_STAT_PERIOD     60</span>
<a name="l00107"></a>00107 <span class="preprocessor"></span>
<a name="l00108"></a>00108 <span class="comment">/*  Compile-time UDT rate</span>
<a name="l00109"></a>00109 <span class="comment"> */</span>
<a name="l00110"></a>00110 <span class="preprocessor">#define DEF_UDT_RATE        100     </span><span class="comment">/* Megabits-per-second        */</span>
<a name="l00111"></a>00111 
<a name="l00112"></a>00112 
<a name="l00113"></a>00113 <span class="preprocessor">#define  min(a,b)   ((a)&lt;(b)?(a):(b))   </span><span class="comment">/* utility macros         */</span>
<a name="l00114"></a>00114 <span class="preprocessor">#define  max(a,b)   ((a)&gt;(b)?(a):(b)) </span>
<a name="l00115"></a>00115 <span class="preprocessor"></span><span class="preprocessor">#define  abs(a)     ((a)&lt;0?(-a):(a)) </span>
<a name="l00116"></a>00116 <span class="preprocessor"></span>
<a name="l00117"></a>00117 
<a name="l00118"></a>00118 <span class="comment">/* Debug and verbose flags.</span>
<a name="l00119"></a>00119 <span class="comment"> */</span>
<a name="l00120"></a>00120 <span class="preprocessor">#define DTS_DBG    (getenv("DTS_DBG")!=NULL||access("/tmp/DTS_DBG",F_OK)==0)</span>
<a name="l00121"></a>00121 <span class="preprocessor"></span>
<a name="l00122"></a>00122 <span class="preprocessor">#define PERF_DEBUG (getenv("PERF_DBG")!=NULL||access("/tmp/PERF_DBG",F_OK)==0)</span>
<a name="l00123"></a>00123 <span class="preprocessor"></span><span class="preprocessor">#define SOCK_DEBUG (getenv("SOCK_DBG")!=NULL||access("/tmp/SOCK_DBG",F_OK)==0)</span>
<a name="l00124"></a>00124 <span class="preprocessor"></span><span class="preprocessor">#define XFER_DEBUG (getenv("XFER_DBG")!=NULL||access("/tmp/XFER_DBG",F_OK)==0)</span>
<a name="l00125"></a>00125 <span class="preprocessor"></span><span class="preprocessor">#define PTCP_DEBUG (getenv("PTCP_DBG")!=NULL||access("/tmp/PTCP_DBG",F_OK)==0)</span>
<a name="l00126"></a>00126 <span class="preprocessor"></span><span class="preprocessor">#define IGST_DEBUG (getenv("IGST_DBG")!=NULL||access("/tmp/IGST_DBG",F_OK)==0)</span>
<a name="l00127"></a>00127 <span class="preprocessor"></span><span class="preprocessor">#define DLVR_DEBUG (getenv("DLVR_DBG")!=NULL||access("/tmp/DLVR_DBG",F_OK)==0)</span>
<a name="l00128"></a>00128 <span class="preprocessor"></span><span class="preprocessor">#define STAT_DEBUG (getenv("STAT_DBG")!=NULL||access("/tmp/STAT_DBG",F_OK)==0)</span>
<a name="l00129"></a>00129 <span class="preprocessor"></span><span class="preprocessor">#define TIME_DEBUG (getenv("TIME_DBG")!=NULL||access("/tmp/TIME_DBG",F_OK)==0)</span>
<a name="l00130"></a>00130 <span class="preprocessor"></span>
<a name="l00131"></a>00131 <span class="preprocessor">#define SEM_DEBUG  (getenv("SEM_DBG")!=NULL||access("/tmp/SEM_DBG",F_OK)==0)</span>
<a name="l00132"></a>00132 <span class="preprocessor"></span><span class="preprocessor">#define CMD_DEBUG  (getenv("CMD_DBG")!=NULL||access("/tmp/CMD_DBG",F_OK)==0)</span>
<a name="l00133"></a>00133 <span class="preprocessor"></span>
<a name="l00134"></a>00134 <span class="preprocessor">#define XFER_VERB  (getenv("XFER_VERB")!=NULL||access("/tmp/XFER_VERB",F_OK)==0)</span>
<a name="l00135"></a>00135 <span class="preprocessor"></span><span class="preprocessor">#define PTCP_VERB  (getenv("PTCP_VERB")!=NULL||access("/tmp/PTCP_VERB",F_OK)==0)</span>
<a name="l00136"></a>00136 <span class="preprocessor"></span>
<a name="l00137"></a>00137 <span class="preprocessor">#define DTS_ASYNC  (getenv("DTS_ASYNC")!=NULL||access("/tmp/DTS_ASYNC",F_OK)==0)</span>
<a name="l00138"></a>00138 <span class="preprocessor"></span><span class="preprocessor">#define DTS_NAGLE  (getenv("DTS_NAGLE")!=NULL||access("/tmp/DTS_NAGLE",F_OK)==0)</span>
<a name="l00139"></a>00139 <span class="preprocessor"></span><span class="preprocessor">#define DTS_SUM_ALL \</span>
<a name="l00140"></a>00140 <span class="preprocessor">    (getenv("DTS_SUM_ALL")!=NULL||access("/tmp/DTS_SUM_ALL",F_OK)==0)</span>
<a name="l00141"></a>00141 <span class="preprocessor"></span><span class="preprocessor">#define DTS_SUM_DBG \</span>
<a name="l00142"></a>00142 <span class="preprocessor">    (getenv("DTS_SUM_DBG")!=NULL||access("/tmp/DTS_SUM_DBG",F_OK)==0)</span>
<a name="l00143"></a>00143 <span class="preprocessor"></span>
<a name="l00144"></a>00144 
<a name="l00145"></a>00145 
<a name="l00149"></a>00149 <span class="preprocessor">#define TM_USER         0       </span><span class="comment">/* user-defined transport     */</span>
<a name="l00150"></a>00150 <span class="preprocessor">#define TM_INLINE       1       </span><span class="comment">/* inline data transport      */</span>
<a name="l00151"></a>00151 <span class="preprocessor">#define TM_PSOCK        2       </span><span class="comment">/* parallel socket transport      */</span>
<a name="l00152"></a>00152 <span class="preprocessor">#define TM_SCP          3       </span><span class="comment">/* scp as transport       */</span>
<a name="l00153"></a>00153 <span class="preprocessor">#define TM_UDT          4       </span><span class="comment">/* UDT as transport       */</span>
<a name="l00154"></a>00154 
<a name="l00155"></a>00155 
<a name="l00159"></a>00159 <span class="preprocessor">#define XFER_PUSH       0       </span><span class="comment">/* push transfer model        */</span>
<a name="l00160"></a>00160 <span class="preprocessor">#define XFER_PULL       1       </span><span class="comment">/* pull transfer model        */</span>
<a name="l00161"></a>00161 
<a name="l00162"></a>00162 <span class="preprocessor">#define XFER_SOURCE         2           </span><span class="comment">/* data source                    */</span>
<a name="l00163"></a>00163 <span class="preprocessor">#define XFER_DEST           3           </span><span class="comment">/* data sink                      */</span>
<a name="l00164"></a>00164 
<a name="l00165"></a>00165 <span class="preprocessor">#define XFER_IDLE       4       </span><span class="comment">/* connection is idle         */</span>
<a name="l00166"></a>00166 <span class="preprocessor">#define XFER_PENDING        5       </span><span class="comment">/* transfer is pending        */</span>
<a name="l00167"></a>00167 <span class="preprocessor">#define XFER_IN_PROGRESS    6       </span><span class="comment">/* transfer is in progress    */</span>
<a name="l00168"></a>00168 <span class="preprocessor">#define XFER_COMPLETE       7       </span><span class="comment">/* transfer is complete       */</span>
<a name="l00169"></a>00169 <span class="preprocessor">#define XFER_ABORTED        8       </span><span class="comment">/* transfer was cancelled     */</span>
<a name="l00170"></a>00170 
<a name="l00171"></a>00171 <span class="preprocessor">#define XFER_TO         XFER_PUSH   </span><span class="comment">/* transfer direction         */</span>   
<a name="l00172"></a>00172 <span class="preprocessor">#define XFER_FROM       XFER_PULL   </span><span class="comment">/* transfer direction         */</span>   
<a name="l00173"></a>00173 
<a name="l00174"></a>00174 <span class="preprocessor">#define PID_MAX             32768   </span><span class="comment">/* max pid_t value [MACHDEP]      */</span>
<a name="l00175"></a>00175 
<a name="l00176"></a>00176 <span class="preprocessor">#define SZ_MAX_MSG          32768</span>
<a name="l00177"></a>00177 <span class="preprocessor"></span><span class="preprocessor">#define SZ_CONFIG       4096    </span><span class="comment">/* Sz of formatted config string  */</span>
<a name="l00178"></a>00178 
<a name="l00182"></a>00182 <span class="preprocessor">#define MBYTE             1048576.0     </span><span class="comment">/* 1024 * 1024            */</span>
<a name="l00183"></a>00183 <span class="preprocessor">#define GBYTE           1073741824.0    </span><span class="comment">/* 1024 * 1024 * 1024         */</span>
<a name="l00184"></a>00184 <span class="preprocessor">#define SELWIDTH            513     </span><span class="comment">/* select() size          */</span>
<a name="l00185"></a>00185 
<a name="l00186"></a>00186 <span class="preprocessor">#define SOCK_MAX_TRY        5       </span><span class="comment">/* max socket retry       */</span>
<a name="l00187"></a>00187 <span class="preprocessor">#define SOCK_PAUSE_TIME     3       </span><span class="comment">/* pause before socket retry      */</span>
<a name="l00188"></a>00188 
<a name="l00189"></a>00189 
<a name="l00190"></a>00190 
<a name="l00194"></a>00194 <span class="preprocessor">#ifndef SZ_FNAME</span>
<a name="l00195"></a>00195 <span class="preprocessor"></span><span class="preprocessor">#define SZ_FNAME        160</span>
<a name="l00196"></a>00196 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00197"></a>00197 <span class="preprocessor"></span><span class="preprocessor">#ifndef SZ_PATH</span>
<a name="l00198"></a>00198 <span class="preprocessor"></span><span class="preprocessor">#define SZ_PATH             256</span>
<a name="l00199"></a>00199 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00200"></a>00200 <span class="preprocessor"></span><span class="preprocessor">#ifndef SZ_LINE</span>
<a name="l00201"></a>00201 <span class="preprocessor"></span><span class="preprocessor">#define SZ_LINE         1024</span>
<a name="l00202"></a>00202 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00203"></a>00203 <span class="preprocessor"></span><span class="preprocessor">#ifndef SZ_CMD</span>
<a name="l00204"></a>00204 <span class="preprocessor"></span><span class="preprocessor">#define SZ_CMD          8192</span>
<a name="l00205"></a>00205 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00206"></a>00206 <span class="preprocessor"></span><span class="preprocessor">#ifndef SZ_URL</span>
<a name="l00207"></a>00207 <span class="preprocessor"></span><span class="preprocessor">#define SZ_URL          1024</span>
<a name="l00208"></a>00208 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00209"></a>00209 <span class="preprocessor"></span><span class="preprocessor">#ifndef SZ_BLOCK</span>
<a name="l00210"></a>00210 <span class="preprocessor"></span><span class="preprocessor">#define SZ_BLOCK        65536</span>
<a name="l00211"></a>00211 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00212"></a>00212 <span class="preprocessor"></span><span class="preprocessor">#ifndef SZ_TSTR</span>
<a name="l00213"></a>00213 <span class="preprocessor"></span><span class="preprocessor">#define SZ_TSTR             128</span>
<a name="l00214"></a>00214 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00215"></a>00215 <span class="preprocessor"></span><span class="preprocessor">#ifndef OK              </span>
<a name="l00216"></a>00216 <span class="preprocessor"></span><span class="preprocessor">#define OK                  0</span>
<a name="l00217"></a>00217 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00218"></a>00218 <span class="preprocessor"></span><span class="preprocessor">#ifndef ERR</span>
<a name="l00219"></a>00219 <span class="preprocessor"></span><span class="preprocessor">#define ERR                 1</span>
<a name="l00220"></a>00220 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00221"></a>00221 <span class="preprocessor"></span><span class="preprocessor">#ifndef FALSE</span>
<a name="l00222"></a>00222 <span class="preprocessor"></span><span class="preprocessor">#define FALSE               0</span>
<a name="l00223"></a>00223 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00224"></a>00224 <span class="preprocessor"></span><span class="preprocessor">#ifndef TRUE</span>
<a name="l00225"></a>00225 <span class="preprocessor"></span><span class="preprocessor">#define TRUE                1</span>
<a name="l00226"></a>00226 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00227"></a>00227 <span class="preprocessor"></span><span class="preprocessor">#ifndef NO</span>
<a name="l00228"></a>00228 <span class="preprocessor"></span><span class="preprocessor">#define NO                  0</span>
<a name="l00229"></a>00229 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00230"></a>00230 <span class="preprocessor"></span><span class="preprocessor">#ifndef YES</span>
<a name="l00231"></a>00231 <span class="preprocessor"></span><span class="preprocessor">#define YES                 1</span>
<a name="l00232"></a>00232 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00233"></a>00233 <span class="preprocessor"></span>
<a name="l00234"></a>00234 <span class="comment">/*  defined in $dts/include/udtc.h</span>
<a name="l00235"></a>00235 <span class="comment">typedef int     UDTSOCKET;</span>
<a name="l00236"></a>00236 <span class="comment">*/</span>
<a name="l00237"></a>00237 
<a name="l00238"></a>00238 
<a name="l00244"></a><a class="code" href="structxferContext.html">00244</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00245"></a>00245     <span class="keywordtype">int</span>      tmethod;       <span class="comment">/* transport method (PSock, etc)  */</span>
<a name="l00246"></a>00246     <span class="keywordtype">int</span>      model;         <span class="comment">/* push or pull model         */</span>
<a name="l00247"></a>00247     <span class="keywordtype">int</span>      endpoint;      <span class="comment">/* data source or sink        */</span>
<a name="l00248"></a>00248 
<a name="l00249"></a>00249     void   (*init)(<span class="keywordtype">void</span> *data);     <span class="comment">/* initialization function        */</span>
<a name="l00250"></a>00250     void   (*xfer)(<span class="keywordtype">void</span> *data);     <span class="comment">/* transfer function          */</span>
<a name="l00251"></a>00251     void   (*fini)(<span class="keywordtype">void</span> *data);     <span class="comment">/* endgame function           */</span>
<a name="l00252"></a>00252  
<a name="l00253"></a>00253     void   (*preproc)(<span class="keywordtype">void</span> *data);  <span class="comment">/* pre-processor function         */</span>
<a name="l00254"></a>00254     void   (*postproc)(<span class="keywordtype">void</span> *data); <span class="comment">/* post-processor function        */</span>
<a name="l00255"></a>00255 
<a name="l00256"></a>00256     <span class="keywordtype">int</span>      port;          <span class="comment">/* transfer socket (start port)   */</span>
<a name="l00257"></a>00257     <span class="keywordtype">int</span>      nports;        <span class="comment">/* no. of ports being used    */</span>
<a name="l00258"></a>00258     <span class="keywordtype">int</span>      status;        <span class="comment">/* status of transfer         */</span>
<a name="l00259"></a>00259 
<a name="l00260"></a>00260     <span class="keywordtype">long</span>     fsize;         <span class="comment">/* size of file being xfer'd      */</span>
<a name="l00261"></a>00261     <span class="keywordtype">long</span>     transferred;       <span class="comment">/* bytes xfer'd so far        */</span>
<a name="l00262"></a>00262     <span class="keywordtype">float</span>    tput_mb;       <span class="comment">/* Mb/s throughput        */</span>
<a name="l00263"></a>00263     <span class="keywordtype">float</span>    tput_MB;       <span class="comment">/* MB/s throughput        */</span>
<a name="l00264"></a>00264     <span class="keywordtype">float</span>    time;          <span class="comment">/* transfer time in sec       */</span>
<a name="l00265"></a>00265 
<a name="l00266"></a>00266     <span class="keywordtype">int</span>      valid;         <span class="comment">/* is context valid?          */</span>
<a name="l00267"></a>00267 
<a name="l00268"></a>00268 } <a class="code" href="structxferContext.html">xferContext</a>, *<a class="code" href="structxferContext.html">xferContextP</a>;
<a name="l00269"></a>00269 
<a name="l00270"></a>00270 
<a name="l00274"></a><a class="code" href="structxferStat.html">00274</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00275"></a>00275     <span class="keywordtype">long</span>    fsize;          <span class="comment">/* size of file being xfer'd      */</span>
<a name="l00276"></a>00276 
<a name="l00277"></a>00277     <span class="keywordtype">float</span>   tput_mb;        <span class="comment">/* effective Mb/s throughput      */</span>
<a name="l00278"></a>00278     <span class="keywordtype">float</span>   tput_MB;        <span class="comment">/* effective MB/s throughput      */</span>
<a name="l00279"></a>00279 
<a name="l00280"></a>00280     <span class="keywordtype">float</span>   time;           <span class="comment">/* total transfer time in sec     */</span>
<a name="l00281"></a>00281     <span class="keywordtype">int</span>     sec;            <span class="comment">/* total transfer time        */</span>
<a name="l00282"></a>00282     <span class="keywordtype">int</span>     usec;           <span class="comment">/* total transfer time        */</span>
<a name="l00283"></a>00283     <span class="keywordtype">int</span>     stat;           <span class="comment">/* OK or ERR              */</span>
<a name="l00284"></a>00284 } <a class="code" href="structxferStat.html">xferStat</a>, *<a class="code" href="structxferStat.html">xferStatP</a>;
<a name="l00285"></a>00285 
<a name="l00286"></a>00286 
<a name="l00287"></a>00287 
<a name="l00291"></a><a class="code" href="structdtsClient.html">00291</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00292"></a>00292     <span class="keywordtype">int</span>    clientPort;          <span class="comment">/* default client port        */</span>
<a name="l00293"></a>00293     <span class="keywordtype">char</span>   clientUrl[SZ_FNAME];     <span class="comment">/* default client url         */</span>
<a name="l00294"></a>00294     <span class="keywordtype">char</span>   clientHost[SZ_FNAME];    <span class="comment">/* default client host        */</span>
<a name="l00295"></a>00295     <span class="keywordtype">char</span>   clientDir[SZ_FNAME];     <span class="comment">/* default client dir         */</span>
<a name="l00296"></a>00296     <span class="keywordtype">char</span>   clientCopy[SZ_FNAME];    <span class="comment">/* default copy dir           */</span>
<a name="l00297"></a>00297     <span class="keywordtype">char</span>   clientIP[SZ_FNAME];      <span class="comment">/* client IP address          */</span>
<a name="l00298"></a>00298     <span class="keywordtype">char</span>   clientName[SZ_FNAME];    <span class="comment">/* client name            */</span>
<a name="l00299"></a>00299     <span class="keywordtype">char</span>   clientNet[SZ_FNAME];     <span class="comment">/* client network         */</span>
<a name="l00300"></a>00300     <span class="keywordtype">int</span>    clientLoPort;        <span class="comment">/* low xfer port          */</span>
<a name="l00301"></a>00301     <span class="keywordtype">int</span>    clientHiPort;        <span class="comment">/* high xfer port         */</span>
<a name="l00302"></a>00302     <span class="keywordtype">int</span>    clientContact;       <span class="comment">/* contact server port        */</span>
<a name="l00303"></a>00303 
<a name="l00304"></a>00304     <span class="keywordtype">int</span>    conn;            <span class="comment">/* client connection          */</span>
<a name="l00305"></a>00305     <span class="keywordtype">int</span>    active;          <span class="comment">/* connection active?         */</span>
<a name="l00306"></a>00306 
<a name="l00307"></a>00307 } <a class="code" href="structdtsClient.html">dtsClient</a>, *<a class="code" href="structdtsClient.html">dtsClientP</a>;
<a name="l00308"></a>00308 
<a name="l00309"></a>00309 
<a name="l00310"></a>00310 
<a name="l00315"></a>00315 <span class="preprocessor">#define QUEUE_PAUSED        0       </span><span class="comment">/* queue is paused        */</span>
<a name="l00316"></a>00316 <span class="preprocessor">#define QUEUE_RUNNING       1       </span><span class="comment">/* queue is running       */</span>
<a name="l00317"></a>00317 <span class="preprocessor">#define QUEUE_ACTIVE        2       </span><span class="comment">/* queue is active        */</span>
<a name="l00318"></a>00318 <span class="preprocessor">#define QUEUE_WAITING       3       </span><span class="comment">/* queue is waiting for transfer  */</span>
<a name="l00319"></a>00319 <span class="preprocessor">#define QUEUE_SHUTDOWN      90      </span><span class="comment">/* queue is shutting down. This number</span>
<a name="l00320"></a>00320 <span class="comment">                     * is high because sometimes it will</span>
<a name="l00321"></a>00321 <span class="comment">                     * block on decrement and cause it to</span>
<a name="l00322"></a>00322 <span class="comment">                     * be 89.  FIXME</span>
<a name="l00323"></a>00323 <span class="comment">                     */</span>
<a name="l00324"></a>00324 <span class="preprocessor">#define QUEUE_INGEST        5       </span><span class="comment">/* ingest queue           */</span>
<a name="l00325"></a>00325 <span class="preprocessor">#define QUEUE_TRANSFER      6       </span><span class="comment">/* transfer queue         */</span>
<a name="l00326"></a>00326 <span class="preprocessor">#define QUEUE_ENDPOINT      7       </span><span class="comment">/* endpoint of queue          */</span>
<a name="l00327"></a>00327 
<a name="l00328"></a>00328 <span class="preprocessor">#define QUEUE_NORMAL        8       </span><span class="comment">/* normal queue           */</span>
<a name="l00329"></a>00329 <span class="preprocessor">#define QUEUE_SCHEDULED     9       </span><span class="comment">/* schedule queue         */</span>
<a name="l00330"></a>00330 <span class="preprocessor">#define QUEUE_PRIORITY      10      </span><span class="comment">/* priority queue         */</span>
<a name="l00331"></a>00331 
<a name="l00332"></a>00332 <span class="preprocessor">#define QUEUE_REPLACE       11      </span><span class="comment">/* overwrite existing file    */</span>
<a name="l00333"></a>00333 <span class="preprocessor">#define QUEUE_NUMBER        12      </span><span class="comment">/* renumber duplicate files   */</span>
<a name="l00334"></a>00334 <span class="preprocessor">#define QUEUE_ORIGINAL      13      </span><span class="comment">/* use original name (unique?)    */</span>
<a name="l00335"></a>00335 
<a name="l00336"></a>00336 <span class="preprocessor">#define QUEUE_PUSH      14      </span><span class="comment">/* push queue transfer model      */</span>
<a name="l00337"></a>00337 <span class="preprocessor">#define QUEUE_GIVE      15      </span><span class="comment">/* give queue transfer model      */</span>
<a name="l00338"></a>00338 
<a name="l00339"></a>00339 <span class="preprocessor">#define QUEUE_RESPAWN       16      </span><span class="comment">/* queue needs to be respawned */</span>
<a name="l00340"></a>00340 <span class="preprocessor">#define QUEUE_KILLED        17      </span><span class="comment">/* queue and it's thread has been</span>
<a name="l00341"></a>00341 <span class="comment">                     * terminated.</span>
<a name="l00342"></a>00342 <span class="comment">                     */</span>
<a name="l00343"></a>00343 <span class="preprocessor">#define QUEUE_RESPAWNING    18</span>
<a name="l00344"></a>00344 <span class="preprocessor"></span>
<a name="l00345"></a>00345 
<a name="l00346"></a>00346 
<a name="l00350"></a>00350 <span class="preprocessor">#define CS_NONE         0               </span><span class="comment">/* no checksum validation       */</span>
<a name="l00351"></a>00351 <span class="preprocessor">#define CS_PACKET       1               </span><span class="comment">/* packet checksum validation   */</span>
<a name="l00352"></a>00352 <span class="preprocessor">#define CS_CHUNK        2               </span><span class="comment">/* chunk checksum validation    */</span>
<a name="l00353"></a>00353 <span class="preprocessor">#define CS_STRIPE       3               </span><span class="comment">/* stripe checksum validation   */</span>
<a name="l00354"></a>00354 
<a name="l00355"></a>00355 
<a name="l00359"></a><a class="code" href="structqueueStat.html">00359</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00360"></a>00360     <span class="keywordtype">char</span>        infile[SZ_PATH];        <span class="comment">/* current incoming file name     */</span>
<a name="l00361"></a>00361     <span class="keywordtype">char</span>        outfile[SZ_PATH];       <span class="comment">/* current outgoing file name     */</span>
<a name="l00362"></a>00362     <span class="keywordtype">char</span>    curfil[SZ_FNAME];   <span class="comment">/* currently processed filename   */</span>
<a name="l00363"></a>00363 
<a name="l00364"></a>00364     <span class="keywordtype">float</span>   avg_rate;       <span class="comment">/* average Mbps transfer rate     */</span>
<a name="l00365"></a>00365     <span class="keywordtype">float</span>   avg_size;       <span class="comment">/* average file size (in MB)      */</span>
<a name="l00366"></a>00366     <span class="keywordtype">float</span>   avg_time;       <span class="comment">/* average transfer time (in sec) */</span>
<a name="l00367"></a>00367     <span class="keywordtype">float</span>   tot_xfer;       <span class="comment">/* No. of GB transferred on queue */</span>
<a name="l00368"></a>00368     <span class="keywordtype">float</span>       tput_mb;            <span class="comment">/* throughput of last transfer    */</span>
<a name="l00369"></a>00369     <span class="keywordtype">int</span>         nfiles;         <span class="comment">/* number of files transferred    */</span>
<a name="l00370"></a>00370     <span class="keywordtype">int</span>         pending;        <span class="comment">/* number of files pending xfer   */</span>
<a name="l00371"></a>00371 } <a class="code" href="structqueueStat.html">queueStat</a>, *<a class="code" href="structqueueStat.html">queueStatP</a>;
<a name="l00372"></a>00372 
<a name="l00373"></a>00373 
<a name="l00377"></a><a class="code" href="structshmQueueStat.html">00377</a> <span class="keyword">typedef</span> <span class="keyword">struct</span>{
<a name="l00378"></a>00378     <span class="comment">/*  Status summary for the queue.</span>
<a name="l00379"></a>00379 <span class="comment">     */</span>
<a name="l00380"></a>00380     <span class="keywordtype">int</span>     numflushes;         <span class="comment">/* number of flushes sent     */</span>
<a name="l00381"></a>00381     <span class="keywordtype">int</span>     canceledxfers;      <span class="comment">/* number of canceled transfers,  */</span>
<a name="l00382"></a>00382                     <span class="comment">/* i.e for webmon poke        */</span>
<a name="l00383"></a>00383     <span class="keywordtype">int</span>     failedxfers;
<a name="l00384"></a>00384     <span class="keywordtype">int</span>     nerrs;
<a name="l00385"></a>00385     <span class="keywordtype">char</span>    msgs[40][SZ_LINE];  <span class="comment">/* queue msg strings          */</span>
<a name="l00386"></a>00386     <span class="keywordtype">int</span>     lin_num;        <span class="comment">/* line number the msgs is on.    */</span>
<a name="l00387"></a>00387 
<a name="l00388"></a>00388     <span class="comment">/*  Status Information for currently active transfer.</span>
<a name="l00389"></a>00389 <span class="comment">     */</span>
<a name="l00390"></a>00390     <span class="keywordtype">char</span>        qname[SZ_PATH];         <span class="comment">/* current queue name         */</span>
<a name="l00391"></a>00391     <span class="keywordtype">char</span>        infile[SZ_PATH];        <span class="comment">/* current incoming file name     */</span>
<a name="l00392"></a>00392     <span class="keywordtype">char</span>        outfile[SZ_PATH];       <span class="comment">/* current outgoing file name     */</span>
<a name="l00393"></a>00393 
<a name="l00394"></a>00394     <span class="keywordtype">size_t</span>  xfer_size;      <span class="comment">/* size (bytes) of xfer blob      */</span>
<a name="l00395"></a>00395 
<a name="l00396"></a>00396     <span class="keyword">struct </span>timeval   xfer_start;    <span class="comment">/* start time of transfer     */</span>
<a name="l00397"></a>00397     <span class="keyword">struct </span>timeval   xfer_end;      <span class="comment">/* end time of transfer       */</span>
<a name="l00398"></a>00398     <span class="keywordtype">float</span>   xfer_rate;      <span class="comment">/* total transfer (Mbps)      */</span>
<a name="l00399"></a>00399     <span class="keywordtype">float</span>   xfer_time;      <span class="comment">/* total transfer (sec)       */</span>
<a name="l00400"></a>00400     <span class="keywordtype">int</span>     xfer_stat;      <span class="comment">/* transfer:  OK or ERR       */</span>
<a name="l00401"></a>00401 
<a name="l00402"></a>00402     <span class="keyword">struct </span>timeval   net_start;     <span class="comment">/* start time of net i/o      */</span>
<a name="l00403"></a>00403     <span class="keyword">struct </span>timeval   net_end;       <span class="comment">/* end time of net i/o        */</span>
<a name="l00404"></a>00404     <span class="keywordtype">float</span>   net_rate;       <span class="comment">/* network transfer (Mbps)    */</span>
<a name="l00405"></a>00405     <span class="keywordtype">float</span>   net_time;       <span class="comment">/* network transfer (sec)     */</span>
<a name="l00406"></a>00406     <span class="keywordtype">int</span>     net_stat;       <span class="comment">/* net xfer:  OK or ERR       */</span>
<a name="l00407"></a>00407 
<a name="l00408"></a>00408     <span class="keyword">struct </span>timeval   disk_start;    <span class="comment">/* start time of disk i/o     */</span>
<a name="l00409"></a>00409     <span class="keyword">struct </span>timeval   disk_end;      <span class="comment">/* end time of disk i/o       */</span>
<a name="l00410"></a>00410     <span class="keywordtype">float</span>   disk_rate;      <span class="comment">/* disk transfer (Mbps)       */</span>
<a name="l00411"></a>00411     <span class="keywordtype">float</span>   disk_time;      <span class="comment">/* disk transfer (sec)        */</span>
<a name="l00412"></a>00412 
<a name="l00413"></a>00413     <span class="keyword">struct </span>timeval   dlvr_start;    <span class="comment">/* start time of disk i/o     */</span>
<a name="l00414"></a>00414     <span class="keyword">struct </span>timeval   dlvr_end;      <span class="comment">/* end time of disk i/o       */</span>
<a name="l00415"></a>00415     <span class="keywordtype">float</span>   dlvr_time;      <span class="comment">/* disk transfer (sec)        */</span>
<a name="l00416"></a>00416     <span class="keywordtype">int</span>     dlvr_stat;      <span class="comment">/* deliver:  OK or ERR        */</span>
<a name="l00417"></a>00417 } <a class="code" href="structshmQueueStat.html">shmQueueStat</a>;
<a name="l00418"></a>00418 
<a name="l00419"></a>00419 
<a name="l00420"></a>00420 
<a name="l00424"></a><a class="code" href="structParam.html">00424</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00425"></a>00425     <span class="keywordtype">char</span> name[SZ_PATH];
<a name="l00426"></a>00426     <span class="keywordtype">char</span> value[SZ_PATH];
<a name="l00427"></a>00427 } <a class="code" href="structParam.html">Param</a>;
<a name="l00428"></a>00428 
<a name="l00433"></a><a class="code" href="structqStat.html">00433</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00434"></a>00434     <span class="keywordtype">char</span>    name[SZ_PATH];          <span class="comment">/* queue name                     */</span>
<a name="l00435"></a>00435     <span class="keywordtype">char</span>    infile[SZ_PATH];        <span class="comment">/* current incoming file name     */</span>
<a name="l00436"></a>00436     <span class="keywordtype">char</span>    outfile[SZ_PATH];       <span class="comment">/* current outgoing file name     */</span>
<a name="l00437"></a>00437     <span class="keywordtype">char</span>    status[SZ_PATH];        <span class="comment">/* queue status string            */</span>
<a name="l00438"></a>00438     <span class="keywordtype">char</span>    type[SZ_PATH];          <span class="comment">/* queue type string              */</span>
<a name="l00439"></a>00439     <span class="keywordtype">char</span>    src[SZ_PATH];           <span class="comment">/* queue's path src               */</span>
<a name="l00440"></a>00440     <span class="keywordtype">int</span>     current;                <span class="comment">/* currently processed file       */</span>
<a name="l00441"></a>00441     <span class="keywordtype">int</span>     pending;                <span class="comment">/* Number of pending files        */</span>
<a name="l00442"></a>00442     <span class="keywordtype">int</span>     qcount;                 <span class="comment">/* Queue count semaphore value    */</span>
<a name="l00443"></a>00443 
<a name="l00444"></a>00444     <span class="keywordtype">float</span>   rate;                   <span class="comment">/* average mbs transfer rate      */</span>
<a name="l00445"></a>00445     <span class="keywordtype">float</span>   time;                   <span class="comment">/* average transfer time (sec)    */</span>
<a name="l00446"></a>00446     <span class="keywordtype">float</span>   size;                   <span class="comment">/* average transfer size (MB)     */</span>
<a name="l00447"></a>00447     <span class="keywordtype">float</span>   total;                  <span class="comment">/* total transfer size (GB)   */</span>
<a name="l00448"></a>00448 
<a name="l00449"></a>00449     <span class="keywordtype">int</span>     nxfer;                  <span class="comment">/* number of files transferred    */</span>
<a name="l00450"></a>00450     <span class="keywordtype">float</span>   Mbs;                    <span class="comment">/* average Mbs transfer rate      */</span>
<a name="l00451"></a>00451     <span class="keywordtype">int</span>     canceledxfers;      <span class="comment">/* num. of cancelled transfers    */</span>
<a name="l00452"></a>00452     <span class="keywordtype">int</span>     numflushes;     <span class="comment">/* num. of flushed transfers      */</span>
<a name="l00453"></a>00453     
<a name="l00454"></a>00454 }  <a class="code" href="structqStat.html">qStat</a>, *<a class="code" href="structqStat.html">qStatP</a>;
<a name="l00455"></a>00455 
<a name="l00456"></a>00456 
<a name="l00457"></a>00457 <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00458"></a>00458     <span class="keywordtype">char</span>    status[SZ_PATH];        <span class="comment">/* node status string             */</span>
<a name="l00459"></a>00459     <span class="keywordtype">char</span>    root[SZ_PATH];          <span class="comment">/* node's root path               */</span>
<a name="l00460"></a>00460     <span class="keywordtype">int</span>     dfree;                  <span class="comment">/* free disk space (MB)           */</span>
<a name="l00461"></a>00461     <span class="keywordtype">int</span>     dused;                  <span class="comment">/* used disk space (MB)           */</span>
<a name="l00462"></a>00462 
<a name="l00463"></a>00463     <span class="keywordtype">int</span>     nerrors;                <span class="comment">/* Number of error messgaes       */</span>
<a name="l00464"></a>00464     <span class="keywordtype">char</span>       *emsgs[MAX_EMSGS];       <span class="comment">/* error message strings          */</span>
<a name="l00465"></a>00465 
<a name="l00466"></a>00466     <span class="keywordtype">int</span>     nqueues;        <span class="comment">/* number of  managed queues      */</span>
<a name="l00467"></a>00467     <a class="code" href="structqStat.html">qStat</a>   queue[MAX_QUEUES];  <span class="comment">/* Individual queue stats     */</span>
<a name="l00468"></a>00468 }  nodeStat, *nodeStatP;
<a name="l00469"></a>00469 
<a name="l00470"></a>00470 
<a name="l00471"></a>00471 
<a name="l00476"></a>00476 <span class="preprocessor">#define MAXPARAMS   64      </span><span class="comment">/* max user-defined params    */</span>
<a name="l00477"></a>00477 
<a name="l00478"></a>00478 <span class="keyword">typedef</span> void  (*SIGFUNC)();     <span class="comment">/* signal handler type        */</span>
<a name="l00479"></a>00479 
<a name="l00480"></a>00480 <span class="keyword">typedef</span> <span class="keyword">struct </span>{                        <span class="comment">/* Control file info          */</span>
<a name="l00481"></a>00481     <span class="keywordtype">char</span>   queueHost[SZ_PATH];          <span class="comment">/* src host name              */</span>
<a name="l00482"></a>00482     <span class="keywordtype">char</span>   queuePath[SZ_PATH];          <span class="comment">/* local queue path           */</span>
<a name="l00483"></a>00483     <span class="keywordtype">char</span>   queueName[SZ_PATH];          <span class="comment">/* queue name                 */</span>
<a name="l00484"></a>00484     <span class="keywordtype">char</span>   deliveryName[SZ_PATH];       <span class="comment">/* delivered name             */</span>
<a name="l00485"></a>00485     <span class="keywordtype">char</span>   xferName[SZ_PATH];           <span class="comment">/* file name to transfer          */</span>
<a name="l00486"></a>00486     <span class="keywordtype">char</span>   filename[SZ_PATH];           <span class="comment">/* file name                  */</span>
<a name="l00487"></a>00487     <span class="keywordtype">char</span>   srcPath[SZ_PATH];            <span class="comment">/* full path at src           */</span>
<a name="l00488"></a>00488     <span class="keywordtype">char</span>   igstPath[SZ_PATH];           <span class="comment">/* full path at origin        */</span>
<a name="l00489"></a>00489 
<a name="l00490"></a>00490     <span class="keywordtype">char</span>           md5[SZ_PATH];        <span class="comment">/* MD5 checksum               */</span>
<a name="l00491"></a>00491     <span class="keywordtype">int</span>        isDir;               <span class="comment">/* is this a directory?       */</span>
<a name="l00492"></a>00492     <span class="keywordtype">long</span>       fsize;               <span class="comment">/* file size                  */</span>
<a name="l00493"></a>00493     mode_t     fmode;       <span class="comment">/* file mode              */</span>
<a name="l00494"></a>00494     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>   sum32;               <span class="comment">/* 32-bit checksum            */</span>
<a name="l00495"></a>00495     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>   crc32;               <span class="comment">/* 32-bit CRC value           */</span>
<a name="l00496"></a>00496     time_t     epoch;               <span class="comment">/* epoch (sec) at origin      */</span>
<a name="l00497"></a>00497 
<a name="l00498"></a>00498     <a class="code" href="structParam.html">Param</a>  params[MAXPARAMS];           <span class="comment">/* user-supplied params       */</span>
<a name="l00499"></a>00499     <span class="keywordtype">int</span>    nparams;         <span class="comment">/* number of params       */</span>
<a name="l00500"></a>00500 } Control;
<a name="l00501"></a>00501 
<a name="l00502"></a>00502 
<a name="l00506"></a><a class="code" href="structdtsQueue.html">00506</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00507"></a>00507     <span class="keywordtype">char</span>        name[SZ_FNAME];     <span class="comment">/* queue name             */</span>
<a name="l00508"></a>00508     <span class="keywordtype">char</span>    src[SZ_FNAME];      <span class="comment">/* queue source name          */</span>
<a name="l00509"></a>00509     <span class="keywordtype">char</span>    dest[SZ_FNAME];     <span class="comment">/* queue destination name     */</span>
<a name="l00510"></a>00510     <span class="keywordtype">char</span>    deliveryDir[SZ_PATH];   <span class="comment">/* delivery directory         */</span>
<a name="l00511"></a>00511     <span class="keywordtype">char</span>    deliveryCmd[SZ_FNAME];  <span class="comment">/* delivery command       */</span>
<a name="l00512"></a>00512     <span class="keywordtype">char</span>    deliverAs[SZ_FNAME];    <span class="comment">/* delivery filename          */</span>
<a name="l00513"></a>00513     <span class="keywordtype">char</span>    transfer[SZ_FNAME]; <span class="comment">/* transfer queues        */</span>
<a name="l00514"></a>00514 
<a name="l00515"></a>00515     <span class="keywordtype">int</span>         type;           <span class="comment">/* type of queue (sched, etc)     */</span>
<a name="l00516"></a>00516     <span class="keywordtype">int</span>         node;           <span class="comment">/* route node type (ingest, etc)  */</span>
<a name="l00517"></a>00517     <span class="keywordtype">int</span>         mode;           <span class="comment">/* transfer mode          */</span>
<a name="l00518"></a>00518     <span class="keywordtype">int</span>         method;         <span class="comment">/* transfer method        */</span>
<a name="l00519"></a>00519     <span class="keywordtype">int</span>         nthreads;       <span class="comment">/* no. transfer threads       */</span>
<a name="l00520"></a>00520     <span class="keywordtype">int</span>         port;           <span class="comment">/* start transfer port        */</span>
<a name="l00521"></a>00521     <span class="keywordtype">int</span>         keepalive;      <span class="comment">/* keep connections open?     */</span>
<a name="l00522"></a>00522     <span class="keywordtype">int</span>         deliveryPolicy;     <span class="comment">/* existing file policy       */</span>
<a name="l00523"></a>00523     <span class="keywordtype">int</span>     auto_purge;     <span class="comment">/* auto purge the spool dir   */</span>
<a name="l00524"></a>00524     <span class="keywordtype">int</span>         checksumPolicy;     <span class="comment">/* checksum policy        */</span>
<a name="l00525"></a>00525     
<a name="l00526"></a>00526     <span class="keywordtype">int</span>     activeSem;      <span class="comment">/* queue is active semaphore      */</span>
<a name="l00527"></a>00527     <span class="keywordtype">int</span>     countSem;       <span class="comment">/* queue count semaphore      */</span>
<a name="l00528"></a>00528     pthread_t   qm_tid;         <span class="comment">/* queue manager thread id    */</span>
<a name="l00529"></a>00529     
<a name="l00530"></a>00530     <span class="keywordtype">int</span>         status;         <span class="comment">/* queue status           */</span>
<a name="l00531"></a>00531     <span class="keywordtype">int</span>     udt_rate;       <span class="comment">/* UDT transfer rate (Mbps)   */</span>
<a name="l00532"></a>00532     time_t  interval;       <span class="comment">/* interval for scheduled queues  */</span>
<a name="l00533"></a>00533     time_t  stime;          <span class="comment">/* start time of interval     */</span>
<a name="l00534"></a>00534 
<a name="l00535"></a>00535     <span class="keyword">struct </span>timeval init_time;       <span class="comment">/* start time of init transfer    */</span>
<a name="l00536"></a>00536     <span class="keyword">struct </span>timeval end_time;        <span class="comment">/* start time of end transfer     */</span>
<a name="l00537"></a>00537 
<a name="l00538"></a>00538     <span class="keywordtype">char</span>        infile[SZ_PATH];        <span class="comment">/* current incoming file name     */</span>
<a name="l00539"></a>00539     <span class="keywordtype">char</span>        outfile[SZ_PATH];       <span class="comment">/* current outgoing file name     */</span>
<a name="l00540"></a>00540 
<a name="l00541"></a>00541     <a class="code" href="structxferContext.html">xferContext</a> context;        <span class="comment">/* connection context         */</span>
<a name="l00542"></a>00542 
<a name="l00543"></a>00543     <a class="code" href="structqueueStat.html">queueStat</a>   stats;          <span class="comment">/* queue processing stats     */</span>
<a name="l00544"></a>00544     Control     ctrl;           <span class="comment">/* outgoing control file          */</span>
<a name="l00545"></a>00545     
<a name="l00546"></a>00546     <span class="keywordtype">int</span>     nerrs;          <span class="comment">/* number of errors on queue      */</span>
<a name="l00547"></a>00547     
<a name="l00548"></a>00548     <span class="comment">/*</span>
<a name="l00549"></a>00549 <span class="comment">    int     oldest;             // keep track of oldest line      //</span>
<a name="l00550"></a>00550 <span class="comment">    int     msgline;            // keep track of message line     //</span>
<a name="l00551"></a>00551 <span class="comment">    char       *msgs[10];       // queue activity msg strings     //</span>
<a name="l00552"></a>00552 <span class="comment">    */</span>
<a name="l00553"></a>00553     
<a name="l00554"></a>00554     <span class="keywordtype">char</span>       *emsgs[MAX_EMSGS];   <span class="comment">/* error msg strings          */</span>
<a name="l00555"></a>00555 
<a name="l00556"></a>00556     pthread_mutex_t mutex;      <span class="comment">/* thread mutex lock          */</span>
<a name="l00557"></a>00557 
<a name="l00558"></a>00558     <span class="keywordtype">void</span>    *dts;           <span class="comment">/* back pointer           */</span>
<a name="l00559"></a>00559     <a class="code" href="structshmQueueStat.html">shmQueueStat</a> *qstat;        <span class="comment">/* shared memory pointer */</span>
<a name="l00560"></a>00560 } <a class="code" href="structdtsQueue.html">dtsQueue</a>, *<a class="code" href="structdtsQueue.html">dtsQueueP</a>;
<a name="l00561"></a>00561 
<a name="l00562"></a>00562 
<a name="l00566"></a><a class="code" href="structDTS.html">00566</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00567"></a>00567     <span class="keywordtype">char</span>        whoAmI[SZ_LINE];    <span class="comment">/* local name             */</span>
<a name="l00568"></a>00568     <span class="keywordtype">char</span>        passwd[SZ_LINE];    <span class="comment">/* local password         */</span>
<a name="l00569"></a>00569     <span class="keywordtype">char</span>        ops_pass[SZ_LINE];  <span class="comment">/* operations password        */</span>
<a name="l00570"></a>00570 
<a name="l00571"></a>00571     <span class="keywordtype">char</span>        serverName[SZ_FNAME];   <span class="comment">/* server name            */</span>
<a name="l00572"></a>00572     <span class="keywordtype">char</span>        serverRoot[SZ_PATH];    <span class="comment">/* sandbox root dir       */</span>
<a name="l00573"></a>00573     <span class="keywordtype">int</span>         serverPort;     <span class="comment">/* default server port        */</span>
<a name="l00574"></a>00574     <span class="keywordtype">char</span>        serverUrl[SZ_LINE]; <span class="comment">/* default server url         */</span>
<a name="l00575"></a>00575     <span class="keywordtype">char</span>        serverHost[SZ_FNAME];   <span class="comment">/* default server host        */</span>
<a name="l00576"></a>00576     <span class="keywordtype">char</span>        serverIP[SZ_FNAME]; <span class="comment">/* server IP address          */</span>
<a name="l00577"></a>00577     <span class="keywordtype">int</span>         contactPort;        <span class="comment">/* contact server port        */</span>
<a name="l00578"></a>00578 
<a name="l00579"></a>00579     <span class="keywordtype">int</span>         loPort;         <span class="comment">/* low transfer port          */</span>
<a name="l00580"></a>00580     <span class="keywordtype">int</span>         hiPort;         <span class="comment">/* high transfer port         */</span>
<a name="l00581"></a>00581     <span class="keywordtype">int</span>     semId;          <span class="comment">/* semaphore starting ID      */</span>
<a name="l00582"></a>00582 
<a name="l00583"></a>00583     <span class="keywordtype">char</span>        configFile[SZ_FNAME];   <span class="comment">/* DTS config file        */</span>
<a name="l00584"></a>00584     <span class="keywordtype">char</span>        workingDir[SZ_LINE];    <span class="comment">/* default working directory      */</span>
<a name="l00585"></a>00585 
<a name="l00586"></a>00586     <span class="keywordtype">char</span>        dbFile[SZ_FNAME];   <span class="comment">/* database file name         */</span>
<a name="l00587"></a>00587     <span class="keywordtype">char</span>        logFile[SZ_FNAME];  <span class="comment">/* log file name          */</span>
<a name="l00588"></a>00588     FILE    *logfd;         <span class="comment">/* log file descriptor        */</span>
<a name="l00589"></a>00589 
<a name="l00590"></a>00590     <a class="code" href="structdtsClient.html">dtsClient</a>   *clients[MAX_CLIENTS];  <span class="comment">/* connected clients          */</span>
<a name="l00591"></a>00591     <a class="code" href="structdtsClient.html">dtsClient</a>   *<span class="keyword">self</span>;          <span class="comment">/* server's client descriptor     */</span>
<a name="l00592"></a>00592     <span class="keywordtype">int</span>         nclients;       <span class="comment">/* no. of connected clients   */</span>
<a name="l00593"></a>00593 
<a name="l00594"></a>00594     <a class="code" href="structdtsQueue.html">dtsQueue</a>    *queues[MAX_QUEUES];    <span class="comment">/* managed queues         */</span>
<a name="l00595"></a>00595     <span class="keywordtype">int</span>         nqueues ;       <span class="comment">/* no. of connected clients   */</span>
<a name="l00596"></a>00596 
<a name="l00597"></a>00597     <span class="keywordtype">int</span>     nerrs;          <span class="comment">/* number of errors       */</span>
<a name="l00598"></a>00598     <span class="keywordtype">char</span>       *emsgs[MAX_EMSGS];   <span class="comment">/* error msg strings          */</span>
<a name="l00599"></a>00599 
<a name="l00600"></a>00600     <span class="keywordtype">char</span>        monitor[SZ_FNAME];  <span class="comment">/* monitor address        */</span>
<a name="l00601"></a>00601     <span class="keywordtype">char</span>        mon_url[SZ_FNAME];  <span class="comment">/* monitor URL            */</span>
<a name="l00602"></a>00602     <span class="keywordtype">int</span>     mon_fd;         <span class="comment">/* monitor client descriptor      */</span>
<a name="l00603"></a>00603     <span class="keywordtype">int</span>     mon_port;       <span class="comment">/* monitor connection port    */</span>
<a name="l00604"></a>00604     <span class="keywordtype">int</span>     stat_period;        <span class="comment">/* stat timer wait period (sec)   */</span>
<a name="l00605"></a>00605     pthread_t   stat_tid;       <span class="comment">/* stat timer thread id       */</span>
<a name="l00606"></a>00606 
<a name="l00607"></a>00607     <span class="keywordtype">int</span>     daemonize;      <span class="comment">/* run as daemon          */</span>
<a name="l00608"></a>00608     <span class="keywordtype">int</span>     verbose;        <span class="comment">/* verbose flag           */</span>
<a name="l00609"></a>00609     <span class="keywordtype">int</span>     debug;          <span class="comment">/* debug flag             */</span>
<a name="l00610"></a>00610     <span class="keywordtype">int</span>     copyMode;       <span class="comment">/* copyMode flag          */</span>
<a name="l00611"></a>00611     <span class="keywordtype">int</span>     trace;          <span class="comment">/* trace flag             */</span>
<a name="l00612"></a>00612     <span class="keywordtype">int</span>     shutdown;       <span class="comment">/* shutdown flag          */</span>
<a name="l00613"></a>00613     
<a name="l00614"></a>00614     time_t  start_time;         <span class="comment">/* start time for calculating the</span>
<a name="l00615"></a>00615 <span class="comment">                     * up time of the node</span>
<a name="l00616"></a>00616 <span class="comment">                     */</span>
<a name="l00617"></a>00617     <span class="keywordtype">char</span> build_date[SZ_FNAME];      <span class="comment">/* build date from &lt;build.h&gt;      */</span>
<a name="l00618"></a>00618 
<a name="l00619"></a>00619 } <a class="code" href="structDTS.html">DTS</a>, *<a class="code" href="structDTS.html">DTSP</a>;
<a name="l00620"></a>00620 
<a name="l00621"></a>00621 
<a name="l00622"></a>00622 
<a name="l00627"></a>00627 <span class="comment">/* dts.c</span>
<a name="l00628"></a>00628 <span class="comment">*/</span>
<a name="l00629"></a>00629 <a class="code" href="structDTS.html">DTS</a>    *<a class="code" href="dts_8c.html#5dbe6df7702b0e5678bb73fd2a9268cd" title="Initialize the DTS daemon structure.">dtsInit</a> (<span class="keywordtype">char</span> *config, <span class="keywordtype">int</span> port, <span class="keywordtype">char</span> *host, <span class="keywordtype">char</span> *root, <span class="keywordtype">int</span> init);
<a name="l00630"></a>00630 <span class="keywordtype">void</span>    <a class="code" href="dts_8c.html#363d0fe73832fc466694c7176ea23a1e">dts_initServerRoot</a> (<a class="code" href="structDTS.html">DTS</a> *dts);
<a name="l00631"></a>00631 <span class="keywordtype">void</span>    <a class="code" href="dts_8c.html#d3a53a72ab377b0a258468984ea3dbf0">dts_initCopyMode</a> (<a class="code" href="structDTS.html">DTS</a> *dts, <span class="keywordtype">char</span> *host, <span class="keywordtype">int</span> port);
<a name="l00632"></a>00632 
<a name="l00633"></a>00633 <span class="keywordtype">void</span>    <a class="code" href="dts_8c.html#e5e0e8ffebe0dea8a765f2bd77d4dee7" title="Free the DTS daemon structure.">dtsFree</a> (<a class="code" href="structDTS.html">DTS</a> *dts);
<a name="l00634"></a>00634 <span class="keywordtype">void</span>    <a class="code" href="dts_8c.html#5629564f91d5a7da37e23585ffab524b" title="Connoct to the logging monitor and/open log file.">dts_connectToMonitor</a> (<a class="code" href="structDTS.html">DTS</a> *dts);
<a name="l00635"></a>00635 
<a name="l00636"></a>00636 <span class="keywordtype">void</span>    <a class="code" href="dts_8c.html#eeb55d98b8be73e9c18dd260365d63a1" title="Connect to the logging monitor and/open log file.">dtsErrorExit</a> (<span class="keywordtype">char</span> *msg);
<a name="l00637"></a>00637 <span class="keywordtype">void</span>    <a class="code" href="dts_8c.html#f8242403da76ff746ea3a4b29edb4d29" title="Connect to the logging monitor and/open log file.">dtsErrorWarn</a> (<span class="keywordtype">char</span> *msg);
<a name="l00638"></a>00638 
<a name="l00639"></a>00639 
<a name="l00640"></a>00640 <span class="comment">/*  dtsASync.c </span>
<a name="l00641"></a>00641 <span class="comment">*/</span>
<a name="l00642"></a>00642 <span class="keywordtype">int</span>     <a class="code" href="dtsASync_8c.html#382ebb0512506fbb6359f569a97bf939" title="Asyncronous null handler.">dts_nullResponse</a>(<span class="keywordtype">void</span> *data);
<a name="l00643"></a>00643 
<a name="l00644"></a>00644 
<a name="l00645"></a>00645 <span class="comment">/*  dtsChecksum.c</span>
<a name="l00646"></a>00646 <span class="comment">*/</span>
<a name="l00647"></a>00647 <span class="keywordtype">char</span>   *dts_fileMD5 (<span class="keywordtype">char</span> *fname);
<a name="l00648"></a>00648 uint    dts_fileCRCChecksum (<span class="keywordtype">char</span> *fname, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *crc);
<a name="l00649"></a>00649 uint    dts_fileChecksum (<span class="keywordtype">char</span> *fname, <span class="keywordtype">int</span> do_sysv);
<a name="l00650"></a>00650 uint    dts_fileCRC32 (<span class="keywordtype">char</span> *fname);
<a name="l00651"></a>00651 <span class="keywordtype">int</span>     dts_fileValidate (<span class="keywordtype">char</span> *fname, uint sum32, uint crc, <span class="keywordtype">char</span> *md5);
<a name="l00652"></a>00652 
<a name="l00653"></a>00653 <span class="keywordtype">char</span>   *dts_memMD5 (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *buf, <span class="keywordtype">size_t</span> len);
<a name="l00654"></a>00654 uint    dts_memChecksum (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *buf, <span class="keywordtype">size_t</span> len, <span class="keywordtype">int</span> do_sysv);
<a name="l00655"></a>00655 uint    dts_memCRC32 (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *buf, <span class="keywordtype">size_t</span> len);
<a name="l00656"></a>00656 
<a name="l00657"></a>00657 <span class="keywordtype">void</span>    checksum (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *data, <span class="keywordtype">int</span> length, ushort *sum16, uint *sum32);
<a name="l00658"></a>00658 uint    addcheck32 (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *array, <span class="keywordtype">int</span> length);
<a name="l00659"></a>00659 
<a name="l00660"></a>00660 
<a name="l00661"></a>00661 <span class="comment">/*  dtsConfig.c </span>
<a name="l00662"></a>00662 <span class="comment">*/</span>
<a name="l00663"></a>00663 <span class="keywordtype">void</span>    <a class="code" href="dtsConfig_8c.html#389a5b821f5d2b4e20b7a6e59645bea5" title="Load the DTS configuration file.">dts_loadConfigDir</a> (<a class="code" href="structDTS.html">DTS</a> *dts, <span class="keywordtype">char</span> *cfg, <span class="keywordtype">char</span> *host, <span class="keywordtype">int</span> port, 
<a name="l00664"></a>00664         <span class="keywordtype">char</span> *root, <span class="keywordtype">int</span> init);
<a name="l00665"></a>00665 <span class="keywordtype">void</span>    <a class="code" href="dtsConfig_8c.html#9e1e56bc6f34a1fe1a8e94f3c197c74f" title="Load the DTS configuration file.">dts_loadConfigFile</a> (<a class="code" href="structDTS.html">DTS</a> *dts, <span class="keywordtype">char</span> *cfg, <span class="keywordtype">char</span> *host, <span class="keywordtype">int</span> port, 
<a name="l00666"></a>00666         <span class="keywordtype">char</span> *root, <span class="keywordtype">int</span> init);
<a name="l00667"></a>00667 <span class="keywordtype">int</span>     <a class="code" href="dtsConfig_8c.html#4773b579c4bcf1c67a726365a55a814a">dts_loadDefaultConfig</a> (<a class="code" href="structDTS.html">DTS</a> *dts, <span class="keywordtype">char</span> *host, <span class="keywordtype">int</span> port);
<a name="l00668"></a>00668 <span class="keywordtype">int</span>     <a class="code" href="dtsConfig_8c.html#587d1cf09032b57454b93c897103e8ba">dts_getQPort</a> (<a class="code" href="structDTS.html">DTS</a> *dts, <span class="keywordtype">char</span> *qname, <span class="keywordtype">int</span> tport);
<a name="l00669"></a>00669 <span class="keywordtype">void</span>    <a class="code" href="dtsConfig_8c.html#a9701d18a4657914290a64612d539011">dts_printQPorts</a> (<a class="code" href="structDTS.html">DTS</a> *dts);
<a name="l00670"></a>00670 <span class="keywordtype">int</span>     <a class="code" href="dtsConfig_8c.html#ead5907474a7fe09cf0a25ac4b9a0acd">dts_validateQueue</a> (<a class="code" href="structDTS.html">DTS</a> *dts, <a class="code" href="structdtsQueue.html">dtsQueue</a> *dtsq);
<a name="l00671"></a>00671 <a class="code" href="structdtsQueue.html">dtsQueue</a> *<a class="code" href="dtsConfig_8c.html#ea5a35d602804a798afc3a7e3d12cbfe">dts_newQueue</a> (<a class="code" href="structDTS.html">DTS</a> *dts);
<a name="l00672"></a>00672 
<a name="l00673"></a>00673 <span class="keywordtype">int</span>     <a class="code" href="dtsConfig_8c.html#faf96c7bc01f8b9a37b23b7030191a04" title="Validate a passwd against the host.">dts_validPasswd</a> (<a class="code" href="structDTS.html">DTS</a> *dts, <span class="keywordtype">char</span> *passwd);
<a name="l00674"></a>00674 <span class="keywordtype">char</span>   *<a class="code" href="dtsConfig_8c.html#e01d451f58d820104d1475e12ca7dbd5" title="Convert a DTS name to the host.">dts_nameToHost</a> (<a class="code" href="structDTS.html">DTS</a> *dts, <span class="keywordtype">char</span> *name);
<a name="l00675"></a>00675 <span class="keywordtype">char</span>   *<a class="code" href="dtsConfig_8c.html#0a2a57533302f07e814ce4c905dbcaa1" title="Convert a DTS name to the host IP.">dts_nameToIP</a> (<a class="code" href="structDTS.html">DTS</a> *dts, <span class="keywordtype">char</span> *name);
<a name="l00676"></a>00676 <span class="keywordtype">char</span>   *<a class="code" href="dtsConfig_8c.html#1ea31f3ccd808f20a70b2e8e9416b0b3" title="Convert a DTS name to the host name (2nd method).">dts_cfgNameToHost</a> (<a class="code" href="structDTS.html">DTS</a> *dts, <span class="keywordtype">char</span> *name);
<a name="l00677"></a>00677 <span class="keywordtype">char</span>   *<a class="code" href="dtsConfig_8c.html#1e530272f6035d256b03a2a010f31e7d" title="Convert a DTS name to the host IP (2nd method).">dts_cfgNameToIP</a> (<a class="code" href="structDTS.html">DTS</a> *dts, <span class="keywordtype">char</span> *name);
<a name="l00678"></a>00678 <span class="keywordtype">char</span>   *<a class="code" href="dtsConfig_8c.html#305baeebda91742d0128e10ccf20d3cd">dts_getLocalRoot</a> (<span class="keywordtype">void</span>);
<a name="l00679"></a>00679 <span class="keywordtype">char</span>   *<a class="code" href="dtsUtil_8c.html#4cd11b09fe89548b064e29ab70673b7a">dts_getLocalHost</a> (<span class="keywordtype">void</span>);
<a name="l00680"></a>00680 <span class="keywordtype">char</span>   *dts_getLocalHostIP (<span class="keywordtype">void</span>);
<a name="l00681"></a>00681 <span class="keywordtype">char</span>   *<a class="code" href="dtsUtil_8c.html#3ce41c5623388004cd99375607e9bf42">dts_getAliasHost</a> (<span class="keywordtype">char</span> *alias);
<a name="l00682"></a>00682 <span class="keywordtype">char</span>   *<a class="code" href="dtsUtil_8c.html#578e7bf5fdf94e609fdb39095441f0b7">dts_getAliasDest</a> (<span class="keywordtype">char</span> *alias);
<a name="l00683"></a>00683 <span class="keywordtype">int</span>     <a class="code" href="dtsUtil_8c.html#6a5c698ca189017460b1feb8b8b6ca8b">dts_getAliasPort</a> (<span class="keywordtype">char</span> *alias);
<a name="l00684"></a>00684 <span class="keywordtype">int</span>     <a class="code" href="dtsConfig_8c.html#e927756a844a723a4f51854f5d90592f" title="Get the type of queue.">dts_cfgQType</a> (<span class="keywordtype">char</span> *s);
<a name="l00685"></a>00685 <span class="keywordtype">int</span>     <a class="code" href="dtsConfig_8c.html#ce5973c4cb13c04c117eed50869d4fcd" title="Get the node type of queue.">dts_cfgQNode</a> (<span class="keywordtype">char</span> *s);
<a name="l00686"></a>00686 <span class="keywordtype">int</span>     <a class="code" href="dtsConfig_8c.html#a2201861ef52cb543fc14e8cdd2c3d2a" title="Get the queue transfer method.">dts_cfgQMethod</a> (<span class="keywordtype">char</span> *s);
<a name="l00687"></a>00687 <span class="keywordtype">int</span>     <a class="code" href="dtsConfig_8c.html#7f1782f360124fcc702e5ccb52f4d154" title="Get the trander mode (push or pull).">dts_cfgQMode</a> (<span class="keywordtype">char</span> *s);
<a name="l00688"></a>00688 <span class="keywordtype">char</span>   *<a class="code" href="dtsConfig_8c.html#64e76b8c7c5d28914a0c4d9ba2c12e79" title="Convert mode to string name.">dts_cfgQTypeStr</a> (<span class="keywordtype">int</span> type);
<a name="l00689"></a>00689 <span class="keywordtype">char</span>   *dts_cfgNodeeStr (<span class="keywordtype">int</span> node);
<a name="l00690"></a>00690 <span class="keywordtype">char</span>   *<a class="code" href="dtsConfig_8c.html#270eb477d144240d2ad87edf403df491" title="Convert method type to string name.">dts_cfgQMethodStr</a> (<span class="keywordtype">int</span> method);
<a name="l00691"></a>00691 <span class="keywordtype">char</span>   *<a class="code" href="dtsConfig_8c.html#a5a260ceab890f77768efa361f875bc1" title="Convert mode type to string name.">dts_cfgQModeStr</a> (<span class="keywordtype">int</span> mode);
<a name="l00692"></a>00692 <span class="keywordtype">char</span>   *<a class="code" href="dtsConfig_8c.html#c685bdb723accfd63da40ac825622ec7">dts_cfgPath</a> (<span class="keywordtype">void</span>);
<a name="l00693"></a>00693 time_t  <a class="code" href="dtsConfig_8c.html#da1b08444e39ac19d7f0b1fce527001a" title="Get a timing interval (in sec) from the config value.">dts_cfgInterval</a> (<span class="keywordtype">char</span> *intstr);
<a name="l00694"></a>00694 time_t  <a class="code" href="dtsConfig_8c.html#e86c815bd6bc45367e58940c824e6039" title="Get a timing interval (in sec) from the config value.">dts_cfgStartTime</a> (<span class="keywordtype">char</span> *tstr);
<a name="l00695"></a>00695 
<a name="l00696"></a>00696 <span class="keywordtype">void</span>    <a class="code" href="dtsConfig_8c.html#7b090914d81b4fc0c0ddef236bc04d17">dts_printConfig</a> (<a class="code" href="structDTS.html">DTS</a> *dts);
<a name="l00697"></a>00697 <span class="keywordtype">char</span>   *<a class="code" href="dtsConfig_8c.html#8dfac5f5648b1517f2c402772bb33f80">dts_fmtConfig</a> (<a class="code" href="structDTS.html">DTS</a> *dts);
<a name="l00698"></a>00698 
<a name="l00699"></a>00699 
<a name="l00700"></a>00700 <span class="comment">/*  dtsConsole.c </span>
<a name="l00701"></a>00701 <span class="comment">*/</span>
<a name="l00702"></a>00702 <span class="keywordtype">int</span>     <a class="code" href="dtsConsole_8c.html#4768f0bb93edbe85d56f2c49173eebab">dts_monAttach</a> (<span class="keywordtype">void</span> *data);
<a name="l00703"></a>00703 <span class="keywordtype">int</span>     <a class="code" href="dtsConsole_8c.html#c373b1042a0f62dd0c9fb0072a8bb83d">dts_monDetach</a> (<span class="keywordtype">void</span> *data);
<a name="l00704"></a>00704 <span class="keywordtype">int</span>     <a class="code" href="dtsConsole_8c.html#332ff56de6f5434872823e511705f482">dts_monConsole</a> (<span class="keywordtype">void</span> *data);
<a name="l00705"></a>00705 
<a name="l00706"></a>00706 
<a name="l00707"></a>00707 <span class="comment">/*  dtsCommands.c </span>
<a name="l00708"></a>00708 <span class="comment">*/</span>
<a name="l00709"></a>00709 <span class="keywordtype">int</span>     <a class="code" href="dtsCommands_8c.html#87de97e1da4d94dcfc30004a90a0753c" title="Check file access on a host DTS machine.">dts_hostAccess</a> (<span class="keywordtype">char</span> *host, <span class="keywordtype">char</span> *path, <span class="keywordtype">int</span> mode);
<a name="l00710"></a>00710 <span class="keywordtype">char</span>   *<a class="code" href="dtsCommands_8c.html#c41332ac6de701f1b752f049ab6e00fd" title="Cat a file.">dts_hostCat</a> (<span class="keywordtype">char</span> *host, <span class="keywordtype">char</span> *fname);
<a name="l00711"></a>00711 <span class="keywordtype">int</span>     dts_hostChecksum (<span class="keywordtype">char</span> *host, <span class="keywordtype">char</span> *fname, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *sum32,
<a name="l00712"></a>00712                          <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *crc, <span class="keywordtype">char</span> **md5);
<a name="l00713"></a>00713 <span class="keywordtype">int</span>     <a class="code" href="dtsCommands_8c.html#19bea8c8fdeb40a8911bb1f352b3b963" title="Copy a file on a host DTS machine.">dts_hostCopy</a> (<span class="keywordtype">char</span> *host, <span class="keywordtype">char</span> *old, <span class="keywordtype">char</span> *<span class="keyword">new</span>);
<a name="l00714"></a>00714 <span class="keywordtype">int</span>     <a class="code" href="dtsCommands_8c.html#0dbf220073481c1132fc7c187891b291" title="Change the mode of a file on a remote DTS.">dts_hostChmod</a> (<span class="keywordtype">char</span> *host, <span class="keywordtype">char</span> *path , mode_t mode);
<a name="l00715"></a>00715 <span class="keywordtype">char</span>   *<a class="code" href="dtsCommands_8c.html#b0dd7c06567b4132e1d16a4e7a9acbad" title="Get the cwd of the DTS host.">dts_hostCwd</a> (<span class="keywordtype">char</span> *host);
<a name="l00716"></a>00716 <span class="keywordtype">char</span>   *dts_hostCfg (<span class="keywordtype">char</span> *host, <span class="keywordtype">int</span> quiet);
<a name="l00717"></a>00717 <span class="keywordtype">int</span>     <a class="code" href="dtsCommands_8c.html#3a55643980d07d923f35c211e633dae0" title="Delete a file on a DTS host.">dts_hostDel</a> (<span class="keywordtype">char</span> *host, <span class="keywordtype">char</span> *path, <span class="keywordtype">char</span> *passwd, <span class="keywordtype">int</span> recursive);
<a name="l00718"></a>00718 <span class="keywordtype">char</span>   *<a class="code" href="dtsCommands_8c.html#3aaaafbe28937f87397e11bf351e00c2" title="Get a listing for a queue&amp;#39;s delivery directory.">dts_hostDestDir</a> (<span class="keywordtype">char</span> *host, <span class="keywordtype">char</span> *qname);
<a name="l00719"></a>00719 <span class="keywordtype">char</span>   *<a class="code" href="dtsCommands_8c.html#8b8ba4b97a493b95872394ce4d663cee" title="Get a directory listing from a DTS host.">dts_hostDir</a> (<span class="keywordtype">char</span> *host, <span class="keywordtype">char</span> *path, <span class="keywordtype">int</span> lsLong);
<a name="l00720"></a>00720 <span class="keywordtype">int</span>     <a class="code" href="dtsCommands_8c.html#c614bdff894e0c802dde6241a885f9ef" title="Test whether the given path is a directory.">dts_hostIsDir</a> (<span class="keywordtype">char</span> *host, <span class="keywordtype">char</span> *path);
<a name="l00721"></a>00721 <span class="keywordtype">int</span>     <a class="code" href="dtsCommands_8c.html#64d060e3293199c02e4d60a750ec4e9a" title="Get the space available on the give containing a specified path.">dts_hostDiskUsed</a> (<span class="keywordtype">char</span> *host, <span class="keywordtype">char</span> *path);
<a name="l00722"></a>00722 <span class="keywordtype">int</span>     <a class="code" href="dtsCommands_8c.html#34ef857bddce42dadb56a81b95fb4605" title="Get the space available on the give containing a specified path.">dts_hostDiskFree</a> (<span class="keywordtype">char</span> *host, <span class="keywordtype">char</span> *path);
<a name="l00723"></a>00723 <span class="keywordtype">char</span>   *<a class="code" href="dtsCommands_8c.html#1d4f63e8382658034690aebe495f94d2" title="Have a host DTS machine echo a string.">dts_hostEcho</a> (<span class="keywordtype">char</span> *host, <span class="keywordtype">char</span> *str);
<a name="l00724"></a>00724 <span class="keywordtype">int</span>     <a class="code" href="dtsCommands_8c.html#caba9f4abb4cb0d06ed31cb3a8188fc3" title="Get a remote file to a local file.">dts_hostFGet</a> (<span class="keywordtype">char</span> *host, <span class="keywordtype">char</span> *fname, <span class="keywordtype">char</span> *local, <span class="keywordtype">int</span> blk);
<a name="l00725"></a>00725 <span class="keywordtype">long</span>    <a class="code" href="dtsCommands_8c.html#3c071e1cfe369d0ab24170ec9c1be582" title="Get a file size on a remote DTS host.">dts_hostFSize</a> (<span class="keywordtype">char</span> *host, <span class="keywordtype">char</span> *path);
<a name="l00726"></a>00726 <span class="keywordtype">long</span>    <a class="code" href="dtsCommands_8c.html#acc4c397bbe8d32e4fc7be4c05813e4b" title="Get a file mode on a remote DTS host.">dts_hostFMode</a> (<span class="keywordtype">char</span> *host, <span class="keywordtype">char</span> *path);
<a name="l00727"></a>00727 <span class="keywordtype">int</span>     <a class="code" href="dtsCommands_8c.html#a30236cbaf69a00482fe57504e9a338d" title="Get a file time on a remote DTS host.">dts_hostFTime</a> (<span class="keywordtype">char</span> *host, <span class="keywordtype">char</span> *path, <span class="keywordtype">char</span> *mode);
<a name="l00728"></a>00728 <span class="keywordtype">int</span>     <a class="code" href="dtsCommands_8c.html#cbbd9245835f4291a0b0de23fb2c08dc" title="Make a directory on a host DTS machine.">dts_hostMkdir</a> (<span class="keywordtype">char</span> *host, <span class="keywordtype">char</span> *path);
<a name="l00729"></a>00729 <span class="keywordtype">int</span>     <a class="code" href="dtsCommands_8c.html#ac97ed92ed9cdccd2451906bd16f842e" title="Ping a host DTS machine.">dts_hostPing</a> (<span class="keywordtype">char</span> *host);
<a name="l00730"></a>00730 <span class="keywordtype">int</span>     <a class="code" href="dtsCommands_8c.html#f2dc0d7c3146596d29270b6bb19d4b5d" title="Ping a host DTS machine.">dts_hostPingSleep</a> (<span class="keywordtype">char</span> *host, <span class="keywordtype">int</span> time);
<a name="l00731"></a>00731 <span class="keywordtype">char</span>   *<a class="code" href="dtsCommands_8c.html#ca0bdc05055e753e25956c24bb5c35f1" title="Ping a host DTS machine.">dts_hostPingStr</a> (<span class="keywordtype">char</span> *host);
<a name="l00732"></a>00732 <span class="keywordtype">int</span>     <a class="code" href="dtsCommands_8c.html#0935013c1b7e9da0815cd62115ca0f2d" title="Ping a host DTS machine.">dts_hostPingArray</a> (<span class="keywordtype">char</span> *host);
<a name="l00733"></a>00733 <span class="keywordtype">int</span>     <a class="code" href="dtsCommands_8c.html#821c3181439c0fc450024a8aa00e3427" title="Poke a host DTS machine, i.e. ping w/out a restart.">dts_hostPoke</a> (<span class="keywordtype">char</span> *host);
<a name="l00734"></a>00734 <span class="keywordtype">int</span>     <a class="code" href="dtsCommands_8c.html#085eb41af477bdc4786d9e94c660c67e" title="Tell one machine to ping another.">dts_hostRemotePing</a> (<span class="keywordtype">char</span> *local, <span class="keywordtype">char</span> *remote);
<a name="l00735"></a>00735 <span class="keywordtype">int</span>     <a class="code" href="dtsCommands_8c.html#f390d4e8d08004d04c1c6d2d03c29710" title="Rename a file on a host DTS machine.">dts_hostRename</a> (<span class="keywordtype">char</span> *host, <span class="keywordtype">char</span> *old, <span class="keywordtype">char</span> *<span class="keyword">new</span>);
<a name="l00736"></a>00736 <span class="keywordtype">int</span>     <a class="code" href="dtsCommands_8c.html#777cb6ae0277da281ac1e0bca400f136" title="Set the root directory of a DTS.">dts_hostSetRoot</a> (<span class="keywordtype">char</span> *host, <span class="keywordtype">char</span> *path);
<a name="l00737"></a>00737 <span class="keywordtype">int</span>     <a class="code" href="dtsCommands_8c.html#59cbe9781e39c555781b3714202d7ad2" title="Set a debug flag on a DTS node.">dts_hostSetDbg</a> (<span class="keywordtype">char</span> *host, <span class="keywordtype">char</span> *flag);
<a name="l00738"></a>00738 <span class="keywordtype">int</span>     dts_hostSvrPing (<span class="keywordtype">char</span> *host, <span class="keywordtype">int</span> time);
<a name="l00739"></a>00739 <span class="keywordtype">int</span>     <a class="code" href="dtsCommands_8c.html#8358207b2bb483a5cee73cafb5e0a04f" title="Update access time on a host DTS machine.">dts_hostTouch</a> (<span class="keywordtype">char</span> *host, <span class="keywordtype">char</span> *path);
<a name="l00740"></a>00740 <span class="keywordtype">char</span>   *<a class="code" href="dtsCommands_8c.html#ae2efaa0a5a3b5f9e2c03080750306f8" title="Get the destination of the named queue.">dts_hostDest</a> (<span class="keywordtype">char</span> *host, <span class="keywordtype">char</span> *qname);
<a name="l00741"></a>00741 <span class="keywordtype">char</span>   *<a class="code" href="dtsCommands_8c.html#b8e92f2b12134b917de801c3b1333b01" title="Get the source of the named queue.">dts_hostSrc</a> (<span class="keywordtype">char</span> *host, <span class="keywordtype">char</span> *qname);
<a name="l00742"></a>00742 <span class="keywordtype">int</span>     <a class="code" href="dtsCommands_8c.html#2f2fe4a97d0aaffcad230016ca30ad6d" title="Pause the named queue.">dts_hostPauseQueue</a> (<span class="keywordtype">char</span> *host, <span class="keywordtype">char</span> *qname);
<a name="l00743"></a>00743 <span class="keywordtype">int</span>     <a class="code" href="dtsCommands_8c.html#aed6a0cae65003482bb9c4786a11f94f" title="Poke the named queue.">dts_hostPokeQueue</a> (<span class="keywordtype">char</span> *host, <span class="keywordtype">char</span> *qname);
<a name="l00744"></a>00744 <span class="keywordtype">int</span>     <a class="code" href="dtsCommands_8c.html#f637d6363021dc9829c2da7ed856b530" title="Stop the named queue.">dts_hostFlushQueue</a> (<span class="keywordtype">char</span> *host, <span class="keywordtype">char</span> *qname);
<a name="l00745"></a>00745 <span class="keywordtype">int</span>     <a class="code" href="dtsCommands_8c.html#d17acd7ebb9d8c22338336504a911506" title="Start the named queue.">dts_hostStartQueue</a> (<span class="keywordtype">char</span> *host, <span class="keywordtype">char</span> *qname);
<a name="l00746"></a>00746 <span class="keywordtype">int</span>     <a class="code" href="dtsCommands_8c.html#6eaa2eab6425b050f452cf5efbdfc987" title="Shutdown the named queue.">dts_hostShutdownQueue</a> (<span class="keywordtype">char</span> *host, <span class="keywordtype">char</span> *qname);
<a name="l00747"></a>00747 <span class="keywordtype">char</span>   *<a class="code" href="dtsCommands_8c.html#074c359f7f8681a6ccf07cd5f8e6228a" title="List the named queue.">dts_hostListQueue</a> (<span class="keywordtype">char</span> *host, <span class="keywordtype">char</span> *qname);
<a name="l00748"></a>00748 <span class="keywordtype">char</span>   *<a class="code" href="dtsCommands_8c.html#8da718190c8870e5271bb813b556fadb" title="Print the configuration of the named queue.">dts_hostPrintQueueCfg</a> (<span class="keywordtype">char</span> *host, <span class="keywordtype">char</span> *qname);
<a name="l00749"></a>00749 <span class="keywordtype">int</span>     <a class="code" href="dtsCommands_8c.html#ea8b3a5af69539b17eb844c4d7fd927d" title="Get the status flag on the named queue.">dts_hostGetQueueStat</a> (<span class="keywordtype">char</span> *host, <span class="keywordtype">char</span> *qname);
<a name="l00750"></a>00750 <span class="keywordtype">int</span>     <a class="code" href="dtsCommands_8c.html#6fa58f3bca0256a314378374ec487e74" title="Set the status flag on the named queue.">dts_hostSetQueueStat</a> (<span class="keywordtype">char</span> *host, <span class="keywordtype">char</span> *qname, <span class="keywordtype">int</span> val);
<a name="l00751"></a>00751 <span class="keywordtype">int</span>     <a class="code" href="dtsCommands_8c.html#673c0810cfaf77351be31bad89c9f4d3" title="Set the pending count for the named queue.">dts_hostSetQueueCount</a> (<span class="keywordtype">char</span> *host, <span class="keywordtype">char</span> *qname, <span class="keywordtype">int</span> count);
<a name="l00752"></a>00752 <span class="keywordtype">int</span>     <a class="code" href="dtsCommands_8c.html#f50fc2b35a4aedff85360266d3d4ed36" title="Get the pending count for the named queue.">dts_hostGetQueueCount</a> (<span class="keywordtype">char</span> *host, <span class="keywordtype">char</span> *qname);
<a name="l00753"></a>00753 <span class="keywordtype">int</span>     <a class="code" href="dtsCommands_8c.html#de4c39df9647325016b929ec0711095a" title="Set the queue deliveryDir.">dts_hostSetQueueDir</a> (<span class="keywordtype">char</span> *host, <span class="keywordtype">char</span> *qname, <span class="keywordtype">char</span> *dir);
<a name="l00754"></a>00754 <span class="keywordtype">char</span>   *<a class="code" href="dtsCommands_8c.html#c6e5fc77a87e0123f9dd086b062113f3" title="Get the queue deliverDirectory.">dts_hostGetQueueDir</a> (<span class="keywordtype">char</span> *host, <span class="keywordtype">char</span> *qname);
<a name="l00755"></a>00755 <span class="keywordtype">int</span>     <a class="code" href="dtsCommands_8c.html#69f7f8a80573380414acb16c296cae5a" title="Set the queue deliveryCmd.">dts_hostSetQueueCmd</a> (<span class="keywordtype">char</span> *host, <span class="keywordtype">char</span> *qname, <span class="keywordtype">char</span> *cmd);
<a name="l00756"></a>00756 <span class="keywordtype">char</span>   *<a class="code" href="dtsCommands_8c.html#6045a2cccbb8b4ceb584d666116c0cbb" title="Get the queue deliverCmd.">dts_hostGetQueueCmd</a> (<span class="keywordtype">char</span> *host, <span class="keywordtype">char</span> *qname);
<a name="l00757"></a>00757 <span class="keywordtype">char</span>   *<a class="code" href="dtsCommands_8c.html#f0c0559bd33f5927eba6b003e84f1ff7" title="Get the DTS copy directory.">dts_hostGetCopyDir</a> (<span class="keywordtype">char</span> *host);
<a name="l00758"></a>00758 <span class="keywordtype">int</span>     <a class="code" href="dtsCommands_8c.html#e2a0eeadc9a21785bdd1c5b7f722be46" title="Execute the given command.">dts_hostExecCmd</a> (<span class="keywordtype">char</span> *host, <span class="keywordtype">char</span> *ewd, <span class="keywordtype">char</span> *cmd);
<a name="l00759"></a>00759 <span class="comment">/*</span>
<a name="l00760"></a>00760 <span class="comment">int     dts_hostAddToQueue (char *host, char *qname, char *fname);</span>
<a name="l00761"></a>00761 <span class="comment">int     dts_hostDelFromQueue (char *host, char *qname, char *fname);</span>
<a name="l00762"></a>00762 <span class="comment">*/</span>
<a name="l00763"></a>00763 
<a name="l00764"></a>00764 
<a name="l00765"></a>00765 <span class="keywordtype">int</span>     dts_hostPush (<span class="keywordtype">char</span> *host, <span class="keywordtype">int</span> cmdPort, <span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[]);
<a name="l00766"></a>00766 <span class="keywordtype">int</span>     dts_hostPull (<span class="keywordtype">char</span> *host, <span class="keywordtype">int</span> cmdPort, <span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[]);
<a name="l00767"></a>00767 
<a name="l00768"></a>00768 <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code" href="dtsCommands_8c.html#39f9a397017b988fad73e2fdd02f20ae" title="Read a chunk from a file.">dts_hostRead</a>(<span class="keywordtype">char</span> *host, <span class="keywordtype">char</span> *path, <span class="keywordtype">int</span> off, <span class="keywordtype">int</span> sz, <span class="keywordtype">int</span> *nb);
<a name="l00769"></a>00769 <span class="keywordtype">int</span>     dts_hostWrite (<span class="keywordtype">char</span> *host, <span class="keywordtype">char</span> *path, <span class="keywordtype">int</span> off, <span class="keywordtype">long</span> sz, <span class="keywordtype">char</span> *data);
<a name="l00770"></a>00770 <span class="keywordtype">int</span>     <a class="code" href="dtsCommands_8c.html#0b706a5b09ccb109895c400f9c93dafd" title="Prealloc space on a host DTS machine.">dts_hostPrealloc</a> (<span class="keywordtype">char</span> *host, <span class="keywordtype">char</span> *path, <span class="keywordtype">long</span> size);
<a name="l00771"></a>00771 <span class="keywordtype">int</span>     <a class="code" href="dtsCommands_8c.html#1b90712543efadb4bfe6c7b1a487d934" title="Update access time on a host DTS machine.">dts_hostStat</a> (<span class="keywordtype">char</span> *host, <span class="keywordtype">char</span> *path, <span class="keyword">struct</span> stat *st);
<a name="l00772"></a>00772 
<a name="l00773"></a>00773 <span class="keywordtype">int</span>     <a class="code" href="dtsCommands_8c.html#b642efc1396c525214c595bcbe9a2098" title="Just freakin&amp;#39; die.">dts_hostAbort</a> (<span class="keywordtype">char</span> *host, <span class="keywordtype">char</span> *passwd);
<a name="l00774"></a>00774 <span class="keywordtype">int</span>     <a class="code" href="dtsCommands_8c.html#952d8048620067cdf074d79f4744cad8" title="Attempt to contact/start the remote DTS.">dts_hostContact</a> (<span class="keywordtype">char</span> *host);
<a name="l00775"></a>00775 <span class="keywordtype">int</span>     <a class="code" href="dtsCommands_8c.html#f2da8c328d7a370934938fcc094cb896" title="Just freakin&amp;#39; die.">dts_hostShutdown</a> (<span class="keywordtype">char</span> *host, <span class="keywordtype">char</span> *passwd);
<a name="l00776"></a>00776 <span class="keywordtype">int</span>     <a class="code" href="dtsCommands_8c.html#fab957704773e946c64c01662f837804" title="Set a value on the remote host.">dts_hostSet</a> (<span class="keywordtype">char</span> *host, <span class="keywordtype">char</span> *<span class="keyword">class</span>, <span class="keywordtype">char</span> *key, <span class="keywordtype">char</span> *val);
<a name="l00777"></a>00777 <span class="keywordtype">char</span>   *<a class="code" href="dtsCommands_8c.html#bc357c8b479519503b3f176b9749da44" title="Get a value from the remote host.">dts_hostGet</a> (<span class="keywordtype">char</span> *host, <span class="keywordtype">char</span> *<span class="keyword">class</span>, <span class="keywordtype">char</span> *key);
<a name="l00778"></a>00778 <span class="keywordtype">int</span>     <a class="code" href="dtsCommands_8c.html#08460d796393303d54163d514b3f17e0" title="Update the transfer statistics.">dts_hostUpStats</a> (<span class="keywordtype">char</span> *host, <span class="keywordtype">char</span> *qname, <a class="code" href="structxferStat.html">xferStat</a> *xfs);
<a name="l00779"></a>00779 <span class="keywordtype">int</span>     dts_hostNodeStat (<span class="keywordtype">char</span> *host, <span class="keywordtype">char</span> *qname, <span class="keywordtype">int</span> errs, nodeStat *ns);
<a name="l00780"></a>00780 
<a name="l00781"></a>00781 <span class="keywordtype">int</span>     <a class="code" href="dtsCommands_8c.html#444ff16f65d71a45209f4c2b423d135a" title="Is the given host the local machine?">dts_isLocal</a> (<span class="keywordtype">char</span> *host);
<a name="l00782"></a>00782 <span class="keywordtype">void</span>    <a class="code" href="dtsCommands_8c.html#da9a1386f1b2804bc68ec2ab9f7ceed6">dts_cmdInit</a> (<span class="keywordtype">void</span>);
<a name="l00783"></a>00783 <span class="keywordtype">int</span> <a class="code" href="dtsCommands_8c.html#89206c7f5702993e813f77283e9a5e88">dts_getClient</a> (<span class="keywordtype">char</span> *host);
<a name="l00784"></a>00784 <span class="keywordtype">int</span> <a class="code" href="dtsCommands_8c.html#6ee4c9e769b5f667a0b1f3155dfac4f2">dts_closeClient</a> (<span class="keywordtype">int</span> client);
<a name="l00785"></a>00785 
<a name="l00786"></a>00786 
<a name="l00787"></a>00787 <span class="comment">/*  dtsDeliver.c </span>
<a name="l00788"></a>00788 <span class="comment">*/</span>
<a name="l00789"></a>00789 <span class="keywordtype">char</span>   *<a class="code" href="dtsDeliver_8c.html#f658b6c9b92a009988a0754729885b32" title="Deliver a file at a destination location.">dts_Deliver</a> (<a class="code" href="structdtsQueue.html">dtsQueue</a> *dtsq, Control *ctrl, <span class="keywordtype">char</span> *fname, <span class="keywordtype">int</span> *stat);
<a name="l00790"></a>00790 <span class="keywordtype">char</span>   *<a class="code" href="dtsDeliver_8c.html#906466be98ea4096ef4020e32171e764" title="Get the delivery path name.">dts_getDeliveryPath</a> (<a class="code" href="structdtsQueue.html">dtsQueue</a> *dtsq, Control *ctrl);
<a name="l00791"></a>00791 <span class="keywordtype">void</span>    <a class="code" href="dtsDeliver_8c.html#5f79dff3c693862452034cdc2bdbfd5c" title="Load the delivery app parameters.">dts_loadDeliveryParams</a> (Control *ctrl, <span class="keywordtype">char</span> *pfname);
<a name="l00792"></a>00792 <span class="keywordtype">int</span>     <a class="code" href="dtsDeliver_8c.html#026b87b423a3997075125275b5108ee2" title="Test the delivery directory.">dts_testDeliveryDir</a> (<span class="keywordtype">char</span> *dpath, <span class="keywordtype">int</span> create, <span class="keywordtype">char</span> *msg);
<a name="l00793"></a>00793 <span class="keywordtype">int</span>     <a class="code" href="dtsDeliver_8c.html#b6cddb51634e349748071c1932cb2572" title="Verify the delivered file.">dts_validateDelivery</a> (Control *ctrl, <span class="keywordtype">char</span> *dpath);
<a name="l00794"></a>00794 <span class="keywordtype">int</span>     <a class="code" href="dtsDeliver_8c.html#fbf9f50db4696726883928359e0e2845" title="Add history record to control file.">dts_addControlHistory</a> (Control *ctrl, <span class="keywordtype">char</span> *msg);
<a name="l00795"></a>00795 
<a name="l00796"></a>00796 <span class="keywordtype">int</span>     <a class="code" href="dtsDeliver_8c.html#10b81af1753179dcc067e5f8efb79fb5" title="Execute a general UNIX command passed as a string.">dts_sysExec</a> (<span class="keywordtype">char</span> *ewd, <span class="keywordtype">char</span> *cmd);
<a name="l00797"></a>00797 <span class="keywordtype">int</span>     <a class="code" href="dtsDeliver_8c.html#bfd729a7e4a512397585397c041c539b" title="Wait for an asynchronous child process to terminate.">dts_Await</a> (<span class="keywordtype">int</span> waitpid);
<a name="l00798"></a>00798 <span class="keywordtype">void</span>    <a class="code" href="dtsDeliver_8c.html#7fa66ec9fa8dd635780be49d8541c562">dts_Interrupt</a> (<span class="keywordtype">int</span> value);
<a name="l00799"></a>00799 <span class="keywordtype">void</span>    <a class="code" href="dtsDeliver_8c.html#d2b4a835647ea36317c69283ae774425">dts_Enbint</a> (SIGFUNC handler);
<a name="l00800"></a>00800 
<a name="l00801"></a>00801 
<a name="l00802"></a>00802 <span class="comment">/*  dtsIngest.c </span>
<a name="l00803"></a>00803 <span class="comment">*/</span>
<a name="l00804"></a>00804 <span class="keywordtype">char</span>   *<a class="code" href="dtsIngest_8c.html#2474c7bac4c2ae61260a930ff108cb86" title="Ingest a file for transport.">dts_Ingest</a> (<a class="code" href="structdtsQueue.html">dtsQueue</a> *dtsq, Control *ctrl, <span class="keywordtype">char</span> *fname, 
<a name="l00805"></a>00805         <span class="keywordtype">char</span> *cpath, <span class="keywordtype">int</span> *stat);
<a name="l00806"></a>00806 
<a name="l00807"></a>00807 
<a name="l00808"></a>00808 <span class="comment">/*  dtsLocal.c </span>
<a name="l00809"></a>00809 <span class="comment">*/</span>
<a name="l00810"></a>00810 <span class="keywordtype">int</span>     <a class="code" href="dtsLocal_8c.html#7654136b0f2b5c1f06c9bbe4e5c8f5ed" title="Check a local file for an access mode.">dts_localAccess</a> (<span class="keywordtype">char</span> *path, <span class="keywordtype">int</span> mode);
<a name="l00811"></a>00811 <span class="keywordtype">int</span>     <a class="code" href="dtsLocal_8c.html#acf850564fc5b55a0589d8c32f6f7726" title="Copy a local file.">dts_localCopy</a> (<span class="keywordtype">char</span> *old, <span class="keywordtype">char</span> *<span class="keyword">new</span>);
<a name="l00812"></a>00812 <span class="keywordtype">char</span>   *<a class="code" href="dtsLocal_8c.html#cb1546425fc6bfa2d63620069a736340" title="Get the current working directory.">dts_localCwd</a> ();
<a name="l00813"></a>00813 <span class="keywordtype">int</span>     <a class="code" href="dtsLocal_8c.html#e4d73df8872bc749a556e7f6e02e8ce2" title="Delete a local file.">dts_localDelete</a> (<span class="keywordtype">char</span> *path, <span class="keywordtype">int</span> recurse);
<a name="l00814"></a>00814 <span class="keywordtype">char</span>   *<a class="code" href="dtsLocal_8c.html#4671e6ac815b34c3d6042eb5819b4002" title="Get a local directory listing.">dts_localDir</a> (<span class="keywordtype">char</span> *path, <span class="keywordtype">int</span> lsLong);
<a name="l00815"></a>00815 <span class="keywordtype">int</span>     <a class="code" href="dtsLocal_8c.html#71ea0bdc6d49c5090e801d006ff018df" title="Change the mode of a local file.">dts_localChmod</a> (<span class="keywordtype">char</span> *path, mode_t mode);
<a name="l00816"></a>00816 <span class="keywordtype">int</span>     <a class="code" href="dtsLocal_8c.html#f57d7f27dd02b4d3cc27597c1b501f69" title="Make a local directory.">dts_localMkdir</a> (<span class="keywordtype">char</span> *path);
<a name="l00817"></a>00817 <span class="keywordtype">int</span>     <a class="code" href="dtsLocal_8c.html#906353ee1d8fb52c1b58720e4dd651da" title="Update file modification time.">dts_localMtime</a> (<span class="keywordtype">char</span> *path, <span class="keywordtype">long</span> mtime);
<a name="l00818"></a>00818 <span class="keywordtype">int</span>     <a class="code" href="dtsLocal_8c.html#0f80cb849efba2538630ca0bc70d4232" title="Rename a local file.">dts_localRename</a> (<span class="keywordtype">char</span> *old, <span class="keywordtype">char</span> *<span class="keyword">new</span>);
<a name="l00819"></a>00819 <span class="keywordtype">int</span>     <a class="code" href="dtsLocal_8c.html#5705f56d5f8d119379a85cda909409bd" title="Touch a local file.">dts_localTouch</a> (<span class="keywordtype">char</span> *path);
<a name="l00820"></a>00820 <span class="keywordtype">int</span>     <a class="code" href="dtsLocal_8c.html#f87567a8f874edf3ac80f744794bc657" title="Pre-allocate a local file.">dts_localPrealloc</a> (<span class="keywordtype">char</span> *path, <span class="keywordtype">int</span> size);
<a name="l00821"></a>00821 
<a name="l00822"></a>00822 
<a name="l00823"></a>00823 <span class="comment">/*  dtsLog.c </span>
<a name="l00824"></a>00824 <span class="comment">*/</span>
<a name="l00825"></a>00825 <span class="keywordtype">void</span>    <a class="code" href="dtsLog_8c.html#d2c05204a0fc838b5af5cb776aa457ce" title="DTS message logger.">dtsLog</a> (<a class="code" href="structDTS.html">DTS</a> *dts, <span class="keywordtype">char</span> *format, ...);
<a name="l00826"></a>00826 <span class="keywordtype">void</span>    <a class="code" href="dtsLog_8c.html#dbc2225ca4ca582c03a1d8e3dcbe3c9f" title="Log DTS messages to DTSMON and local database.">dtsLogMsg</a> (<a class="code" href="structDTS.html">DTS</a> *dts, <span class="keywordtype">int</span> key, <span class="keywordtype">char</span> *format, ...);
<a name="l00827"></a>00827 <span class="keywordtype">void</span>    <a class="code" href="dtsLog_8c.html#8c650d3a4d38d228050f03c8a706f1d5" title="DTS message logger.">dtsLogStat</a> (<a class="code" href="structDTS.html">DTS</a> *dts, <span class="keywordtype">char</span> *msg);
<a name="l00828"></a>00828 <span class="keywordtype">void</span>    <a class="code" href="dtsLog_8c.html#f7df869bba0ef32fd401406ec844762a" title="DTS message logger.">dtsErrLog</a> (<a class="code" href="structdtsQueue.html">dtsQueue</a> *dtsq, <span class="keywordtype">char</span> *format, ...);
<a name="l00829"></a>00829 <span class="keywordtype">void</span>    <a class="code" href="dtsLog_8c.html#dbb792f77956cc647226bcacab450bf8" title="DTS timing message logger.">dtsTimeLog</a> (<span class="keywordtype">char</span> *format, <span class="keyword">struct</span> timeval t1);
<a name="l00830"></a>00830 <span class="keywordtype">void</span>    <a class="code" href="dtsLog_8c.html#fc4d96226d85c50d80a395cf98873463">dts_encodeString</a> (<span class="keywordtype">char</span> *buf, <span class="keywordtype">char</span> *format, va_list *argp);
<a name="l00831"></a>00831 
<a name="l00832"></a>00832 <span class="keywordtype">void</span>    <a class="code" href="dts_8c.html#eeb55d98b8be73e9c18dd260365d63a1" title="Connect to the logging monitor and/open log file.">dtsErrorExit</a> (<span class="keywordtype">char</span> *msg);
<a name="l00833"></a>00833 <span class="keywordtype">void</span>    <a class="code" href="dts_8c.html#f8242403da76ff746ea3a4b29edb4d29" title="Connect to the logging monitor and/open log file.">dtsErrorWarn</a> (<span class="keywordtype">char</span> *msg);
<a name="l00834"></a>00834 
<a name="l00835"></a>00835 <span class="keywordtype">int</span>     <a class="code" href="dtsConfig_8c.html#e927756a844a723a4f51854f5d90592f" title="Get the type of queue.">dts_cfgQType</a> (<span class="keywordtype">char</span> *s);
<a name="l00836"></a>00836 <span class="keywordtype">int</span>     <a class="code" href="dtsConfig_8c.html#7f1782f360124fcc702e5ccb52f4d154" title="Get the trander mode (push or pull).">dts_cfgQMode</a> (<span class="keywordtype">char</span> *s);
<a name="l00837"></a>00837 <span class="keywordtype">int</span>     <a class="code" href="dtsConfig_8c.html#a2201861ef52cb543fc14e8cdd2c3d2a" title="Get the queue transfer method.">dts_cfgQMethod</a> (<span class="keywordtype">char</span> *s);
<a name="l00838"></a>00838 <span class="keywordtype">char</span>   *<a class="code" href="dtsConfig_8c.html#64e76b8c7c5d28914a0c4d9ba2c12e79" title="Convert mode to string name.">dts_cfgQTypeStr</a> (<span class="keywordtype">int</span> type);
<a name="l00839"></a>00839 <span class="keywordtype">char</span>   *<a class="code" href="dtsConfig_8c.html#270eb477d144240d2ad87edf403df491" title="Convert method type to string name.">dts_cfgQMethodStr</a> (<span class="keywordtype">int</span> method);
<a name="l00840"></a>00840 <span class="keywordtype">char</span>   *<a class="code" href="dtsConfig_8c.html#a5a260ceab890f77768efa361f875bc1" title="Convert mode type to string name.">dts_cfgQModeStr</a> (<span class="keywordtype">int</span> mode);
<a name="l00841"></a>00841 <span class="keywordtype">char</span>   *<a class="code" href="dtsConfig_8c.html#3c4f4a52ded3814305298d65ccb435b9" title="Convert dode to type string name.">dts_cfgQNodeStr</a> (<span class="keywordtype">int</span> mode);
<a name="l00842"></a>00842  
<a name="l00843"></a>00843 
<a name="l00844"></a>00844 <span class="comment">/*  dtsSem.c</span>
<a name="l00845"></a>00845 <span class="comment">*/</span>
<a name="l00846"></a>00846 <span class="keywordtype">int</span>     <a class="code" href="dtsSem_8c.html#2b719efabe9dd10991a04587d59d995c">dts_semInit</a> (<span class="keywordtype">int</span> <span class="keywordtype">id</span>, <span class="keywordtype">int</span> initVal);
<a name="l00847"></a>00847 <span class="keywordtype">int</span>     <a class="code" href="dtsSem_8c.html#4e2d04d834e38e2be30206b489a85d99">dts_semRemove</a> (<span class="keywordtype">int</span> <span class="keywordtype">id</span>);
<a name="l00848"></a>00848 <span class="keywordtype">int</span>     <a class="code" href="dtsSem_8c.html#c745c4595f7e05dbdc4139bfbef5f5fa">dts_semSetVal</a> (<span class="keywordtype">int</span> <span class="keywordtype">id</span>, <span class="keywordtype">int</span> val);
<a name="l00849"></a>00849 <span class="keywordtype">int</span>     <a class="code" href="dtsSem_8c.html#9531e0c8f7193d486f6f26b34657bdbf">dts_semGetVal</a> (<span class="keywordtype">int</span> <span class="keywordtype">id</span>);
<a name="l00850"></a>00850 <span class="keywordtype">int</span>     <a class="code" href="dtsSem_8c.html#ecb50339066dc9a25afb6e7c19f05f06">dts_semDecr</a> (<span class="keywordtype">int</span> <span class="keywordtype">id</span>);
<a name="l00851"></a>00851 <span class="keywordtype">int</span>     <a class="code" href="dtsSem_8c.html#c5c870f78743529ef349bae4dddcbb99">dts_semIncr</a> (<span class="keywordtype">int</span> <span class="keywordtype">id</span>);
<a name="l00852"></a>00852 <span class="keywordtype">void</span>    <a class="code" href="dtsSem_8c.html#a78552a3246e1da915c3fb3d1674e786">dts_semInitId</a> (<span class="keywordtype">int</span> <span class="keywordtype">id</span>);
<a name="l00853"></a>00853  
<a name="l00854"></a>00854 
<a name="l00855"></a>00855 <span class="comment">/*  dtsUtil.c</span>
<a name="l00856"></a>00856 <span class="comment">*/</span>
<a name="l00857"></a>00857 <span class="keywordtype">void</span>    dtsShm(<a class="code" href="structDTS.html">DTS</a> * mydts);<span class="comment">//dtsQueue * mydtsq);</span>
<a name="l00858"></a>00858 <span class="keywordtype">void</span>    <a class="code" href="dtsUtil_8c.html#9b8c06490118b1c3e8c8137010f3ebc4">dtsDaemonize</a> (<a class="code" href="structDTS.html">DTS</a> *dts);
<a name="l00859"></a>00859 <span class="keywordtype">void</span>    <a class="code" href="dtsUtil_8c.html#c19134d05afcd019bcd606a171ae44b7">dts_sigHandler</a> (<span class="keywordtype">int</span> sig);
<a name="l00860"></a>00860 <span class="keywordtype">void</span>    dts_setQueueShutdown (<span class="keywordtype">int</span> level);
<a name="l00861"></a>00861 
<a name="l00862"></a>00862 <span class="keywordtype">char</span>   *<a class="code" href="dtsUtil_8c.html#780a7e2551ef7f8b7c83aab03f48b764">dts_localTime</a> ();
<a name="l00863"></a>00863 <span class="keywordtype">char</span>   *<a class="code" href="dtsUtil_8c.html#3b05bb3b77ab230138ad6fdc4fc41910">dts_UTTime</a> ();
<a name="l00864"></a>00864 
<a name="l00865"></a>00865 <span class="keywordtype">char</span>    *<a class="code" href="dtsUtil_8c.html#8677623ef15346b4b48658e2e65666ad">dts_getLocalIP</a> ();
<a name="l00866"></a>00866 <span class="keywordtype">char</span>    *<a class="code" href="dtsUtil_8c.html#4cd11b09fe89548b064e29ab70673b7a">dts_getLocalHost</a> ();
<a name="l00867"></a>00867 <span class="keywordtype">char</span>    *<a class="code" href="dtsUtil_8c.html#5e2fd1d83a78d8da2370957e0dfe0593">dts_resolveHost</a> (<span class="keywordtype">char</span> *hostname);
<a name="l00868"></a>00868 <span class="keywordtype">void</span>     <a class="code" href="dtsUtil_8c.html#87a72ebfa8ffde676fd4b687d2e9696f">dts_pause</a> (<span class="keywordtype">void</span>);
<a name="l00869"></a>00869 <span class="keywordtype">char</span>    *dts_strbuf (<span class="keywordtype">char</span> *s);
<a name="l00870"></a>00870 <span class="keyword">struct </span>hostent *<a class="code" href="dtsUtil_8c.html#eaec19a499a8a95fe4ac72f8c03812e8">dts_getHostByName</a> (<span class="keywordtype">char</span> *name);
<a name="l00871"></a>00871 <span class="keyword">struct </span>hostent *<a class="code" href="dtsUtil_8c.html#a2e892f63df35bbfc8f8d4ca99e353bf">dts_dupHostent</a> (<span class="keyword">struct</span> hostent *hentry);
<a name="l00872"></a>00872 <span class="keywordtype">void</span>     <a class="code" href="dtsUtil_8c.html#1c0eb0837c8eab0f93bb5caaa7e50a51">dts_printHostTable</a> (<span class="keywordtype">void</span>);
<a name="l00873"></a>00873 
<a name="l00874"></a>00874 <span class="keywordtype">char</span>    *<a class="code" href="dtsUtil_8c.html#260fc9809ede865648e7f6ec0f545dc8">dts_logtime</a> (<span class="keywordtype">void</span>);
<a name="l00875"></a>00875 <span class="keywordtype">void</span>     dts_tstart (<span class="keyword">struct</span> timeval *tv);
<a name="l00876"></a>00876 <span class="keywordtype">double</span>   dts_tstop (<span class="keyword">struct</span> timeval tv);
<a name="l00877"></a>00877 <span class="keywordtype">double</span>   dts_timediff (<span class="keyword">struct</span> timeval t1, <span class="keyword">struct</span> timeval t2);
<a name="l00878"></a>00878 <span class="keywordtype">void</span>     <a class="code" href="dtsUtil_8c.html#4b044c2d69166fb981024d1fcc5ef225" title="Timer utils.">measure_start</a> (<span class="keywordtype">void</span>);
<a name="l00879"></a>00879 <span class="keywordtype">void</span>     <a class="code" href="dtsUtil_8c.html#0d0705017516a7ada8826a28402beac4" title="Stop timer and print summary of transfer stats.">measure_stop</a> (<span class="keywordtype">long</span> transferred);
<a name="l00880"></a>00880 <span class="keywordtype">double</span>   <a class="code" href="dtsUtil_8c.html#280ad0ef1dbcf005d845cef1ebccf0cd" title="Return throughput in megabits/s.">transferMb</a> (<span class="keywordtype">long</span> fileSize, <span class="keywordtype">int</span> sec, <span class="keywordtype">int</span> usec);
<a name="l00881"></a>00881 <span class="keywordtype">double</span>   <a class="code" href="dtsUtil_8c.html#c62de5cb46da45d14475dedcf63b03bd" title="Return throughput in megabytes/s.">transferMB</a> (<span class="keywordtype">long</span> fileSize, <span class="keywordtype">int</span> sec, <span class="keywordtype">int</span> usec);
<a name="l00882"></a>00882 
<a name="l00883"></a>00883 <span class="keywordtype">char</span>    *<a class="code" href="dtsUtil_8c.html#a8410e23d2184631694f119a7a31b30d">dts_fmtMode</a> (<span class="keywordtype">char</span> *lp, <span class="keywordtype">int</span> flags);
<a name="l00884"></a>00884 <span class="keywordtype">int</span>      <a class="code" href="dtsUtil_8c.html#92ff94eb5bea667365621066290fe910">dts_patMatch</a> (<span class="keywordtype">char</span> *str, <span class="keywordtype">char</span> *pattern);
<a name="l00885"></a>00885 <span class="keywordtype">int</span>      <a class="code" href="dtsUtil_8c.html#8260abd57bb8d5b53fc96019b419101f">dts_isTemplate</a> (<span class="keywordtype">char</span> *s);
<a name="l00886"></a>00886 
<a name="l00887"></a>00887 <span class="keywordtype">char</span>    *<a class="code" href="dtsConfig_8c.html#d038925bb15e30872e2c4889d82b6aa1">dtsGets</a> (<span class="keywordtype">char</span> *s, <span class="keywordtype">int</span> len, FILE *fp);
<a name="l00888"></a>00888 
<a name="l00889"></a>00889 <span class="keywordtype">void</span>     dtsError (<span class="keywordtype">char</span> *msg);
<a name="l00890"></a>00890 <span class="keywordtype">int</span>  <a class="code" href="dtsUtil_8c.html#24d14a9110968a52dc2dc5ad8d2d943e">dts_debugLevel</a> (<span class="keywordtype">void</span>);
<a name="l00891"></a>00891 
<a name="l00892"></a>00892 <span class="keywordtype">char</span>    *dts_printDTS (<a class="code" href="structDTS.html">DTS</a> *dts, FILE *fd);
<a name="l00893"></a>00893 <span class="keywordtype">char</span>    *dts_printDTSClient (<a class="code" href="structDTS.html">DTS</a> *dts, FILE *fd);
<a name="l00894"></a>00894 <span class="keywordtype">char</span>    *dts_printAllQueues (<a class="code" href="structDTS.html">DTS</a> *dts, FILE *fd);
<a name="l00895"></a>00895 <span class="keywordtype">char</span>    *dts_printQueue (<a class="code" href="structdtsQueue.html">dtsQueue</a> *dtsq, FILE *fd);
<a name="l00896"></a>00896 <span class="keywordtype">void</span>     doprnt (<span class="keywordtype">char</span> *buf, <span class="keywordtype">char</span> *format, ...);
<a name="l00897"></a>00897 <span class="keywordtype">int</span>      dtsSleep (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> seconds);
<a name="l00898"></a>00898 
<a name="l00899"></a>00899 <span class="keywordtype">int</span>      <a class="code" href="dtsUtil_8c.html#fd7b1f99e86858d922e1c3dba426abbe">base64_encode</a> (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *source, <span class="keywordtype">size_t</span> sourcelen, <span class="keywordtype">char</span> *target,
<a name="l00900"></a>00900                 <span class="keywordtype">size_t</span> targetlen);
<a name="l00901"></a>00901 <span class="keywordtype">int</span>      <a class="code" href="dtsUtil_8c.html#054354b1d0470cee90881ac4973d819e">base64_decode</a> (<span class="keywordtype">char</span> *source, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *target, <span class="keywordtype">size_t</span> targetlen);
<a name="l00902"></a>00902 
<a name="l00903"></a>00903 
<a name="l00904"></a>00904 <span class="comment">/*  dtsXfer.c </span>
<a name="l00905"></a>00905 <span class="comment">*/</span>
<a name="l00906"></a>00906 <span class="keywordtype">int</span>     <a class="code" href="dtsXfer_8c.html#bdcf165381649c2da64f6762fe0c2404" title="Push a file to a remote host.">dts_hostTo</a> (<span class="keywordtype">char</span> *host, <span class="keywordtype">int</span> cmdPort, <span class="keywordtype">int</span> method, <span class="keywordtype">int</span> rate,
<a name="l00907"></a>00907         <span class="keywordtype">int</span> loPort, <span class="keywordtype">int</span> hiPort, <span class="keywordtype">int</span> threads, <span class="keywordtype">int</span> mode, 
<a name="l00908"></a>00908         <span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[], <a class="code" href="structxferStat.html">xferStat</a> *xfs);
<a name="l00909"></a>00909 <span class="keywordtype">int</span>     <a class="code" href="dtsXfer_8c.html#6a2d87ed4280780f66e83234ffd05c9e" title="Pull a file from a remote host.">dts_hostFrom</a> (<span class="keywordtype">char</span> *host, <span class="keywordtype">int</span> cmdPort, <span class="keywordtype">int</span> method, <span class="keywordtype">int</span> rate,
<a name="l00910"></a>00910         <span class="keywordtype">int</span> loPort, <span class="keywordtype">int</span> hiPort, <span class="keywordtype">int</span> threads, <span class="keywordtype">int</span> mode,
<a name="l00911"></a>00911         <span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[], <a class="code" href="structxferStat.html">xferStat</a> *xfs);
<a name="l00912"></a>00912 <span class="keywordtype">int</span>     <a class="code" href="dtsXfer_8c.html#dc8e8c2ce7340c40af7a6a1c01e691b7" title="Recursively transfer a directory between hosts.">dts_xferDirTo</a> (<span class="keywordtype">char</span> *host, <span class="keywordtype">char</span> *func, <span class="keywordtype">int</span> method, <span class="keywordtype">int</span> rate, 
<a name="l00913"></a>00913         <span class="keywordtype">char</span> *path, <span class="keywordtype">char</span> *root, <span class="keywordtype">char</span> *prefix, <a class="code" href="structxferStat.html">xferStat</a> *xs);
<a name="l00914"></a>00914 <span class="keywordtype">int</span>     <a class="code" href="dtsXfer_8c.html#357c31d5dbe3458da649ffcf88d77d0b" title="Recursively transfer a directory between hosts.">dts_xferDirFrom</a> (<span class="keywordtype">char</span> *srcHost, <span class="keywordtype">char</span> *dstHost, <span class="keywordtype">int</span> dstLocal,
<a name="l00915"></a>00915         <span class="keywordtype">char</span> *func, <span class="keywordtype">int</span> method, <span class="keywordtype">int</span> rate, <span class="keywordtype">char</span> *path, <span class="keywordtype">char</span> *root, 
<a name="l00916"></a>00916         <span class="keywordtype">char</span> *prefix, <a class="code" href="structxferStat.html">xferStat</a> *xs);
<a name="l00917"></a>00917 <span class="keywordtype">int</span>     <a class="code" href="dtsXfer_8c.html#9f64044d8cc9e4b32c55cd78ee938ca3" title="Transfer a single file between hosts.">dts_xferFile</a> (<span class="keywordtype">char</span> *host, <span class="keywordtype">char</span> *func, <span class="keywordtype">int</span> method, <span class="keywordtype">int</span> rate, <span class="keywordtype">char</span> *path, 
<a name="l00918"></a>00918         <span class="keywordtype">int</span> fsize, mode_t fmode, <a class="code" href="structxferStat.html">xferStat</a> *xs);
<a name="l00919"></a>00919 
<a name="l00920"></a>00920 <span class="keywordtype">int</span>     <a class="code" href="dtsXfer_8c.html#4a62be8a33f79734a514dc764d33c9ed" title="Parse arguments used by the transfer commands.">dts_xferParseArgs</a> (<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[], <span class="keywordtype">int</span> *nthreads, <span class="keywordtype">int</span> *port,
<a name="l00921"></a>00921             <span class="keywordtype">int</span> *verbose, <span class="keywordtype">char</span> **path_A, <span class="keywordtype">char</span> **path_B);
<a name="l00922"></a>00922 <span class="keywordtype">int</span>     <a class="code" href="dtsXfer_8c.html#2a52937e6d9d8cf78a99351bba900925" title="Parse the paths used by the transfer commands.">dts_xferParsePaths</a> (<span class="keywordtype">char</span> *host, <span class="keywordtype">char</span> **path_A, <span class="keywordtype">char</span> **path_B,
<a name="l00923"></a>00923             <span class="keywordtype">int</span> *srcLocal, <span class="keywordtype">int</span> *dstLocal, <span class="keywordtype">char</span> **src_host, <span class="keywordtype">char</span> **dest_host,
<a name="l00924"></a>00924         <span class="keywordtype">char</span> **msg_host, <span class="keywordtype">char</span> **path);
<a name="l00925"></a>00925 
<a name="l00926"></a>00926 <span class="comment">/*  dtsPush.c</span>
<a name="l00927"></a>00927 <span class="comment">*/</span>
<a name="l00928"></a>00928 <span class="keywordtype">int</span>     <a class="code" href="dtsPush_8c.html#f55531bdb93b1bfcd659758510ecd2a1" title="Push a file from the src to the dest machine.">dts_xferPushFile</a> (<span class="keywordtype">void</span> *data);
<a name="l00929"></a>00929 <span class="keywordtype">int</span>     <a class="code" href="dtsPush_8c.html#7f9ce95b0c288f5c0f1515fdaa018b17" title="Push a file from the src to the dest machine.">dts_xferReceiveFile</a> (<span class="keywordtype">void</span> *data);
<a name="l00930"></a>00930 
<a name="l00931"></a>00931 
<a name="l00932"></a>00932 <span class="comment">/*  dtsPull.c</span>
<a name="l00933"></a>00933 <span class="comment">*/</span>
<a name="l00934"></a>00934 
<a name="l00935"></a>00935 <span class="keywordtype">int</span>     <a class="code" href="dtsPull_8c.html#610aae09a018aec201d73698a361b457" title="Pull a file from the src to the dest machine.">dts_xferPullFile</a> (<span class="keywordtype">void</span> *data);
<a name="l00936"></a>00936 <span class="keywordtype">int</span>     <a class="code" href="dtsPull_8c.html#18d097c124c1ed525294be0b1e7be6a1" title="Send a file from the src to the dest machine.">dts_xferSendFile</a> (<span class="keywordtype">void</span> *data);
<a name="l00937"></a>00937 
<a name="l00938"></a>00938 
<a name="l00939"></a>00939 <span class="comment">/*  dtsFileUtil.c</span>
<a name="l00940"></a>00940 <span class="comment">*/</span>
<a name="l00941"></a>00941 FILE   *<a class="code" href="dtsFileUtil_8c.html#bf14eaada8e615b0adbb70e9a62efba2" title="Open the named file and return the file descriptor.">dts_fopen</a> (<span class="keywordtype">char</span> *fname, <span class="keywordtype">char</span> *mode);
<a name="l00942"></a>00942 <span class="keywordtype">int</span>     <a class="code" href="dtsFileUtil_8c.html#864cc21035ed646ef6b97c95d10785e9" title="Close the file stream.">dts_fclose</a> (FILE *fp);
<a name="l00943"></a>00943 <span class="keywordtype">int</span>     <a class="code" href="dtsFileUtil_8c.html#8575fe47f94aeee8af4733626137d5c2" title="Open the named file and return the file descriptor.">dts_fileOpen</a> (<span class="keywordtype">char</span> *fname, <span class="keywordtype">int</span> flags);
<a name="l00944"></a>00944 <span class="keywordtype">int</span>     <a class="code" href="dtsFileUtil_8c.html#fd4c6f66e8be7ca19b01716330fde0e8" title="Close the file descriptor.">dts_fileClose</a> (<span class="keywordtype">int</span> fd);
<a name="l00945"></a>00945 <span class="keywordtype">int</span>     <a class="code" href="dtsFileUtil_8c.html#84cf80670684ec35c42ab94363f9612d" title="Sync the file descriptor.">dts_fileSync</a> (<span class="keywordtype">int</span> fd);
<a name="l00946"></a>00946 <span class="keywordtype">int</span>     <a class="code" href="dtsFileUtil_8c.html#e54fde98930a5ca88266368b5e96597a" title="Pre-allocate the space for a file.">dts_preAlloc</a> (<span class="keywordtype">char</span> *fname, <span class="keywordtype">long</span> fsize);
<a name="l00947"></a>00947 <span class="keywordtype">long</span>    <a class="code" href="dtsFileUtil_8c.html#0a0f1f6470d1563b32260a11aa7d8b86" title="Return the size (in bytes) of the specified file descriptor.">dts_fileSize</a> (<span class="keywordtype">int</span> fd);
<a name="l00948"></a>00948 <span class="keywordtype">long</span>    <a class="code" href="dtsFileUtil_8c.html#c503df7da573d1e3e98fe8b7528a767d" title="Return the protection mode of the specified file descriptor.">dts_fileMode</a> (<span class="keywordtype">int</span> fd);
<a name="l00949"></a>00949 <span class="keywordtype">long</span>    <a class="code" href="dtsFileUtil_8c.html#a59ede4cbf519e39725b71a942b83d1d" title="Return the size (in bytes) of the specified file descriptor.">dts_nameSize</a> (<span class="keywordtype">char</span> *fname);
<a name="l00950"></a>00950 <span class="keywordtype">long</span>    <a class="code" href="dtsFileUtil_8c.html#0731e6371d77768b5326d2ccba6e097d" title="Return the protection mode of the specified file descriptor.">dts_nameMode</a> (<span class="keywordtype">char</span> *fname);
<a name="l00951"></a>00951 <span class="keywordtype">int</span>     <a class="code" href="dtsFileUtil_8c.html#e84012cdcc43bced4be60ee815fe6425" title="Get a buffer of the specified size from the file.">dts_getBuffer</a> (<span class="keywordtype">int</span> fd, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> **buf, <span class="keywordtype">long</span> chunkSize, <span class="keywordtype">int</span> tnum);
<a name="l00952"></a>00952 <span class="keywordtype">int</span>     <a class="code" href="dtsFileUtil_8c.html#7123a4de6a554530a798ac75b3ac1e00" title="Read exactly &amp;quot;n&amp;quot; bytes from a file descriptor.">dts_fileRead</a> (<span class="keywordtype">int</span> fd, <span class="keywordtype">void</span> *vptr, <span class="keywordtype">int</span> nbytes);
<a name="l00953"></a>00953 <span class="keywordtype">int</span>     <a class="code" href="dtsFileUtil_8c.html#064f196e158309c7b004502101cecb19" title="Write exactly &amp;quot;n&amp;quot; bytes to a file descriptor.">dts_fileWrite</a> (<span class="keywordtype">int</span> fd, <span class="keywordtype">void</span> *vptr, <span class="keywordtype">int</span> nbytes);
<a name="l00954"></a>00954 <span class="keywordtype">int</span>     <a class="code" href="dtsFileUtil_8c.html#46835b6377391441dbd1eead8b557085" title="Copy and input file to an output file.">dts_fileCopy</a> (<span class="keywordtype">char</span> *in, <span class="keywordtype">char</span> *out);
<a name="l00955"></a>00955 <span class="keywordtype">int</span>     <a class="code" href="dtsFileUtil_8c.html#46e546674494cf4383c635fe6bbe7899" title="Check whether a path represents a directory.">dts_isDir</a> (<span class="keywordtype">char</span> *path);
<a name="l00956"></a>00956 <span class="keywordtype">int</span>     dts_isFile (<span class="keywordtype">char</span> *path);
<a name="l00957"></a>00957 <span class="keywordtype">int</span>     <a class="code" href="dtsFileUtil_8c.html#fb57d42cc84b850d3d87d23b35675d8f" title="Check whether a path represents a symbolic link.">dts_isLink</a> (<span class="keywordtype">char</span> *path);
<a name="l00958"></a>00958 <span class="keywordtype">char</span>   *<a class="code" href="dtsFileUtil_8c.html#1e688fd5f1caf8e5bfc62be046096e6a" title="Read the target of a symlink.">dts_readLink</a> (<span class="keywordtype">char</span> *path);
<a name="l00959"></a>00959 <span class="keywordtype">int</span> <a class="code" href="dtsFileUtil_8c.html#9eadc8013c2d77e50e5e15adff904ba6" title="Create the specified path, one directory at a time.">dts_makePath</a> (<span class="keywordtype">char</span> *path, <span class="keywordtype">int</span> isDir);
<a name="l00960"></a>00960 <span class="keywordtype">char</span>   *<a class="code" href="dtsFileUtil_8c.html#1cf834ee81a6e3130d03394c456f0754" title="Return the directory portion of a file pathname.">dts_pathDir</a> (<span class="keywordtype">char</span> *path);
<a name="l00961"></a>00961 <span class="keywordtype">char</span>   *<a class="code" href="dtsFileUtil_8c.html#841d419b96126a1176c58bd158ac59e8" title="Return the filename portion of a file pathname.">dts_pathFname</a> (<span class="keywordtype">char</span> *path);
<a name="l00962"></a>00962 <span class="keywordtype">long</span>    <a class="code" href="dtsFileUtil_8c.html#70e3bc74e201bd98d7927bafec7f45cc" title="Return the size of a file or directory path in bytes.">dts_du</a> (<span class="keywordtype">char</span> *filename);
<a name="l00963"></a>00963 <span class="keywordtype">int</span> <a class="code" href="dtsFileUtil_8c.html#55b5216df655c624c5093a6aa8ba063a" title="Remove all matching file in a directory (tree).">dts_unlink</a> (<span class="keywordtype">char</span> *dir, <span class="keywordtype">int</span> recurse, <span class="keywordtype">char</span> *<span class="keyword">template</span>);
<a name="l00964"></a>00964 <span class="keywordtype">long</span>    <a class="code" href="dtsFileUtil_8c.html#45fbd935d590df580274fca06b7ab2c4" title="Get the cumulative size of all files in a directory tree.">dts_dirSize</a> (<span class="keywordtype">char</span> *dir, <span class="keywordtype">char</span> *<span class="keyword">template</span>);
<a name="l00965"></a>00965 <span class="keywordtype">int</span>     <a class="code" href="dtsFileUtil_8c.html#e70d394357bcea0e62dc63c33179b4d4" title="Recursively copy a directory to a new location.">dts_dirCopy</a> (<span class="keywordtype">char</span> *in, <span class="keywordtype">char</span> *out);
<a name="l00966"></a>00966 <span class="keywordtype">int</span>     dts_statfs (<span class="keywordtype">char</span> *dir, <span class="keyword">struct</span> statfs *fs);
<a name="l00967"></a>00967 
<a name="l00968"></a>00968 
<a name="l00969"></a>00969 <span class="comment">/*  dtsSandbox.c</span>
<a name="l00970"></a>00970 <span class="comment">*/</span>
<a name="l00971"></a>00971 <span class="keywordtype">char</span>   *<a class="code" href="dtsSandbox_8c.html#c83a50612e21cac1c84d5377110b396a" title="Return the sandboxed path name.">dts_sandboxPath</a> (<span class="keywordtype">char</span> *in);
<a name="l00972"></a>00972 
<a name="l00973"></a>00973 
<a name="l00974"></a>00974 <span class="comment">/*  dtsSockUtil.c</span>
<a name="l00975"></a>00975 <span class="comment">*/</span>
<a name="l00976"></a>00976 <span class="keywordtype">int</span>     <a class="code" href="dtsSockUtil_8c.html#9ea8fc6acb9adb85051c1d315bb4433d" title="Open a socket to be used on the &amp;#39;server&amp;#39; side.">dts_openServerSocket</a> (<span class="keywordtype">int</span> port);
<a name="l00977"></a>00977 <span class="keywordtype">int</span>     <a class="code" href="dtsSockUtil_8c.html#277191a31b268b7a69dd1f78c8cc76a4" title="Test whether a server socket is in use.">dts_testServerSocket</a> (<span class="keywordtype">int</span> port);
<a name="l00978"></a>00978 <span class="keywordtype">int</span>     <a class="code" href="dtsSockUtil_8c.html#63041fe9517df067ef010c8569ae1707" title="Get an open server port.">dts_getOpenPort</a> (<span class="keywordtype">int</span> port, <span class="keywordtype">int</span> maxTries);
<a name="l00979"></a>00979 <span class="keywordtype">int</span>     <a class="code" href="dtsSockUtil_8c.html#c8979317fc16c84d258129c6eeea1427" title="Open a socket to be used on the &amp;#39;client&amp;#39; side.">dts_openClientSocket</a> (<span class="keywordtype">char</span> *host, <span class="keywordtype">int</span> port, <span class="keywordtype">int</span> retry);
<a name="l00980"></a>00980 
<a name="l00981"></a>00981 <span class="keywordtype">int</span>     dts_openUDTServerSocket (<span class="keywordtype">int</span> port, <span class="keywordtype">int</span> rate);
<a name="l00982"></a>00982 <span class="keywordtype">int</span>     <a class="code" href="dtsSockUtil_8c.html#e8cc48087dff5b28765e1dc49ed6cf20" title="Open a socket to be used on the &amp;#39;client&amp;#39; side.">dts_openUDTClientSocket</a> (<span class="keywordtype">char</span> *host, <span class="keywordtype">int</span> port, <span class="keywordtype">int</span> retry);
<a name="l00983"></a>00983 
<a name="l00984"></a>00984 <span class="keywordtype">int</span>     <a class="code" href="dtsSockUtil_8c.html#fba12b2495ba9dd8175c80409222c51d" title="Recv exactly &amp;quot;n&amp;quot; bytes from a socket descriptor.">dts_sockRead</a> (<span class="keywordtype">int</span> fd, <span class="keywordtype">void</span> *vptr, <span class="keywordtype">int</span> nbytes);
<a name="l00985"></a>00985 <span class="keywordtype">int</span>     <a class="code" href="dtsSockUtil_8c.html#e2d35a7eb30bce58ebf4bb9c5d139a13" title="Send exactly &amp;quot;n&amp;quot; bytes to a socket descriptor.">dts_sockWrite</a> (<span class="keywordtype">int</span> fd, <span class="keywordtype">void</span> *vptr, <span class="keywordtype">int</span> nbytes);
<a name="l00986"></a>00986 <span class="keywordtype">void</span>    <a class="code" href="dtsSockUtil_8c.html#8b6025ff1d9995e2925bc1b92ec9f957">dts_setBlock</a> (<span class="keywordtype">int</span> sock);
<a name="l00987"></a>00987 <span class="keywordtype">void</span>    <a class="code" href="dtsSockUtil_8c.html#63ba7b9916f965cde541ce0db8b4b389">dts_setNonBlock</a> (<span class="keywordtype">int</span> sock);
<a name="l00988"></a>00988 <span class="keywordtype">int</span>     <a class="code" href="dtsSockUtil_8c.html#6ad8bc0d104122e2b54d8c51c698f63e" title="Recv exactly &amp;quot;n&amp;quot; bytes from a UDT socket descriptor.">dts_udtRead</a> (<span class="keywordtype">int</span> fd, <span class="keywordtype">void</span> *vptr, <span class="keywordtype">long</span> nbytes, <span class="keywordtype">int</span> flags);
<a name="l00989"></a>00989 <span class="keywordtype">int</span>     <a class="code" href="dtsSockUtil_8c.html#bf651aeb86fa07f122bb1a70db9b89ad" title="Send exactly &amp;quot;n&amp;quot; bytes to a UDT socket descriptor.">dts_udtWrite</a> (<span class="keywordtype">int</span> fd, <span class="keywordtype">void</span> *vptr, <span class="keywordtype">long</span> nbytes, <span class="keywordtype">int</span> flags);
<a name="l00990"></a>00990 
<a name="l00991"></a>00991 
<a name="l00992"></a>00992 <span class="comment">/*  dtsTar.c</span>
<a name="l00993"></a>00993 <span class="comment">*/</span>
<a name="l00994"></a>00994 <span class="keywordtype">int</span> <a class="code" href="dtsTar_8c.html#e61bee83d367a96d6d9d9aad54c09bcd" title="DTS interface for writing tar files (e.g. bundles).">dts_wtar</a>(<span class="keywordtype">int</span> nargc, <span class="keywordtype">char</span> *nargv[]);
<a name="l00995"></a>00995 <span class="keywordtype">int</span> dts_rtar (<span class="keywordtype">int</span> nargc, <span class="keywordtype">char</span> *nargv[]);
<a name="l00996"></a>00996 
<a name="l00997"></a>00997 
<a name="l00998"></a>00998 <span class="comment">/*  dtsQueue.c</span>
<a name="l00999"></a>00999 <span class="comment">*/</span>
<a name="l01000"></a>01000 <span class="keywordtype">int</span>     <a class="code" href="dtsQueue_8c.html#fb6a7eddc8f5295acd7442db33de50fa" title="See if a queue will accept a new entry.">dts_hostInitTransfer</a> (<span class="keywordtype">char</span> *host, <span class="keywordtype">char</span> *qname, <span class="keywordtype">char</span> *fname, <span class="keywordtype">char</span> *msg);
<a name="l01001"></a>01001 <span class="keywordtype">int</span>     <a class="code" href="dtsQueue_8c.html#1db53020eef230d9ebda088d24adf4fc" title="Terminate the file transfer.">dts_hostEndTransfer</a> (<span class="keywordtype">char</span> *host, <span class="keywordtype">char</span> *qname, <span class="keywordtype">char</span> *qpath);
<a name="l01002"></a>01002 <span class="keywordtype">int</span>     <a class="code" href="dtsQueue_8c.html#75780c06abeb5dd4be842b180deb1d4f" title="See if a queue will accept a new entry.">dts_hostQueueAccept</a> (<span class="keywordtype">char</span> *host, <span class="keywordtype">char</span> *qname, <span class="keywordtype">char</span> *fname, <span class="keywordtype">char</span> *msg);
<a name="l01003"></a>01003 <span class="keywordtype">int</span>     <a class="code" href="dtsQueue_8c.html#b12f0a780dd6d60dde018330b1b4a9d4" title="Complete a file transfer.">dts_hostQueueComplete</a> (<span class="keywordtype">char</span> *host, <span class="keywordtype">char</span> *qname, <span class="keywordtype">char</span> *qpath);
<a name="l01004"></a>01004 <span class="keywordtype">int</span>     <a class="code" href="dtsQueue_8c.html#6966f9abbe3aea635c9d4707e2e293f2" title="Release the lock semaphore on a queue.">dts_hostQueueRelease</a> (<span class="keywordtype">char</span> *host, <span class="keywordtype">char</span> *qname);
<a name="l01005"></a>01005 <span class="keywordtype">int</span>     <a class="code" href="dtsQueue_8c.html#f19a2ffd28b1601f51253b94b6b1b4f2" title="See if a queue name is valid on the host.">dts_hostQueueValid</a> (<span class="keywordtype">char</span> *host, <span class="keywordtype">char</span> *qname);
<a name="l01006"></a>01006 <span class="keywordtype">int</span>     <a class="code" href="dtsQueue_8c.html#46961ffd23e344ea1f48583ff9eee8ae" title="Set the control params for the transfer.">dts_hostSetQueueControl</a> (<span class="keywordtype">char</span> *host, <span class="keywordtype">char</span> *qname, Control *ctrl);
<a name="l01007"></a>01007 
<a name="l01008"></a>01008 
<a name="l01009"></a>01009 <span class="comment">/*  dtsQueueUtil.c</span>
<a name="l01010"></a>01010 <span class="comment">*/</span>
<a name="l01011"></a>01011 <a class="code" href="structdtsQueue.html">dtsQueue</a>  *<a class="code" href="dtsQueueUtil_8c.html#0f9767b8cbca5fac22e998b717243f92" title="Lookup a DTS queue struct by name.">dts_queueLookup</a> (<span class="keywordtype">char</span> *qname);
<a name="l01012"></a>01012 <span class="keywordtype">int</span>        <a class="code" href="dtsQueueUtil_8c.html#73d52e9f251e4ba8341197cfeaa33220" title="Get the number of the currrently active spool.">dts_queueGetCurrent</a> (<span class="keywordtype">char</span> *fname);
<a name="l01013"></a>01013 <span class="keywordtype">void</span>       <a class="code" href="dtsQueueUtil_8c.html#a5be9287fe7d9651d7b6b8c637724f6e" title="Set the number of the currrently active spool.">dts_queueSetCurrent</a> (<span class="keywordtype">char</span> *fname, <span class="keywordtype">int</span> val);
<a name="l01014"></a>01014 <span class="keywordtype">int</span>        <a class="code" href="dtsQueueUtil_8c.html#a50a352c505bf49190e7ce4f3d5269ad" title="Get the number of the next active spool.">dts_queueGetNext</a> (<span class="keywordtype">char</span> *fname);
<a name="l01015"></a>01015 <span class="keywordtype">void</span>       <a class="code" href="dtsQueueUtil_8c.html#2394c654772809059d59000c1a78695f" title="Set the number of the next active spool.">dts_queueSetNext</a> (<span class="keywordtype">char</span> *fname, <span class="keywordtype">int</span> val);
<a name="l01016"></a>01016 <span class="keywordtype">void</span>       dts_queueGetInitTime (<a class="code" href="structdtsQueue.html">dtsQueue</a> *dtsq, <span class="keywordtype">int</span> *sec, <span class="keywordtype">int</span> *usec);
<a name="l01017"></a>01017 <span class="keywordtype">void</span>       dts_queueSetInitTime (<a class="code" href="structdtsQueue.html">dtsQueue</a> *dtsq, <span class="keyword">struct</span> timeval t);
<a name="l01018"></a>01018 <span class="keywordtype">void</span>       <a class="code" href="dtsQueueUtil_8c.html#3a9487fbe81804ff6222c3d42cafc350" title="Clean up the spool directory before processing.">dts_queueCleanup</a> (<a class="code" href="structDTS.html">DTS</a> *dts, <a class="code" href="structdtsQueue.html">dtsQueue</a> *dtsq);
<a name="l01019"></a>01019 Control   *<a class="code" href="dtsQueueUtil_8c.html#660007b7fc91e838c43f3c01eef5a69c" title="Load the control file into a struct.">dts_loadControl</a> (<span class="keywordtype">char</span> *cpath, Control *ctrl);
<a name="l01020"></a>01020 <span class="keywordtype">int</span>        <a class="code" href="dtsQueueUtil_8c.html#6d3903336883756dc7f96213ea5ce89f" title="Make a log entry of the Control structure.">dts_logControl</a> (Control *ctrl, <span class="keywordtype">int</span> stat, <span class="keywordtype">char</span> *path);
<a name="l01021"></a>01021 <span class="keywordtype">int</span>        <a class="code" href="dtsQueueUtil_8c.html#11616a1c01cd8b664130c9799f5a2b29" title="Make a log entry of the transfer statistics.">dts_logXFerStats</a> (Control *ctrl, <a class="code" href="structxferStat.html">xferStat</a> *xfs, <span class="keywordtype">int</span> stat, <span class="keywordtype">char</span> *path);
<a name="l01022"></a>01022 <span class="keywordtype">void</span>       <a class="code" href="dtsQueueUtil_8c.html#dfc182bc4015562a62870a100e565d1e" title="Print the control struct.">dts_printControl</a> (Control *ctrl, FILE *fd);
<a name="l01023"></a>01023 <span class="keywordtype">int</span>        <a class="code" href="dtsQueueUtil_8c.html#aa75fb48a927a363fa3229011020947e" title="Save the control struct.">dts_saveControl</a> (Control *ctrl, <span class="keywordtype">char</span> *path);
<a name="l01024"></a>01024 <span class="keywordtype">char</span>      *<a class="code" href="dtsQueueUtil_8c.html#e2738cc6c2944e8ec59a49ce2c0589fa" title="Format a queue delivery command.">dts_fmtQueueCmd</a> (<a class="code" href="structdtsQueue.html">dtsQueue</a> *dtsq, Control *ctrl);
<a name="l01025"></a>01025 <span class="keywordtype">char</span>      *<a class="code" href="dtsQueueUtil_8c.html#0fa4dfe5827097014d659624b1a8ad83" title="Get the path to the spool dir for a given queue.">dts_getQueuePath</a> (<a class="code" href="structDTS.html">DTS</a> *dts, <span class="keywordtype">char</span> *qname);
<a name="l01026"></a>01026 <span class="keywordtype">char</span>      *dts_getQueueLog (<a class="code" href="structDTS.html">DTS</a> *dts, <span class="keywordtype">char</span> *qname, <span class="keywordtype">char</span> *logname);
<a name="l01027"></a>01027 <span class="keywordtype">char</span>      *<a class="code" href="dtsQueueUtil_8c.html#cb7bc59ae7818ad9ae99daddb010d41f" title="Get the next queue directory name.">dts_getNextQueueDir</a> (<a class="code" href="structDTS.html">DTS</a> *dts, <span class="keywordtype">char</span> *qname);
<a name="l01028"></a>01028 <span class="keywordtype">char</span>      *<a class="code" href="dtsQueueUtil_8c.html#6fb308e1c21f70d133d45c971ae90187" title="Verify a DTS queue connection.">dts_verifyDTS</a> (<span class="keywordtype">char</span> *host, <span class="keywordtype">char</span> *qname, <span class="keywordtype">char</span> *fname);
<a name="l01029"></a>01029 <span class="keywordtype">int</span>        <a class="code" href="dtsQueueUtil_8c.html#783947cdd20ef27299d243b1000e2a40" title="Initialize the control structure.">dts_queueInitControl</a>(<span class="keywordtype">char</span> *host, <span class="keywordtype">char</span> *qname, <span class="keywordtype">char</span> *qpath, 
<a name="l01030"></a>01030             <span class="keywordtype">char</span> *opath, <span class="keywordtype">char</span> *lfname, <span class="keywordtype">char</span> *fname, <span class="keywordtype">char</span> *dfname);
<a name="l01031"></a>01031 <span class="keywordtype">int</span>        <a class="code" href="dtsQueueUtil_8c.html#9ee1515f2f3ca249a1304b6ae55b684d" title="Process a file to submit it to the named queue.">dts_queueProcess</a> (<a class="code" href="structdtsQueue.html">dtsQueue</a> *dtsq, <span class="keywordtype">char</span> *lpath, <span class="keywordtype">char</span> *rpath, 
<a name="l01032"></a>01032             <span class="keywordtype">char</span> *fname);
<a name="l01033"></a>01033 <span class="keywordtype">char</span>      *<a class="code" href="dtsQueueUtil_8c.html#8fb26b6766710c4c885d3b7a4715c609" title="Get queue name from a path.">dts_queueFromPath</a> (<span class="keywordtype">char</span> *qpath);
<a name="l01034"></a>01034 <span class="keywordtype">char</span>      *<a class="code" href="dtsQueueUtil_8c.html#1e0d4f7f157413b56f8f88ac2bd15376" title="Format a queue name to 6 chars.">dts_queueNameFmt</a> (<span class="keywordtype">char</span> *qname);
<a name="l01035"></a>01035 <span class="keywordtype">void</span>       <a class="code" href="dtsQueueUtil_8c.html#bb4729efee8c2245df6a445c50160a11" title="Delete the complete spool directory.">dts_queueDelete</a> (<a class="code" href="structDTS.html">DTS</a> *dts, <span class="keywordtype">char</span> *qpath);
<a name="l01036"></a>01036 <span class="keywordtype">void</span>       <a class="code" href="dtsQueueUtil_8c.html#aa543bc0d353e733e8eb4642413deea0" title="Set the mutex lock on the queue.">dts_queueLock</a> (<a class="code" href="structdtsQueue.html">dtsQueue</a> *dtsq);
<a name="l01037"></a>01037 <span class="keywordtype">void</span>       <a class="code" href="dtsQueueUtil_8c.html#344597f39e8889629794a6affed0aee2" title="Unset the mutex lock on the queue.">dts_queueUnlock</a> (<a class="code" href="structdtsQueue.html">dtsQueue</a> *dtsq);
<a name="l01038"></a>01038 
<a name="l01039"></a>01039 <span class="keywordtype">int</span>        <a class="code" href="dtsQueueUtil_8c.html#11616a1c01cd8b664130c9799f5a2b29" title="Make a log entry of the transfer statistics.">dts_logXFerStats</a> (Control *ctrl, <a class="code" href="structxferStat.html">xferStat</a> *xfs, <span class="keywordtype">int</span> stat,<span class="keywordtype">char</span> *path);
<a name="l01040"></a>01040 <span class="keywordtype">int</span>        <a class="code" href="dtsQueueUtil_8c.html#2b168b445e4cb0bc5b483960b33e8dfb" title="Update the transfer statistics for the queue.">dts_queueSetStats</a> (<a class="code" href="structdtsQueue.html">dtsQueue</a> *dtsq, <a class="code" href="structxferStat.html">xferStat</a> *xfs);
<a name="l01041"></a>01041 <a class="code" href="structqueueStat.html">queueStat</a> *<a class="code" href="dtsQueueUtil_8c.html#fff347a303e8bd230792419763fc0e7d" title="Get the stats structure from a queue.">dts_queueGetStats</a> (<a class="code" href="structdtsQueue.html">dtsQueue</a> *dtsq);
<a name="l01042"></a>01042 
<a name="l01043"></a>01043 
<a name="l01044"></a>01044 <span class="comment">/*  dtsQueueStat.c</span>
<a name="l01045"></a>01045 <span class="comment"> */</span>
<a name="l01046"></a>01046 <span class="keywordtype">void</span>    <a class="code" href="dtsQueueStat_8c.html#8ed9605467b6e497f0fc3c5dc021e266" title="Initialize the transfer stat struct.">dts_qstatInit</a> (<span class="keywordtype">char</span> *qname, <span class="keywordtype">char</span> *fname, <span class="keywordtype">size_t</span> size);
<a name="l01047"></a>01047 <span class="keywordtype">void</span>    <a class="code" href="dtsQueueStat_8c.html#85b1b1eaeafa322047b6deaddd573dbd" title="Set the file name being transferred in a queue.">dts_qstatSetFName</a> (<span class="keywordtype">char</span> *qname, <span class="keywordtype">char</span> *fname);
<a name="l01048"></a>01048 <span class="keywordtype">void</span>    <a class="code" href="dtsQueueStat_8c.html#019174de35475b3ff08de2161ec86994" title="Set the fize of file being transferred in a queue.">dts_qstatSetSize</a> (<span class="keywordtype">char</span> *qname, <span class="keywordtype">size_t</span> size);
<a name="l01049"></a>01049 
<a name="l01050"></a>01050 <span class="keywordtype">void</span>    <a class="code" href="dtsQueueStat_8c.html#acd4b2c2baf3bff4ff171d4bdd80f9a7" title="Set the start time of file being transferred in a queue.">dts_qstatStart</a> (<span class="keywordtype">char</span> *qname);
<a name="l01051"></a>01051 <span class="keywordtype">void</span>    <a class="code" href="dtsQueueStat_8c.html#1556a84a5723af598c0ed4f727f4f5f0" title="Set the end time of file being transferred in a queue.">dts_qstatEnd</a> (<span class="keywordtype">char</span> *qname);
<a name="l01052"></a>01052 <span class="keywordtype">void</span>    <a class="code" href="dtsQueueStat_8c.html#ab1c0b07fdf1a54f0a77395532caa812" title="Set the start time of network transfer time.">dts_qstatNetStart</a> (<span class="keywordtype">char</span> *qname);
<a name="l01053"></a>01053 <span class="keywordtype">void</span>    <a class="code" href="dtsQueueStat_8c.html#b473eddc99613472c1619c38bbcaadfe" title="Set the end time of network transfer time.">dts_qstatNetEnd</a> (<span class="keywordtype">char</span> *qname);
<a name="l01054"></a>01054 <span class="keywordtype">void</span>    <a class="code" href="dtsQueueStat_8c.html#56820baf4544cf8b32594173dcfc1959" title="Set the start time of network transfer time.">dts_qstatDlvrStart</a> (<span class="keywordtype">char</span> *qname);
<a name="l01055"></a>01055 <span class="keywordtype">void</span>    <a class="code" href="dtsQueueStat_8c.html#57c876d00183affb75f533762da1b410" title="Set the end time of network transfer time.">dts_qstatDlvrEnd</a> (<span class="keywordtype">char</span> *qname);
<a name="l01056"></a>01056 <span class="keywordtype">void</span>    <a class="code" href="dtsQueueStat_8c.html#da7d30dc8ca90ebee4eba00f3d3f29c5" title="Set the start time of network transfer time.">dts_qstatDiskStart</a> (<span class="keywordtype">char</span> *qname);
<a name="l01057"></a>01057 <span class="keywordtype">void</span>    <a class="code" href="dtsQueueStat_8c.html#e151b00c4371e90e0437b4c455b9ba78" title="Set the end time of network transfer time.">dts_qstatDiskEnd</a> (<span class="keywordtype">char</span> *qname);
<a name="l01058"></a>01058 
<a name="l01059"></a>01059 <span class="keywordtype">void</span>    <a class="code" href="dtsQueueStat_8c.html#251a0bf84a7c2ae85b2962bb102755db" title="Set the transfer status code.">dts_qstatXferStat</a> (<span class="keywordtype">char</span> *qname, <span class="keywordtype">int</span> stat);
<a name="l01060"></a>01060 <span class="keywordtype">void</span>    <a class="code" href="dtsQueueStat_8c.html#266e778a30a8570b21a08fae03a41328" title="Set the network transfer status code.">dts_qstatNetStat</a> (<span class="keywordtype">char</span> *qname, <span class="keywordtype">int</span> stat);
<a name="l01061"></a>01061 <span class="keywordtype">void</span>    <a class="code" href="dtsQueueStat_8c.html#d8560ba6d26c2d73c24a75e049e9927f" title="Set the delivery status code.">dts_qstatDlvrStat</a> (<span class="keywordtype">char</span> *qname, <span class="keywordtype">int</span> stat);
<a name="l01062"></a>01062 
<a name="l01063"></a>01063 <span class="keywordtype">void</span>    <a class="code" href="dtsQueueStat_8c.html#75e2bbc5f33fdd3ebc66e0253f2fc77b" title="Print the transfer summary to the log.">dts_qstatSummary</a> (<a class="code" href="structDTS.html">DTS</a> *dts, <span class="keywordtype">char</span> *qname);
<a name="l01064"></a>01064 <span class="keywordtype">void</span>    dts_qstatPrint (<span class="keywordtype">char</span> *qname);
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri Apr 11 11:51:11 2014 for DTS by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.9 </small></address>
</body>
</html>
